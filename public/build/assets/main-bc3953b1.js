var hc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function pc(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Dr={},gc={get exports(){return Dr},set exports(t){Dr=t}};/*!
 * jQuery JavaScript Library v3.6.3
 * https://jquery.com/
 *
 * Includes Sizzle.js
 * https://sizzlejs.com/
 *
 * Copyright OpenJS Foundation and other contributors
 * Released under the MIT license
 * https://jquery.org/license
 *
 * Date: 2022-12-20T21:28Z
 */var aa;function il(){return aa||(aa=1,function(t){(function(e,n){t.exports=e.document?n(e,!0):function(i){if(!i.document)throw new Error("jQuery requires a window with a document");return n(i)}})(typeof window<"u"?window:hc,function(e,n){var i=[],o=Object.getPrototypeOf,u=i.slice,d=i.flat?function(s){return i.flat.call(s)}:function(s){return i.concat.apply([],s)},g=i.push,m=i.indexOf,T={},b=T.toString,A=T.hasOwnProperty,N=A.toString,P=N.call(Object),x={},D=function(a){return typeof a=="function"&&typeof a.nodeType!="number"&&typeof a.item!="function"},k=function(a){return a!=null&&a===a.window},z=e.document,B={type:!0,src:!0,nonce:!0,noModule:!0};function H(s,a,c){c=c||z;var h,y,_=c.createElement("script");if(_.text=s,a)for(h in B)y=a[h]||a.getAttribute&&a.getAttribute(h),y&&_.setAttribute(h,y);c.head.appendChild(_).parentNode.removeChild(_)}function Y(s){return s==null?s+"":typeof s=="object"||typeof s=="function"?T[b.call(s)]||"object":typeof s}var J="3.6.3",f=function(s,a){return new f.fn.init(s,a)};f.fn=f.prototype={jquery:J,constructor:f,length:0,toArray:function(){return u.call(this)},get:function(s){return s==null?u.call(this):s<0?this[s+this.length]:this[s]},pushStack:function(s){var a=f.merge(this.constructor(),s);return a.prevObject=this,a},each:function(s){return f.each(this,s)},map:function(s){return this.pushStack(f.map(this,function(a,c){return s.call(a,c,a)}))},slice:function(){return this.pushStack(u.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},even:function(){return this.pushStack(f.grep(this,function(s,a){return(a+1)%2}))},odd:function(){return this.pushStack(f.grep(this,function(s,a){return a%2}))},eq:function(s){var a=this.length,c=+s+(s<0?a:0);return this.pushStack(c>=0&&c<a?[this[c]]:[])},end:function(){return this.prevObject||this.constructor()},push:g,sort:i.sort,splice:i.splice},f.extend=f.fn.extend=function(){var s,a,c,h,y,_,v=arguments[0]||{},L=1,O=arguments.length,G=!1;for(typeof v=="boolean"&&(G=v,v=arguments[L]||{},L++),typeof v!="object"&&!D(v)&&(v={}),L===O&&(v=this,L--);L<O;L++)if((s=arguments[L])!=null)for(a in s)h=s[a],!(a==="__proto__"||v===h)&&(G&&h&&(f.isPlainObject(h)||(y=Array.isArray(h)))?(c=v[a],y&&!Array.isArray(c)?_=[]:!y&&!f.isPlainObject(c)?_={}:_=c,y=!1,v[a]=f.extend(G,_,h)):h!==void 0&&(v[a]=h));return v},f.extend({expando:"jQuery"+(J+Math.random()).replace(/\D/g,""),isReady:!0,error:function(s){throw new Error(s)},noop:function(){},isPlainObject:function(s){var a,c;return!s||b.call(s)!=="[object Object]"?!1:(a=o(s),a?(c=A.call(a,"constructor")&&a.constructor,typeof c=="function"&&N.call(c)===P):!0)},isEmptyObject:function(s){var a;for(a in s)return!1;return!0},globalEval:function(s,a,c){H(s,{nonce:a&&a.nonce},c)},each:function(s,a){var c,h=0;if(fe(s))for(c=s.length;h<c&&a.call(s[h],h,s[h])!==!1;h++);else for(h in s)if(a.call(s[h],h,s[h])===!1)break;return s},makeArray:function(s,a){var c=a||[];return s!=null&&(fe(Object(s))?f.merge(c,typeof s=="string"?[s]:s):g.call(c,s)),c},inArray:function(s,a,c){return a==null?-1:m.call(a,s,c)},merge:function(s,a){for(var c=+a.length,h=0,y=s.length;h<c;h++)s[y++]=a[h];return s.length=y,s},grep:function(s,a,c){for(var h,y=[],_=0,v=s.length,L=!c;_<v;_++)h=!a(s[_],_),h!==L&&y.push(s[_]);return y},map:function(s,a,c){var h,y,_=0,v=[];if(fe(s))for(h=s.length;_<h;_++)y=a(s[_],_,c),y!=null&&v.push(y);else for(_ in s)y=a(s[_],_,c),y!=null&&v.push(y);return d(v)},guid:1,support:x}),typeof Symbol=="function"&&(f.fn[Symbol.iterator]=i[Symbol.iterator]),f.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(s,a){T["[object "+a+"]"]=a.toLowerCase()});function fe(s){var a=!!s&&"length"in s&&s.length,c=Y(s);return D(s)||k(s)?!1:c==="array"||a===0||typeof a=="number"&&a>0&&a-1 in s}var ee=function(s){var a,c,h,y,_,v,L,O,G,q,ie,V,Z,be,Ae,ye,Qe,Ke,Tt,Be="sizzle"+1*new Date,Se=s.document,mt=0,Le=0,Ye=Sn(),Gn=Sn(),ji=Sn(),wt=Sn(),It=function(w,R){return w===R&&(ie=!0),0},wn={}.hasOwnProperty,yt=[],cn=yt.pop,xt=yt.push,un=yt.push,ws=yt.slice,Hn=function(w,R){for(var p=0,r=w.length;p<r;p++)if(w[p]===R)return p;return-1},Is="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",Re="[\\x20\\t\\r\\n\\f]",Un="(?:\\\\[\\da-fA-F]{1,6}"+Re+"?|\\\\[^\\r\\n\\f]|[\\w-]|[^\0-\\x7f])+",lr="\\["+Re+"*("+Un+")(?:"+Re+"*([*^$|!~]?=)"+Re+`*(?:'((?:\\\\.|[^\\\\'])*)'|"((?:\\\\.|[^\\\\"])*)"|(`+Un+"))|)"+Re+"*\\]",xs=":("+Un+`)(?:\\((('((?:\\\\.|[^\\\\'])*)'|"((?:\\\\.|[^\\\\"])*)")|((?:\\\\.|[^\\\\()[\\]]|`+lr+")*)|.*)\\)|)",Kr=new RegExp(Re+"+","g"),yi=new RegExp("^"+Re+"+|((?:^|[^\\\\])(?:\\\\.)*)"+Re+"+$","g"),Jr=new RegExp("^"+Re+"*,"+Re+"*"),cr=new RegExp("^"+Re+"*([>+~]|"+Re+")"+Re+"*"),eo=new RegExp(Re+"|>"),to=new RegExp(xs),no=new RegExp("^"+Un+"$"),Zn={ID:new RegExp("^#("+Un+")"),CLASS:new RegExp("^\\.("+Un+")"),TAG:new RegExp("^("+Un+"|[*])"),ATTR:new RegExp("^"+lr),PSEUDO:new RegExp("^"+xs),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+Re+"*(even|odd|(([+-]|)(\\d*)n|)"+Re+"*(?:([+-]|)"+Re+"*(\\d+)|))"+Re+"*\\)|)","i"),bool:new RegExp("^(?:"+Is+")$","i"),needsContext:new RegExp("^"+Re+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+Re+"*((?:-\\d)?\\d*)"+Re+"*\\)|)(?=[^-]|$)","i")},Yi=/HTML$/i,ur=/^(?:input|select|textarea|button)$/i,dr=/^h\d$/i,In=/^[^{]+\{\s*\[native \w/,fr=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,Ss=/[+~]/,dn=new RegExp("\\\\[\\da-fA-F]{1,6}"+Re+"?|\\\\([^\\r\\n\\f])","g"),fn=function(w,R){var p="0x"+w.slice(1)-65536;return R||(p<0?String.fromCharCode(p+65536):String.fromCharCode(p>>10|55296,p&1023|56320))},xn=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,hr=function(w,R){return R?w==="\0"?"ï¿½":w.slice(0,-1)+"\\"+w.charCodeAt(w.length-1).toString(16)+" ":"\\"+w},pr=function(){V()},Xi=_i(function(w){return w.disabled===!0&&w.nodeName.toLowerCase()==="fieldset"},{dir:"parentNode",next:"legend"});try{un.apply(yt=ws.call(Se.childNodes),Se.childNodes),yt[Se.childNodes.length].nodeType}catch{un={apply:yt.length?function(R,p){xt.apply(R,ws.call(p))}:function(R,p){for(var r=R.length,l=0;R[r++]=p[l++];);R.length=r-1}}}function He(w,R,p,r){var l,E,I,S,M,U,j,Q=R&&R.ownerDocument,se=R?R.nodeType:9;if(p=p||[],typeof w!="string"||!w||se!==1&&se!==9&&se!==11)return p;if(!r&&(V(R),R=R||Z,Ae)){if(se!==11&&(M=fr.exec(w)))if(l=M[1]){if(se===9)if(I=R.getElementById(l)){if(I.id===l)return p.push(I),p}else return p;else if(Q&&(I=Q.getElementById(l))&&Tt(R,I)&&I.id===l)return p.push(I),p}else{if(M[2])return un.apply(p,R.getElementsByTagName(w)),p;if((l=M[3])&&c.getElementsByClassName&&R.getElementsByClassName)return un.apply(p,R.getElementsByClassName(l)),p}if(c.qsa&&!wt[w+" "]&&(!ye||!ye.test(w))&&(se!==1||R.nodeName.toLowerCase()!=="object")){if(j=w,Q=R,se===1&&(eo.test(w)||cr.test(w))){for(Q=Ss.test(w)&&zn(R.parentNode)||R,(Q!==R||!c.scope)&&((S=R.getAttribute("id"))?S=S.replace(xn,hr):R.setAttribute("id",S=Be)),U=v(w),E=U.length;E--;)U[E]=(S?"#"+S:":scope")+" "+Kn(U[E]);j=U.join(",")}try{if(c.cssSupportsSelector&&!CSS.supports("selector(:is("+j+"))"))throw new Error;return un.apply(p,Q.querySelectorAll(j)),p}catch{wt(w,!0)}finally{S===Be&&R.removeAttribute("id")}}}return O(w.replace(yi,"$1"),R,p,r)}function Sn(){var w=[];function R(p,r){return w.push(p+" ")>h.cacheLength&&delete R[w.shift()],R[p+" "]=r}return R}function Mt(w){return w[Be]=!0,w}function Nt(w){var R=Z.createElement("fieldset");try{return!!w(R)}catch{return!1}finally{R.parentNode&&R.parentNode.removeChild(R),R=null}}function Cs(w,R){for(var p=w.split("|"),r=p.length;r--;)h.attrHandle[p[r]]=R}function Qn(w,R){var p=R&&w,r=p&&w.nodeType===1&&R.nodeType===1&&w.sourceIndex-R.sourceIndex;if(r)return r;if(p){for(;p=p.nextSibling;)if(p===R)return-1}return w?1:-1}function io(w){return function(R){var p=R.nodeName.toLowerCase();return p==="input"&&R.type===w}}function gr(w){return function(R){var p=R.nodeName.toLowerCase();return(p==="input"||p==="button")&&R.type===w}}function mr(w){return function(R){return"form"in R?R.parentNode&&R.disabled===!1?"label"in R?"label"in R.parentNode?R.parentNode.disabled===w:R.disabled===w:R.isDisabled===w||R.isDisabled!==!w&&Xi(R)===w:R.disabled===w:"label"in R?R.disabled===w:!1}}function Cn(w){return Mt(function(R){return R=+R,Mt(function(p,r){for(var l,E=w([],p.length,R),I=E.length;I--;)p[l=E[I]]&&(p[l]=!(r[l]=p[l]))})})}function zn(w){return w&&typeof w.getElementsByTagName<"u"&&w}c=He.support={},_=He.isXML=function(w){var R=w&&w.namespaceURI,p=w&&(w.ownerDocument||w).documentElement;return!Yi.test(R||p&&p.nodeName||"HTML")},V=He.setDocument=function(w){var R,p,r=w?w.ownerDocument||w:Se;return r==Z||r.nodeType!==9||!r.documentElement||(Z=r,be=Z.documentElement,Ae=!_(Z),Se!=Z&&(p=Z.defaultView)&&p.top!==p&&(p.addEventListener?p.addEventListener("unload",pr,!1):p.attachEvent&&p.attachEvent("onunload",pr)),c.scope=Nt(function(l){return be.appendChild(l).appendChild(Z.createElement("div")),typeof l.querySelectorAll<"u"&&!l.querySelectorAll(":scope fieldset div").length}),c.cssSupportsSelector=Nt(function(){return CSS.supports("selector(*)")&&Z.querySelectorAll(":is(:jqfake)")&&!CSS.supports("selector(:is(*,:jqfake))")}),c.attributes=Nt(function(l){return l.className="i",!l.getAttribute("className")}),c.getElementsByTagName=Nt(function(l){return l.appendChild(Z.createComment("")),!l.getElementsByTagName("*").length}),c.getElementsByClassName=In.test(Z.getElementsByClassName),c.getById=Nt(function(l){return be.appendChild(l).id=Be,!Z.getElementsByName||!Z.getElementsByName(Be).length}),c.getById?(h.filter.ID=function(l){var E=l.replace(dn,fn);return function(I){return I.getAttribute("id")===E}},h.find.ID=function(l,E){if(typeof E.getElementById<"u"&&Ae){var I=E.getElementById(l);return I?[I]:[]}}):(h.filter.ID=function(l){var E=l.replace(dn,fn);return function(I){var S=typeof I.getAttributeNode<"u"&&I.getAttributeNode("id");return S&&S.value===E}},h.find.ID=function(l,E){if(typeof E.getElementById<"u"&&Ae){var I,S,M,U=E.getElementById(l);if(U){if(I=U.getAttributeNode("id"),I&&I.value===l)return[U];for(M=E.getElementsByName(l),S=0;U=M[S++];)if(I=U.getAttributeNode("id"),I&&I.value===l)return[U]}return[]}}),h.find.TAG=c.getElementsByTagName?function(l,E){if(typeof E.getElementsByTagName<"u")return E.getElementsByTagName(l);if(c.qsa)return E.querySelectorAll(l)}:function(l,E){var I,S=[],M=0,U=E.getElementsByTagName(l);if(l==="*"){for(;I=U[M++];)I.nodeType===1&&S.push(I);return S}return U},h.find.CLASS=c.getElementsByClassName&&function(l,E){if(typeof E.getElementsByClassName<"u"&&Ae)return E.getElementsByClassName(l)},Qe=[],ye=[],(c.qsa=In.test(Z.querySelectorAll))&&(Nt(function(l){var E;be.appendChild(l).innerHTML="<a id='"+Be+"'></a><select id='"+Be+"-\r\\' msallowcapture=''><option selected=''></option></select>",l.querySelectorAll("[msallowcapture^='']").length&&ye.push("[*^$]="+Re+`*(?:''|"")`),l.querySelectorAll("[selected]").length||ye.push("\\["+Re+"*(?:value|"+Is+")"),l.querySelectorAll("[id~="+Be+"-]").length||ye.push("~="),E=Z.createElement("input"),E.setAttribute("name",""),l.appendChild(E),l.querySelectorAll("[name='']").length||ye.push("\\["+Re+"*name"+Re+"*="+Re+`*(?:''|"")`),l.querySelectorAll(":checked").length||ye.push(":checked"),l.querySelectorAll("a#"+Be+"+*").length||ye.push(".#.+[+~]"),l.querySelectorAll("\\\f"),ye.push("[\\r\\n\\f]")}),Nt(function(l){l.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var E=Z.createElement("input");E.setAttribute("type","hidden"),l.appendChild(E).setAttribute("name","D"),l.querySelectorAll("[name=d]").length&&ye.push("name"+Re+"*[*^$|!~]?="),l.querySelectorAll(":enabled").length!==2&&ye.push(":enabled",":disabled"),be.appendChild(l).disabled=!0,l.querySelectorAll(":disabled").length!==2&&ye.push(":enabled",":disabled"),l.querySelectorAll("*,:x"),ye.push(",.*:")})),(c.matchesSelector=In.test(Ke=be.matches||be.webkitMatchesSelector||be.mozMatchesSelector||be.oMatchesSelector||be.msMatchesSelector))&&Nt(function(l){c.disconnectedMatch=Ke.call(l,"*"),Ke.call(l,"[s!='']:x"),Qe.push("!=",xs)}),c.cssSupportsSelector||ye.push(":has"),ye=ye.length&&new RegExp(ye.join("|")),Qe=Qe.length&&new RegExp(Qe.join("|")),R=In.test(be.compareDocumentPosition),Tt=R||In.test(be.contains)?function(l,E){var I=l.nodeType===9&&l.documentElement||l,S=E&&E.parentNode;return l===S||!!(S&&S.nodeType===1&&(I.contains?I.contains(S):l.compareDocumentPosition&&l.compareDocumentPosition(S)&16))}:function(l,E){if(E){for(;E=E.parentNode;)if(E===l)return!0}return!1},It=R?function(l,E){if(l===E)return ie=!0,0;var I=!l.compareDocumentPosition-!E.compareDocumentPosition;return I||(I=(l.ownerDocument||l)==(E.ownerDocument||E)?l.compareDocumentPosition(E):1,I&1||!c.sortDetached&&E.compareDocumentPosition(l)===I?l==Z||l.ownerDocument==Se&&Tt(Se,l)?-1:E==Z||E.ownerDocument==Se&&Tt(Se,E)?1:q?Hn(q,l)-Hn(q,E):0:I&4?-1:1)}:function(l,E){if(l===E)return ie=!0,0;var I,S=0,M=l.parentNode,U=E.parentNode,j=[l],Q=[E];if(!M||!U)return l==Z?-1:E==Z?1:M?-1:U?1:q?Hn(q,l)-Hn(q,E):0;if(M===U)return Qn(l,E);for(I=l;I=I.parentNode;)j.unshift(I);for(I=E;I=I.parentNode;)Q.unshift(I);for(;j[S]===Q[S];)S++;return S?Qn(j[S],Q[S]):j[S]==Se?-1:Q[S]==Se?1:0}),Z},He.matches=function(w,R){return He(w,null,null,R)},He.matchesSelector=function(w,R){if(V(w),c.matchesSelector&&Ae&&!wt[R+" "]&&(!Qe||!Qe.test(R))&&(!ye||!ye.test(R)))try{var p=Ke.call(w,R);if(p||c.disconnectedMatch||w.document&&w.document.nodeType!==11)return p}catch{wt(R,!0)}return He(R,Z,null,[w]).length>0},He.contains=function(w,R){return(w.ownerDocument||w)!=Z&&V(w),Tt(w,R)},He.attr=function(w,R){(w.ownerDocument||w)!=Z&&V(w);var p=h.attrHandle[R.toLowerCase()],r=p&&wn.call(h.attrHandle,R.toLowerCase())?p(w,R,!Ae):void 0;return r!==void 0?r:c.attributes||!Ae?w.getAttribute(R):(r=w.getAttributeNode(R))&&r.specified?r.value:null},He.escape=function(w){return(w+"").replace(xn,hr)},He.error=function(w){throw new Error("Syntax error, unrecognized expression: "+w)},He.uniqueSort=function(w){var R,p=[],r=0,l=0;if(ie=!c.detectDuplicates,q=!c.sortStable&&w.slice(0),w.sort(It),ie){for(;R=w[l++];)R===w[l]&&(r=p.push(l));for(;r--;)w.splice(p[r],1)}return q=null,w},y=He.getText=function(w){var R,p="",r=0,l=w.nodeType;if(l){if(l===1||l===9||l===11){if(typeof w.textContent=="string")return w.textContent;for(w=w.firstChild;w;w=w.nextSibling)p+=y(w)}else if(l===3||l===4)return w.nodeValue}else for(;R=w[r++];)p+=y(R);return p},h=He.selectors={cacheLength:50,createPseudo:Mt,match:Zn,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(w){return w[1]=w[1].replace(dn,fn),w[3]=(w[3]||w[4]||w[5]||"").replace(dn,fn),w[2]==="~="&&(w[3]=" "+w[3]+" "),w.slice(0,4)},CHILD:function(w){return w[1]=w[1].toLowerCase(),w[1].slice(0,3)==="nth"?(w[3]||He.error(w[0]),w[4]=+(w[4]?w[5]+(w[6]||1):2*(w[3]==="even"||w[3]==="odd")),w[5]=+(w[7]+w[8]||w[3]==="odd")):w[3]&&He.error(w[0]),w},PSEUDO:function(w){var R,p=!w[6]&&w[2];return Zn.CHILD.test(w[0])?null:(w[3]?w[2]=w[4]||w[5]||"":p&&to.test(p)&&(R=v(p,!0))&&(R=p.indexOf(")",p.length-R)-p.length)&&(w[0]=w[0].slice(0,R),w[2]=p.slice(0,R)),w.slice(0,3))}},filter:{TAG:function(w){var R=w.replace(dn,fn).toLowerCase();return w==="*"?function(){return!0}:function(p){return p.nodeName&&p.nodeName.toLowerCase()===R}},CLASS:function(w){var R=Ye[w+" "];return R||(R=new RegExp("(^|"+Re+")"+w+"("+Re+"|$)"))&&Ye(w,function(p){return R.test(typeof p.className=="string"&&p.className||typeof p.getAttribute<"u"&&p.getAttribute("class")||"")})},ATTR:function(w,R,p){return function(r){var l=He.attr(r,w);return l==null?R==="!=":R?(l+="",R==="="?l===p:R==="!="?l!==p:R==="^="?p&&l.indexOf(p)===0:R==="*="?p&&l.indexOf(p)>-1:R==="$="?p&&l.slice(-p.length)===p:R==="~="?(" "+l.replace(Kr," ")+" ").indexOf(p)>-1:R==="|="?l===p||l.slice(0,p.length+1)===p+"-":!1):!0}},CHILD:function(w,R,p,r,l){var E=w.slice(0,3)!=="nth",I=w.slice(-4)!=="last",S=R==="of-type";return r===1&&l===0?function(M){return!!M.parentNode}:function(M,U,j){var Q,se,oe,ce,pe,_e,ve=E!==I?"nextSibling":"previousSibling",ge=M.parentNode,Ne=S&&M.nodeName.toLowerCase(),$e=!j&&!S,we=!1;if(ge){if(E){for(;ve;){for(ce=M;ce=ce[ve];)if(S?ce.nodeName.toLowerCase()===Ne:ce.nodeType===1)return!1;_e=ve=w==="only"&&!_e&&"nextSibling"}return!0}if(_e=[I?ge.firstChild:ge.lastChild],I&&$e){for(ce=ge,oe=ce[Be]||(ce[Be]={}),se=oe[ce.uniqueID]||(oe[ce.uniqueID]={}),Q=se[w]||[],pe=Q[0]===mt&&Q[1],we=pe&&Q[2],ce=pe&&ge.childNodes[pe];ce=++pe&&ce&&ce[ve]||(we=pe=0)||_e.pop();)if(ce.nodeType===1&&++we&&ce===M){se[w]=[mt,pe,we];break}}else if($e&&(ce=M,oe=ce[Be]||(ce[Be]={}),se=oe[ce.uniqueID]||(oe[ce.uniqueID]={}),Q=se[w]||[],pe=Q[0]===mt&&Q[1],we=pe),we===!1)for(;(ce=++pe&&ce&&ce[ve]||(we=pe=0)||_e.pop())&&!((S?ce.nodeName.toLowerCase()===Ne:ce.nodeType===1)&&++we&&($e&&(oe=ce[Be]||(ce[Be]={}),se=oe[ce.uniqueID]||(oe[ce.uniqueID]={}),se[w]=[mt,we]),ce===M)););return we-=l,we===r||we%r===0&&we/r>=0}}},PSEUDO:function(w,R){var p,r=h.pseudos[w]||h.setFilters[w.toLowerCase()]||He.error("unsupported pseudo: "+w);return r[Be]?r(R):r.length>1?(p=[w,w,"",R],h.setFilters.hasOwnProperty(w.toLowerCase())?Mt(function(l,E){for(var I,S=r(l,R),M=S.length;M--;)I=Hn(l,S[M]),l[I]=!(E[I]=S[M])}):function(l){return r(l,0,p)}):r}},pseudos:{not:Mt(function(w){var R=[],p=[],r=L(w.replace(yi,"$1"));return r[Be]?Mt(function(l,E,I,S){for(var M,U=r(l,null,S,[]),j=l.length;j--;)(M=U[j])&&(l[j]=!(E[j]=M))}):function(l,E,I){return R[0]=l,r(R,null,I,p),R[0]=null,!p.pop()}}),has:Mt(function(w){return function(R){return He(w,R).length>0}}),contains:Mt(function(w){return w=w.replace(dn,fn),function(R){return(R.textContent||y(R)).indexOf(w)>-1}}),lang:Mt(function(w){return no.test(w||"")||He.error("unsupported lang: "+w),w=w.replace(dn,fn).toLowerCase(),function(R){var p;do if(p=Ae?R.lang:R.getAttribute("xml:lang")||R.getAttribute("lang"))return p=p.toLowerCase(),p===w||p.indexOf(w+"-")===0;while((R=R.parentNode)&&R.nodeType===1);return!1}}),target:function(w){var R=s.location&&s.location.hash;return R&&R.slice(1)===w.id},root:function(w){return w===be},focus:function(w){return w===Z.activeElement&&(!Z.hasFocus||Z.hasFocus())&&!!(w.type||w.href||~w.tabIndex)},enabled:mr(!1),disabled:mr(!0),checked:function(w){var R=w.nodeName.toLowerCase();return R==="input"&&!!w.checked||R==="option"&&!!w.selected},selected:function(w){return w.parentNode&&w.parentNode.selectedIndex,w.selected===!0},empty:function(w){for(w=w.firstChild;w;w=w.nextSibling)if(w.nodeType<6)return!1;return!0},parent:function(w){return!h.pseudos.empty(w)},header:function(w){return dr.test(w.nodeName)},input:function(w){return ur.test(w.nodeName)},button:function(w){var R=w.nodeName.toLowerCase();return R==="input"&&w.type==="button"||R==="button"},text:function(w){var R;return w.nodeName.toLowerCase()==="input"&&w.type==="text"&&((R=w.getAttribute("type"))==null||R.toLowerCase()==="text")},first:Cn(function(){return[0]}),last:Cn(function(w,R){return[R-1]}),eq:Cn(function(w,R,p){return[p<0?p+R:p]}),even:Cn(function(w,R){for(var p=0;p<R;p+=2)w.push(p);return w}),odd:Cn(function(w,R){for(var p=1;p<R;p+=2)w.push(p);return w}),lt:Cn(function(w,R,p){for(var r=p<0?p+R:p>R?R:p;--r>=0;)w.push(r);return w}),gt:Cn(function(w,R,p){for(var r=p<0?p+R:p;++r<R;)w.push(r);return w})}},h.pseudos.nth=h.pseudos.eq;for(a in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})h.pseudos[a]=io(a);for(a in{submit:!0,reset:!0})h.pseudos[a]=gr(a);function As(){}As.prototype=h.filters=h.pseudos,h.setFilters=new As,v=He.tokenize=function(w,R){var p,r,l,E,I,S,M,U=Gn[w+" "];if(U)return R?0:U.slice(0);for(I=w,S=[],M=h.preFilter;I;){(!p||(r=Jr.exec(I)))&&(r&&(I=I.slice(r[0].length)||I),S.push(l=[])),p=!1,(r=cr.exec(I))&&(p=r.shift(),l.push({value:p,type:r[0].replace(yi," ")}),I=I.slice(p.length));for(E in h.filter)(r=Zn[E].exec(I))&&(!M[E]||(r=M[E](r)))&&(p=r.shift(),l.push({value:p,type:E,matches:r}),I=I.slice(p.length));if(!p)break}return R?I.length:I?He.error(w):Gn(w,S).slice(0)};function Kn(w){for(var R=0,p=w.length,r="";R<p;R++)r+=w[R].value;return r}function _i(w,R,p){var r=R.dir,l=R.next,E=l||r,I=p&&E==="parentNode",S=Le++;return R.first?function(M,U,j){for(;M=M[r];)if(M.nodeType===1||I)return w(M,U,j);return!1}:function(M,U,j){var Q,se,oe,ce=[mt,S];if(j){for(;M=M[r];)if((M.nodeType===1||I)&&w(M,U,j))return!0}else for(;M=M[r];)if(M.nodeType===1||I)if(oe=M[Be]||(M[Be]={}),se=oe[M.uniqueID]||(oe[M.uniqueID]={}),l&&l===M.nodeName.toLowerCase())M=M[r]||M;else{if((Q=se[E])&&Q[0]===mt&&Q[1]===S)return ce[2]=Q[2];if(se[E]=ce,ce[2]=w(M,U,j))return!0}return!1}}function Ei(w){return w.length>1?function(R,p,r){for(var l=w.length;l--;)if(!w[l](R,p,r))return!1;return!0}:w[0]}function Vn(w,R,p){for(var r=0,l=R.length;r<l;r++)He(w,R[r],p);return p}function vi(w,R,p,r,l){for(var E,I=[],S=0,M=w.length,U=R!=null;S<M;S++)(E=w[S])&&(!p||p(E,r,l))&&(I.push(E),U&&R.push(S));return I}function Jn(w,R,p,r,l,E){return r&&!r[Be]&&(r=Jn(r)),l&&!l[Be]&&(l=Jn(l,E)),Mt(function(I,S,M,U){var j,Q,se,oe=[],ce=[],pe=S.length,_e=I||Vn(R||"*",M.nodeType?[M]:M,[]),ve=w&&(I||!R)?vi(_e,oe,w,M,U):_e,ge=p?l||(I?w:pe||r)?[]:S:ve;if(p&&p(ve,ge,M,U),r)for(j=vi(ge,ce),r(j,[],M,U),Q=j.length;Q--;)(se=j[Q])&&(ge[ce[Q]]=!(ve[ce[Q]]=se));if(I){if(l||w){if(l){for(j=[],Q=ge.length;Q--;)(se=ge[Q])&&j.push(ve[Q]=se);l(null,ge=[],j,U)}for(Q=ge.length;Q--;)(se=ge[Q])&&(j=l?Hn(I,se):oe[Q])>-1&&(I[j]=!(S[j]=se))}}else ge=vi(ge===S?ge.splice(pe,ge.length):ge),l?l(null,S,ge,U):un.apply(S,ge)})}function ei(w){for(var R,p,r,l=w.length,E=h.relative[w[0].type],I=E||h.relative[" "],S=E?1:0,M=_i(function(Q){return Q===R},I,!0),U=_i(function(Q){return Hn(R,Q)>-1},I,!0),j=[function(Q,se,oe){var ce=!E&&(oe||se!==G)||((R=se).nodeType?M(Q,se,oe):U(Q,se,oe));return R=null,ce}];S<l;S++)if(p=h.relative[w[S].type])j=[_i(Ei(j),p)];else{if(p=h.filter[w[S].type].apply(null,w[S].matches),p[Be]){for(r=++S;r<l&&!h.relative[w[r].type];r++);return Jn(S>1&&Ei(j),S>1&&Kn(w.slice(0,S-1).concat({value:w[S-2].type===" "?"*":""})).replace(yi,"$1"),p,S<r&&ei(w.slice(S,r)),r<l&&ei(w=w.slice(r)),r<l&&Kn(w))}j.push(p)}return Ei(j)}function so(w,R){var p=R.length>0,r=w.length>0,l=function(E,I,S,M,U){var j,Q,se,oe=0,ce="0",pe=E&&[],_e=[],ve=G,ge=E||r&&h.find.TAG("*",U),Ne=mt+=ve==null?1:Math.random()||.1,$e=ge.length;for(U&&(G=I==Z||I||U);ce!==$e&&(j=ge[ce])!=null;ce++){if(r&&j){for(Q=0,!I&&j.ownerDocument!=Z&&(V(j),S=!Ae);se=w[Q++];)if(se(j,I||Z,S)){M.push(j);break}U&&(mt=Ne)}p&&((j=!se&&j)&&oe--,E&&pe.push(j))}if(oe+=ce,p&&ce!==oe){for(Q=0;se=R[Q++];)se(pe,_e,I,S);if(E){if(oe>0)for(;ce--;)pe[ce]||_e[ce]||(_e[ce]=cn.call(M));_e=vi(_e)}un.apply(M,_e),U&&!E&&_e.length>0&&oe+R.length>1&&He.uniqueSort(M)}return U&&(mt=Ne,G=ve),pe};return p?Mt(l):l}return L=He.compile=function(w,R){var p,r=[],l=[],E=ji[w+" "];if(!E){for(R||(R=v(w)),p=R.length;p--;)E=ei(R[p]),E[Be]?r.push(E):l.push(E);E=ji(w,so(l,r)),E.selector=w}return E},O=He.select=function(w,R,p,r){var l,E,I,S,M,U=typeof w=="function"&&w,j=!r&&v(w=U.selector||w);if(p=p||[],j.length===1){if(E=j[0]=j[0].slice(0),E.length>2&&(I=E[0]).type==="ID"&&R.nodeType===9&&Ae&&h.relative[E[1].type]){if(R=(h.find.ID(I.matches[0].replace(dn,fn),R)||[])[0],R)U&&(R=R.parentNode);else return p;w=w.slice(E.shift().value.length)}for(l=Zn.needsContext.test(w)?0:E.length;l--&&(I=E[l],!h.relative[S=I.type]);)if((M=h.find[S])&&(r=M(I.matches[0].replace(dn,fn),Ss.test(E[0].type)&&zn(R.parentNode)||R))){if(E.splice(l,1),w=r.length&&Kn(E),!w)return un.apply(p,r),p;break}}return(U||L(w,j))(r,R,!Ae,p,!R||Ss.test(w)&&zn(R.parentNode)||R),p},c.sortStable=Be.split("").sort(It).join("")===Be,c.detectDuplicates=!!ie,V(),c.sortDetached=Nt(function(w){return w.compareDocumentPosition(Z.createElement("fieldset"))&1}),Nt(function(w){return w.innerHTML="<a href='#'></a>",w.firstChild.getAttribute("href")==="#"})||Cs("type|href|height|width",function(w,R,p){if(!p)return w.getAttribute(R,R.toLowerCase()==="type"?1:2)}),(!c.attributes||!Nt(function(w){return w.innerHTML="<input/>",w.firstChild.setAttribute("value",""),w.firstChild.getAttribute("value")===""}))&&Cs("value",function(w,R,p){if(!p&&w.nodeName.toLowerCase()==="input")return w.defaultValue}),Nt(function(w){return w.getAttribute("disabled")==null})||Cs(Is,function(w,R,p){var r;if(!p)return w[R]===!0?R.toLowerCase():(r=w.getAttributeNode(R))&&r.specified?r.value:null}),He}(e);f.find=ee,f.expr=ee.selectors,f.expr[":"]=f.expr.pseudos,f.uniqueSort=f.unique=ee.uniqueSort,f.text=ee.getText,f.isXMLDoc=ee.isXML,f.contains=ee.contains,f.escapeSelector=ee.escape;var W=function(s,a,c){for(var h=[],y=c!==void 0;(s=s[a])&&s.nodeType!==9;)if(s.nodeType===1){if(y&&f(s).is(c))break;h.push(s)}return h},X=function(s,a){for(var c=[];s;s=s.nextSibling)s.nodeType===1&&s!==a&&c.push(s);return c},ae=f.expr.match.needsContext;function de(s,a){return s.nodeName&&s.nodeName.toLowerCase()===a.toLowerCase()}var me=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function re(s,a,c){return D(a)?f.grep(s,function(h,y){return!!a.call(h,y,h)!==c}):a.nodeType?f.grep(s,function(h){return h===a!==c}):typeof a!="string"?f.grep(s,function(h){return m.call(a,h)>-1!==c}):f.filter(a,s,c)}f.filter=function(s,a,c){var h=a[0];return c&&(s=":not("+s+")"),a.length===1&&h.nodeType===1?f.find.matchesSelector(h,s)?[h]:[]:f.find.matches(s,f.grep(a,function(y){return y.nodeType===1}))},f.fn.extend({find:function(s){var a,c,h=this.length,y=this;if(typeof s!="string")return this.pushStack(f(s).filter(function(){for(a=0;a<h;a++)if(f.contains(y[a],this))return!0}));for(c=this.pushStack([]),a=0;a<h;a++)f.find(s,y[a],c);return h>1?f.uniqueSort(c):c},filter:function(s){return this.pushStack(re(this,s||[],!1))},not:function(s){return this.pushStack(re(this,s||[],!0))},is:function(s){return!!re(this,typeof s=="string"&&ae.test(s)?f(s):s||[],!1).length}});var xe,K=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/,le=f.fn.init=function(s,a,c){var h,y;if(!s)return this;if(c=c||xe,typeof s=="string")if(s[0]==="<"&&s[s.length-1]===">"&&s.length>=3?h=[null,s,null]:h=K.exec(s),h&&(h[1]||!a))if(h[1]){if(a=a instanceof f?a[0]:a,f.merge(this,f.parseHTML(h[1],a&&a.nodeType?a.ownerDocument||a:z,!0)),me.test(h[1])&&f.isPlainObject(a))for(h in a)D(this[h])?this[h](a[h]):this.attr(h,a[h]);return this}else return y=z.getElementById(h[2]),y&&(this[0]=y,this.length=1),this;else return!a||a.jquery?(a||c).find(s):this.constructor(a).find(s);else{if(s.nodeType)return this[0]=s,this.length=1,this;if(D(s))return c.ready!==void 0?c.ready(s):s(f)}return f.makeArray(s,this)};le.prototype=f.fn,xe=f(z);var F=/^(?:parents|prev(?:Until|All))/,C={children:!0,contents:!0,next:!0,prev:!0};f.fn.extend({has:function(s){var a=f(s,this),c=a.length;return this.filter(function(){for(var h=0;h<c;h++)if(f.contains(this,a[h]))return!0})},closest:function(s,a){var c,h=0,y=this.length,_=[],v=typeof s!="string"&&f(s);if(!ae.test(s)){for(;h<y;h++)for(c=this[h];c&&c!==a;c=c.parentNode)if(c.nodeType<11&&(v?v.index(c)>-1:c.nodeType===1&&f.find.matchesSelector(c,s))){_.push(c);break}}return this.pushStack(_.length>1?f.uniqueSort(_):_)},index:function(s){return s?typeof s=="string"?m.call(f(s),this[0]):m.call(this,s.jquery?s[0]:s):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(s,a){return this.pushStack(f.uniqueSort(f.merge(this.get(),f(s,a))))},addBack:function(s){return this.add(s==null?this.prevObject:this.prevObject.filter(s))}});function te(s,a){for(;(s=s[a])&&s.nodeType!==1;);return s}f.each({parent:function(s){var a=s.parentNode;return a&&a.nodeType!==11?a:null},parents:function(s){return W(s,"parentNode")},parentsUntil:function(s,a,c){return W(s,"parentNode",c)},next:function(s){return te(s,"nextSibling")},prev:function(s){return te(s,"previousSibling")},nextAll:function(s){return W(s,"nextSibling")},prevAll:function(s){return W(s,"previousSibling")},nextUntil:function(s,a,c){return W(s,"nextSibling",c)},prevUntil:function(s,a,c){return W(s,"previousSibling",c)},siblings:function(s){return X((s.parentNode||{}).firstChild,s)},children:function(s){return X(s.firstChild)},contents:function(s){return s.contentDocument!=null&&o(s.contentDocument)?s.contentDocument:(de(s,"template")&&(s=s.content||s),f.merge([],s.childNodes))}},function(s,a){f.fn[s]=function(c,h){var y=f.map(this,a,c);return s.slice(-5)!=="Until"&&(h=c),h&&typeof h=="string"&&(y=f.filter(h,y)),this.length>1&&(C[s]||f.uniqueSort(y),F.test(s)&&y.reverse()),this.pushStack(y)}});var ue=/[^\x20\t\r\n\f]+/g;function he(s){var a={};return f.each(s.match(ue)||[],function(c,h){a[h]=!0}),a}f.Callbacks=function(s){s=typeof s=="string"?he(s):f.extend({},s);var a,c,h,y,_=[],v=[],L=-1,O=function(){for(y=y||s.once,h=a=!0;v.length;L=-1)for(c=v.shift();++L<_.length;)_[L].apply(c[0],c[1])===!1&&s.stopOnFalse&&(L=_.length,c=!1);s.memory||(c=!1),a=!1,y&&(c?_=[]:_="")},G={add:function(){return _&&(c&&!a&&(L=_.length-1,v.push(c)),function q(ie){f.each(ie,function(V,Z){D(Z)?(!s.unique||!G.has(Z))&&_.push(Z):Z&&Z.length&&Y(Z)!=="string"&&q(Z)})}(arguments),c&&!a&&O()),this},remove:function(){return f.each(arguments,function(q,ie){for(var V;(V=f.inArray(ie,_,V))>-1;)_.splice(V,1),V<=L&&L--}),this},has:function(q){return q?f.inArray(q,_)>-1:_.length>0},empty:function(){return _&&(_=[]),this},disable:function(){return y=v=[],_=c="",this},disabled:function(){return!_},lock:function(){return y=v=[],!c&&!a&&(_=c=""),this},locked:function(){return!!y},fireWith:function(q,ie){return y||(ie=ie||[],ie=[q,ie.slice?ie.slice():ie],v.push(ie),a||O()),this},fire:function(){return G.fireWith(this,arguments),this},fired:function(){return!!h}};return G};function ke(s){return s}function Fe(s){throw s}function pt(s,a,c,h){var y;try{s&&D(y=s.promise)?y.call(s).done(a).fail(c):s&&D(y=s.then)?y.call(s,a,c):a.apply(void 0,[s].slice(h))}catch(_){c.apply(void 0,[_])}}f.extend({Deferred:function(s){var a=[["notify","progress",f.Callbacks("memory"),f.Callbacks("memory"),2],["resolve","done",f.Callbacks("once memory"),f.Callbacks("once memory"),0,"resolved"],["reject","fail",f.Callbacks("once memory"),f.Callbacks("once memory"),1,"rejected"]],c="pending",h={state:function(){return c},always:function(){return y.done(arguments).fail(arguments),this},catch:function(_){return h.then(null,_)},pipe:function(){var _=arguments;return f.Deferred(function(v){f.each(a,function(L,O){var G=D(_[O[4]])&&_[O[4]];y[O[1]](function(){var q=G&&G.apply(this,arguments);q&&D(q.promise)?q.promise().progress(v.notify).done(v.resolve).fail(v.reject):v[O[0]+"With"](this,G?[q]:arguments)})}),_=null}).promise()},then:function(_,v,L){var O=0;function G(q,ie,V,Z){return function(){var be=this,Ae=arguments,ye=function(){var Ke,Tt;if(!(q<O)){if(Ke=V.apply(be,Ae),Ke===ie.promise())throw new TypeError("Thenable self-resolution");Tt=Ke&&(typeof Ke=="object"||typeof Ke=="function")&&Ke.then,D(Tt)?Z?Tt.call(Ke,G(O,ie,ke,Z),G(O,ie,Fe,Z)):(O++,Tt.call(Ke,G(O,ie,ke,Z),G(O,ie,Fe,Z),G(O,ie,ke,ie.notifyWith))):(V!==ke&&(be=void 0,Ae=[Ke]),(Z||ie.resolveWith)(be,Ae))}},Qe=Z?ye:function(){try{ye()}catch(Ke){f.Deferred.exceptionHook&&f.Deferred.exceptionHook(Ke,Qe.stackTrace),q+1>=O&&(V!==Fe&&(be=void 0,Ae=[Ke]),ie.rejectWith(be,Ae))}};q?Qe():(f.Deferred.getStackHook&&(Qe.stackTrace=f.Deferred.getStackHook()),e.setTimeout(Qe))}}return f.Deferred(function(q){a[0][3].add(G(0,q,D(L)?L:ke,q.notifyWith)),a[1][3].add(G(0,q,D(_)?_:ke)),a[2][3].add(G(0,q,D(v)?v:Fe))}).promise()},promise:function(_){return _!=null?f.extend(_,h):h}},y={};return f.each(a,function(_,v){var L=v[2],O=v[5];h[v[1]]=L.add,O&&L.add(function(){c=O},a[3-_][2].disable,a[3-_][3].disable,a[0][2].lock,a[0][3].lock),L.add(v[3].fire),y[v[0]]=function(){return y[v[0]+"With"](this===y?void 0:this,arguments),this},y[v[0]+"With"]=L.fireWith}),h.promise(y),s&&s.call(y,y),y},when:function(s){var a=arguments.length,c=a,h=Array(c),y=u.call(arguments),_=f.Deferred(),v=function(L){return function(O){h[L]=this,y[L]=arguments.length>1?u.call(arguments):O,--a||_.resolveWith(h,y)}};if(a<=1&&(pt(s,_.done(v(c)).resolve,_.reject,!a),_.state()==="pending"||D(y[c]&&y[c].then)))return _.then();for(;c--;)pt(y[c],v(c),_.reject);return _.promise()}});var Ie=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;f.Deferred.exceptionHook=function(s,a){e.console&&e.console.warn&&s&&Ie.test(s.name)&&e.console.warn("jQuery.Deferred exception: "+s.message,s.stack,a)},f.readyException=function(s){e.setTimeout(function(){throw s})};var We=f.Deferred();f.fn.ready=function(s){return We.then(s).catch(function(a){f.readyException(a)}),this},f.extend({isReady:!1,readyWait:1,ready:function(s){(s===!0?--f.readyWait:f.isReady)||(f.isReady=!0,!(s!==!0&&--f.readyWait>0)&&We.resolveWith(z,[f]))}}),f.ready.then=We.then;function Ze(){z.removeEventListener("DOMContentLoaded",Ze),e.removeEventListener("load",Ze),f.ready()}z.readyState==="complete"||z.readyState!=="loading"&&!z.documentElement.doScroll?e.setTimeout(f.ready):(z.addEventListener("DOMContentLoaded",Ze),e.addEventListener("load",Ze));var et=function(s,a,c,h,y,_,v){var L=0,O=s.length,G=c==null;if(Y(c)==="object"){y=!0;for(L in c)et(s,a,L,c[L],!0,_,v)}else if(h!==void 0&&(y=!0,D(h)||(v=!0),G&&(v?(a.call(s,h),a=null):(G=a,a=function(q,ie,V){return G.call(f(q),V)})),a))for(;L<O;L++)a(s[L],c,v?h:h.call(s[L],L,a(s[L],c)));return y?s:G?a.call(s):O?a(s[0],c):_},Xe=/^-ms-/,Ce=/-([a-z])/g;function as(s,a){return a.toUpperCase()}function ut(s){return s.replace(Xe,"ms-").replace(Ce,as)}var Wt=function(s){return s.nodeType===1||s.nodeType===9||!+s.nodeType};function $t(){this.expando=f.expando+$t.uid++}$t.uid=1,$t.prototype={cache:function(s){var a=s[this.expando];return a||(a={},Wt(s)&&(s.nodeType?s[this.expando]=a:Object.defineProperty(s,this.expando,{value:a,configurable:!0}))),a},set:function(s,a,c){var h,y=this.cache(s);if(typeof a=="string")y[ut(a)]=c;else for(h in a)y[ut(h)]=a[h];return y},get:function(s,a){return a===void 0?this.cache(s):s[this.expando]&&s[this.expando][ut(a)]},access:function(s,a,c){return a===void 0||a&&typeof a=="string"&&c===void 0?this.get(s,a):(this.set(s,a,c),c!==void 0?c:a)},remove:function(s,a){var c,h=s[this.expando];if(h!==void 0){if(a!==void 0)for(Array.isArray(a)?a=a.map(ut):(a=ut(a),a=a in h?[a]:a.match(ue)||[]),c=a.length;c--;)delete h[a[c]];(a===void 0||f.isEmptyObject(h))&&(s.nodeType?s[this.expando]=void 0:delete s[this.expando])}},hasData:function(s){var a=s[this.expando];return a!==void 0&&!f.isEmptyObject(a)}};var Ee=new $t,Te=new $t,tn=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,si=/[A-Z]/g;function Di(s){return s==="true"?!0:s==="false"?!1:s==="null"?null:s===+s+""?+s:tn.test(s)?JSON.parse(s):s}function ri(s,a,c){var h;if(c===void 0&&s.nodeType===1)if(h="data-"+a.replace(si,"-$&").toLowerCase(),c=s.getAttribute(h),typeof c=="string"){try{c=Di(c)}catch{}Te.set(s,a,c)}else c=void 0;return c}f.extend({hasData:function(s){return Te.hasData(s)||Ee.hasData(s)},data:function(s,a,c){return Te.access(s,a,c)},removeData:function(s,a){Te.remove(s,a)},_data:function(s,a,c){return Ee.access(s,a,c)},_removeData:function(s,a){Ee.remove(s,a)}}),f.fn.extend({data:function(s,a){var c,h,y,_=this[0],v=_&&_.attributes;if(s===void 0){if(this.length&&(y=Te.get(_),_.nodeType===1&&!Ee.get(_,"hasDataAttrs"))){for(c=v.length;c--;)v[c]&&(h=v[c].name,h.indexOf("data-")===0&&(h=ut(h.slice(5)),ri(_,h,y[h])));Ee.set(_,"hasDataAttrs",!0)}return y}return typeof s=="object"?this.each(function(){Te.set(this,s)}):et(this,function(L){var O;if(_&&L===void 0)return O=Te.get(_,s),O!==void 0||(O=ri(_,s),O!==void 0)?O:void 0;this.each(function(){Te.set(this,s,L)})},null,a,arguments.length>1,null,!0)},removeData:function(s){return this.each(function(){Te.remove(this,s)})}}),f.extend({queue:function(s,a,c){var h;if(s)return a=(a||"fx")+"queue",h=Ee.get(s,a),c&&(!h||Array.isArray(c)?h=Ee.access(s,a,f.makeArray(c)):h.push(c)),h||[]},dequeue:function(s,a){a=a||"fx";var c=f.queue(s,a),h=c.length,y=c.shift(),_=f._queueHooks(s,a),v=function(){f.dequeue(s,a)};y==="inprogress"&&(y=c.shift(),h--),y&&(a==="fx"&&c.unshift("inprogress"),delete _.stop,y.call(s,v,_)),!h&&_&&_.empty.fire()},_queueHooks:function(s,a){var c=a+"queueHooks";return Ee.get(s,c)||Ee.access(s,c,{empty:f.Callbacks("once memory").add(function(){Ee.remove(s,[a+"queue",c])})})}}),f.fn.extend({queue:function(s,a){var c=2;return typeof s!="string"&&(a=s,s="fx",c--),arguments.length<c?f.queue(this[0],s):a===void 0?this:this.each(function(){var h=f.queue(this,s,a);f._queueHooks(this,s),s==="fx"&&h[0]!=="inprogress"&&f.dequeue(this,s)})},dequeue:function(s){return this.each(function(){f.dequeue(this,s)})},clearQueue:function(s){return this.queue(s||"fx",[])},promise:function(s,a){var c,h=1,y=f.Deferred(),_=this,v=this.length,L=function(){--h||y.resolveWith(_,[_])};for(typeof s!="string"&&(a=s,s=void 0),s=s||"fx";v--;)c=Ee.get(_[v],s+"queueHooks"),c&&c.empty&&(h++,c.empty.add(L));return L(),y.promise(a)}});var $s=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,oi=new RegExp("^(?:([+-])=|)("+$s+")([a-z%]*)$","i"),nn=["Top","Right","Bottom","Left"],Pt=z.documentElement,_n=function(s){return f.contains(s.ownerDocument,s)},Li={composed:!0};Pt.getRootNode&&(_n=function(s){return f.contains(s.ownerDocument,s)||s.getRootNode(Li)===s.ownerDocument});var Ln=function(s,a){return s=a||s,s.style.display==="none"||s.style.display===""&&_n(s)&&f.css(s,"display")==="none"};function Pi(s,a,c,h){var y,_,v=20,L=h?function(){return h.cur()}:function(){return f.css(s,a,"")},O=L(),G=c&&c[3]||(f.cssNumber[a]?"":"px"),q=s.nodeType&&(f.cssNumber[a]||G!=="px"&&+O)&&oi.exec(f.css(s,a));if(q&&q[3]!==G){for(O=O/2,G=G||q[3],q=+O||1;v--;)f.style(s,a,q+G),(1-_)*(1-(_=L()/O||.5))<=0&&(v=0),q=q/_;q=q*2,f.style(s,a,q+G),c=c||[]}return c&&(q=+q||+O||0,y=c[1]?q+(c[1]+1)*c[2]:+c[2],h&&(h.unit=G,h.start=q,h.end=y)),y}var Bs={};function qr(s){var a,c=s.ownerDocument,h=s.nodeName,y=Bs[h];return y||(a=c.body.appendChild(c.createElement(h)),y=f.css(a,"display"),a.parentNode.removeChild(a),y==="none"&&(y="block"),Bs[h]=y,y)}function Bt(s,a){for(var c,h,y=[],_=0,v=s.length;_<v;_++)h=s[_],h.style&&(c=h.style.display,a?(c==="none"&&(y[_]=Ee.get(h,"display")||null,y[_]||(h.style.display="")),h.style.display===""&&Ln(h)&&(y[_]=qr(h))):c!=="none"&&(y[_]="none",Ee.set(h,"display",c)));for(_=0;_<v;_++)y[_]!=null&&(s[_].style.display=y[_]);return s}f.fn.extend({show:function(){return Bt(this,!0)},hide:function(){return Bt(this)},toggle:function(s){return typeof s=="boolean"?s?this.show():this.hide():this.each(function(){Ln(this)?f(this).show():f(this).hide()})}});var tt=/^(?:checkbox|radio)$/i,Et=/<([a-z][^\/\0>\x20\t\r\n\f]*)/i,vt=/^$|^module$|\/(?:java|ecma)script/i;(function(){var s=z.createDocumentFragment(),a=s.appendChild(z.createElement("div")),c=z.createElement("input");c.setAttribute("type","radio"),c.setAttribute("checked","checked"),c.setAttribute("name","t"),a.appendChild(c),x.checkClone=a.cloneNode(!0).cloneNode(!0).lastChild.checked,a.innerHTML="<textarea>x</textarea>",x.noCloneChecked=!!a.cloneNode(!0).lastChild.defaultValue,a.innerHTML="<option></option>",x.option=!!a.lastChild})();var Ve={thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};Ve.tbody=Ve.tfoot=Ve.colgroup=Ve.caption=Ve.thead,Ve.th=Ve.td,x.option||(Ve.optgroup=Ve.option=[1,"<select multiple='multiple'>","</select>"]);function at(s,a){var c;return typeof s.getElementsByTagName<"u"?c=s.getElementsByTagName(a||"*"):typeof s.querySelectorAll<"u"?c=s.querySelectorAll(a||"*"):c=[],a===void 0||a&&de(s,a)?f.merge([s],c):c}function En(s,a){for(var c=0,h=s.length;c<h;c++)Ee.set(s[c],"globalEval",!a||Ee.get(a[c],"globalEval"))}var Pn=/<|&#?\w+;/;function Mn(s,a,c,h,y){for(var _,v,L,O,G,q,ie=a.createDocumentFragment(),V=[],Z=0,be=s.length;Z<be;Z++)if(_=s[Z],_||_===0)if(Y(_)==="object")f.merge(V,_.nodeType?[_]:_);else if(!Pn.test(_))V.push(a.createTextNode(_));else{for(v=v||ie.appendChild(a.createElement("div")),L=(Et.exec(_)||["",""])[1].toLowerCase(),O=Ve[L]||Ve._default,v.innerHTML=O[1]+f.htmlPrefilter(_)+O[2],q=O[0];q--;)v=v.lastChild;f.merge(V,v.childNodes),v=ie.firstChild,v.textContent=""}for(ie.textContent="",Z=0;_=V[Z++];){if(h&&f.inArray(_,h)>-1){y&&y.push(_);continue}if(G=_n(_),v=at(ie.appendChild(_),"script"),G&&En(v),c)for(q=0;_=v[q++];)vt.test(_.type||"")&&c.push(_)}return ie}var ls=/^([^.]*)(?:\.(.+)|)/;function vn(){return!0}function Gt(){return!1}function Gs(s,a){return s===cs()==(a==="focus")}function cs(){try{return z.activeElement}catch{}}function ai(s,a,c,h,y,_){var v,L;if(typeof a=="object"){typeof c!="string"&&(h=h||c,c=void 0);for(L in a)ai(s,L,c,h,a[L],_);return s}if(h==null&&y==null?(y=c,h=c=void 0):y==null&&(typeof c=="string"?(y=h,h=void 0):(y=h,h=c,c=void 0)),y===!1)y=Gt;else if(!y)return s;return _===1&&(v=y,y=function(O){return f().off(O),v.apply(this,arguments)},y.guid=v.guid||(v.guid=f.guid++)),s.each(function(){f.event.add(this,a,y,h,c)})}f.event={global:{},add:function(s,a,c,h,y){var _,v,L,O,G,q,ie,V,Z,be,Ae,ye=Ee.get(s);if(Wt(s))for(c.handler&&(_=c,c=_.handler,y=_.selector),y&&f.find.matchesSelector(Pt,y),c.guid||(c.guid=f.guid++),(O=ye.events)||(O=ye.events=Object.create(null)),(v=ye.handle)||(v=ye.handle=function(Qe){return typeof f<"u"&&f.event.triggered!==Qe.type?f.event.dispatch.apply(s,arguments):void 0}),a=(a||"").match(ue)||[""],G=a.length;G--;)L=ls.exec(a[G])||[],Z=Ae=L[1],be=(L[2]||"").split(".").sort(),Z&&(ie=f.event.special[Z]||{},Z=(y?ie.delegateType:ie.bindType)||Z,ie=f.event.special[Z]||{},q=f.extend({type:Z,origType:Ae,data:h,handler:c,guid:c.guid,selector:y,needsContext:y&&f.expr.match.needsContext.test(y),namespace:be.join(".")},_),(V=O[Z])||(V=O[Z]=[],V.delegateCount=0,(!ie.setup||ie.setup.call(s,h,be,v)===!1)&&s.addEventListener&&s.addEventListener(Z,v)),ie.add&&(ie.add.call(s,q),q.handler.guid||(q.handler.guid=c.guid)),y?V.splice(V.delegateCount++,0,q):V.push(q),f.event.global[Z]=!0)},remove:function(s,a,c,h,y){var _,v,L,O,G,q,ie,V,Z,be,Ae,ye=Ee.hasData(s)&&Ee.get(s);if(!(!ye||!(O=ye.events))){for(a=(a||"").match(ue)||[""],G=a.length;G--;){if(L=ls.exec(a[G])||[],Z=Ae=L[1],be=(L[2]||"").split(".").sort(),!Z){for(Z in O)f.event.remove(s,Z+a[G],c,h,!0);continue}for(ie=f.event.special[Z]||{},Z=(h?ie.delegateType:ie.bindType)||Z,V=O[Z]||[],L=L[2]&&new RegExp("(^|\\.)"+be.join("\\.(?:.*\\.|)")+"(\\.|$)"),v=_=V.length;_--;)q=V[_],(y||Ae===q.origType)&&(!c||c.guid===q.guid)&&(!L||L.test(q.namespace))&&(!h||h===q.selector||h==="**"&&q.selector)&&(V.splice(_,1),q.selector&&V.delegateCount--,ie.remove&&ie.remove.call(s,q));v&&!V.length&&((!ie.teardown||ie.teardown.call(s,be,ye.handle)===!1)&&f.removeEvent(s,Z,ye.handle),delete O[Z])}f.isEmptyObject(O)&&Ee.remove(s,"handle events")}},dispatch:function(s){var a,c,h,y,_,v,L=new Array(arguments.length),O=f.event.fix(s),G=(Ee.get(this,"events")||Object.create(null))[O.type]||[],q=f.event.special[O.type]||{};for(L[0]=O,a=1;a<arguments.length;a++)L[a]=arguments[a];if(O.delegateTarget=this,!(q.preDispatch&&q.preDispatch.call(this,O)===!1)){for(v=f.event.handlers.call(this,O,G),a=0;(y=v[a++])&&!O.isPropagationStopped();)for(O.currentTarget=y.elem,c=0;(_=y.handlers[c++])&&!O.isImmediatePropagationStopped();)(!O.rnamespace||_.namespace===!1||O.rnamespace.test(_.namespace))&&(O.handleObj=_,O.data=_.data,h=((f.event.special[_.origType]||{}).handle||_.handler).apply(y.elem,L),h!==void 0&&(O.result=h)===!1&&(O.preventDefault(),O.stopPropagation()));return q.postDispatch&&q.postDispatch.call(this,O),O.result}},handlers:function(s,a){var c,h,y,_,v,L=[],O=a.delegateCount,G=s.target;if(O&&G.nodeType&&!(s.type==="click"&&s.button>=1)){for(;G!==this;G=G.parentNode||this)if(G.nodeType===1&&!(s.type==="click"&&G.disabled===!0)){for(_=[],v={},c=0;c<O;c++)h=a[c],y=h.selector+" ",v[y]===void 0&&(v[y]=h.needsContext?f(y,this).index(G)>-1:f.find(y,this,null,[G]).length),v[y]&&_.push(h);_.length&&L.push({elem:G,handlers:_})}}return G=this,O<a.length&&L.push({elem:G,handlers:a.slice(O)}),L},addProp:function(s,a){Object.defineProperty(f.Event.prototype,s,{enumerable:!0,configurable:!0,get:D(a)?function(){if(this.originalEvent)return a(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[s]},set:function(c){Object.defineProperty(this,s,{enumerable:!0,configurable:!0,writable:!0,value:c})}})},fix:function(s){return s[f.expando]?s:new f.Event(s)},special:{load:{noBubble:!0},click:{setup:function(s){var a=this||s;return tt.test(a.type)&&a.click&&de(a,"input")&&li(a,"click",vn),!1},trigger:function(s){var a=this||s;return tt.test(a.type)&&a.click&&de(a,"input")&&li(a,"click"),!0},_default:function(s){var a=s.target;return tt.test(a.type)&&a.click&&de(a,"input")&&Ee.get(a,"click")||de(a,"a")}},beforeunload:{postDispatch:function(s){s.result!==void 0&&s.originalEvent&&(s.originalEvent.returnValue=s.result)}}}};function li(s,a,c){if(!c){Ee.get(s,a)===void 0&&f.event.add(s,a,vn);return}Ee.set(s,a,!1),f.event.add(s,a,{namespace:!1,handler:function(h){var y,_,v=Ee.get(this,a);if(h.isTrigger&1&&this[a]){if(v.length)(f.event.special[a]||{}).delegateType&&h.stopPropagation();else if(v=u.call(arguments),Ee.set(this,a,v),y=c(this,a),this[a](),_=Ee.get(this,a),v!==_||y?Ee.set(this,a,!1):_={},v!==_)return h.stopImmediatePropagation(),h.preventDefault(),_&&_.value}else v.length&&(Ee.set(this,a,{value:f.event.trigger(f.extend(v[0],f.Event.prototype),v.slice(1),this)}),h.stopImmediatePropagation())}})}f.removeEvent=function(s,a,c){s.removeEventListener&&s.removeEventListener(a,c)},f.Event=function(s,a){if(!(this instanceof f.Event))return new f.Event(s,a);s&&s.type?(this.originalEvent=s,this.type=s.type,this.isDefaultPrevented=s.defaultPrevented||s.defaultPrevented===void 0&&s.returnValue===!1?vn:Gt,this.target=s.target&&s.target.nodeType===3?s.target.parentNode:s.target,this.currentTarget=s.currentTarget,this.relatedTarget=s.relatedTarget):this.type=s,a&&f.extend(this,a),this.timeStamp=s&&s.timeStamp||Date.now(),this[f.expando]=!0},f.Event.prototype={constructor:f.Event,isDefaultPrevented:Gt,isPropagationStopped:Gt,isImmediatePropagationStopped:Gt,isSimulated:!1,preventDefault:function(){var s=this.originalEvent;this.isDefaultPrevented=vn,s&&!this.isSimulated&&s.preventDefault()},stopPropagation:function(){var s=this.originalEvent;this.isPropagationStopped=vn,s&&!this.isSimulated&&s.stopPropagation()},stopImmediatePropagation:function(){var s=this.originalEvent;this.isImmediatePropagationStopped=vn,s&&!this.isSimulated&&s.stopImmediatePropagation(),this.stopPropagation()}},f.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,code:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:!0},f.event.addProp),f.each({focus:"focusin",blur:"focusout"},function(s,a){f.event.special[s]={setup:function(){return li(this,s,Gs),!1},trigger:function(){return li(this,s),!0},_default:function(c){return Ee.get(c.target,s)},delegateType:a}}),f.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(s,a){f.event.special[s]={delegateType:a,bindType:a,handle:function(c){var h,y=this,_=c.relatedTarget,v=c.handleObj;return(!_||_!==y&&!f.contains(y,_))&&(c.type=v.origType,h=v.handler.apply(this,arguments),c.type=a),h}}}),f.fn.extend({on:function(s,a,c,h){return ai(this,s,a,c,h)},one:function(s,a,c,h){return ai(this,s,a,c,h,1)},off:function(s,a,c){var h,y;if(s&&s.preventDefault&&s.handleObj)return h=s.handleObj,f(s.delegateTarget).off(h.namespace?h.origType+"."+h.namespace:h.origType,h.selector,h.handler),this;if(typeof s=="object"){for(y in s)this.off(y,a,s[y]);return this}return(a===!1||typeof a=="function")&&(c=a,a=void 0),c===!1&&(c=Gt),this.each(function(){f.event.remove(this,s,c,a)})}});var Hs=/<script|<style|<link/i,Us=/checked\s*(?:[^=]|=\s*.checked.)/i,zs=/^\s*<!\[CDATA\[|\]\]>\s*$/g;function us(s,a){return de(s,"table")&&de(a.nodeType!==11?a:a.firstChild,"tr")&&f(s).children("tbody")[0]||s}function Vs(s){return s.type=(s.getAttribute("type")!==null)+"/"+s.type,s}function qs(s){return(s.type||"").slice(0,5)==="true/"?s.type=s.type.slice(5):s.removeAttribute("type"),s}function ds(s,a){var c,h,y,_,v,L,O;if(a.nodeType===1){if(Ee.hasData(s)&&(_=Ee.get(s),O=_.events,O)){Ee.remove(a,"handle events");for(y in O)for(c=0,h=O[y].length;c<h;c++)f.event.add(a,y,O[y][c])}Te.hasData(s)&&(v=Te.access(s),L=f.extend({},v),Te.set(a,L))}}function Ws(s,a){var c=a.nodeName.toLowerCase();c==="input"&&tt.test(s.type)?a.checked=s.checked:(c==="input"||c==="textarea")&&(a.defaultValue=s.defaultValue)}function Nn(s,a,c,h){a=d(a);var y,_,v,L,O,G,q=0,ie=s.length,V=ie-1,Z=a[0],be=D(Z);if(be||ie>1&&typeof Z=="string"&&!x.checkClone&&Us.test(Z))return s.each(function(Ae){var ye=s.eq(Ae);be&&(a[0]=Z.call(this,Ae,ye.html())),Nn(ye,a,c,h)});if(ie&&(y=Mn(a,s[0].ownerDocument,!1,s,h),_=y.firstChild,y.childNodes.length===1&&(y=_),_||h)){for(v=f.map(at(y,"script"),Vs),L=v.length;q<ie;q++)O=y,q!==V&&(O=f.clone(O,!0,!0),L&&f.merge(v,at(O,"script"))),c.call(s[q],O,q);if(L)for(G=v[v.length-1].ownerDocument,f.map(v,qs),q=0;q<L;q++)O=v[q],vt.test(O.type||"")&&!Ee.access(O,"globalEval")&&f.contains(G,O)&&(O.src&&(O.type||"").toLowerCase()!=="module"?f._evalUrl&&!O.noModule&&f._evalUrl(O.src,{nonce:O.nonce||O.getAttribute("nonce")},G):H(O.textContent.replace(zs,""),O,G))}return s}function Ht(s,a,c){for(var h,y=a?f.filter(a,s):s,_=0;(h=y[_])!=null;_++)!c&&h.nodeType===1&&f.cleanData(at(h)),h.parentNode&&(c&&_n(h)&&En(at(h,"script")),h.parentNode.removeChild(h));return s}f.extend({htmlPrefilter:function(s){return s},clone:function(s,a,c){var h,y,_,v,L=s.cloneNode(!0),O=_n(s);if(!x.noCloneChecked&&(s.nodeType===1||s.nodeType===11)&&!f.isXMLDoc(s))for(v=at(L),_=at(s),h=0,y=_.length;h<y;h++)Ws(_[h],v[h]);if(a)if(c)for(_=_||at(s),v=v||at(L),h=0,y=_.length;h<y;h++)ds(_[h],v[h]);else ds(s,L);return v=at(L,"script"),v.length>0&&En(v,!O&&at(s,"script")),L},cleanData:function(s){for(var a,c,h,y=f.event.special,_=0;(c=s[_])!==void 0;_++)if(Wt(c)){if(a=c[Ee.expando]){if(a.events)for(h in a.events)y[h]?f.event.remove(c,h):f.removeEvent(c,h,a.handle);c[Ee.expando]=void 0}c[Te.expando]&&(c[Te.expando]=void 0)}}}),f.fn.extend({detach:function(s){return Ht(this,s,!0)},remove:function(s){return Ht(this,s)},text:function(s){return et(this,function(a){return a===void 0?f.text(this):this.empty().each(function(){(this.nodeType===1||this.nodeType===11||this.nodeType===9)&&(this.textContent=a)})},null,s,arguments.length)},append:function(){return Nn(this,arguments,function(s){if(this.nodeType===1||this.nodeType===11||this.nodeType===9){var a=us(this,s);a.appendChild(s)}})},prepend:function(){return Nn(this,arguments,function(s){if(this.nodeType===1||this.nodeType===11||this.nodeType===9){var a=us(this,s);a.insertBefore(s,a.firstChild)}})},before:function(){return Nn(this,arguments,function(s){this.parentNode&&this.parentNode.insertBefore(s,this)})},after:function(){return Nn(this,arguments,function(s){this.parentNode&&this.parentNode.insertBefore(s,this.nextSibling)})},empty:function(){for(var s,a=0;(s=this[a])!=null;a++)s.nodeType===1&&(f.cleanData(at(s,!1)),s.textContent="");return this},clone:function(s,a){return s=s??!1,a=a??s,this.map(function(){return f.clone(this,s,a)})},html:function(s){return et(this,function(a){var c=this[0]||{},h=0,y=this.length;if(a===void 0&&c.nodeType===1)return c.innerHTML;if(typeof a=="string"&&!Hs.test(a)&&!Ve[(Et.exec(a)||["",""])[1].toLowerCase()]){a=f.htmlPrefilter(a);try{for(;h<y;h++)c=this[h]||{},c.nodeType===1&&(f.cleanData(at(c,!1)),c.innerHTML=a);c=0}catch{}}c&&this.empty().append(a)},null,s,arguments.length)},replaceWith:function(){var s=[];return Nn(this,arguments,function(a){var c=this.parentNode;f.inArray(this,s)<0&&(f.cleanData(at(this)),c&&c.replaceChild(a,this))},s)}}),f.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(s,a){f.fn[s]=function(c){for(var h,y=[],_=f(c),v=_.length-1,L=0;L<=v;L++)h=L===v?this:this.clone(!0),f(_[L])[a](h),g.apply(y,h.get());return this.pushStack(y)}});var bt=new RegExp("^("+$s+")(?!px)[a-z%]+$","i"),sn=/^--/,gt=function(s){var a=s.ownerDocument.defaultView;return(!a||!a.opener)&&(a=e),a.getComputedStyle(s)},Mi=function(s,a,c){var h,y,_={};for(y in a)_[y]=s.style[y],s.style[y]=a[y];h=c.call(s);for(y in a)s.style[y]=_[y];return h},fs=new RegExp(nn.join("|"),"i"),Ut="[\\x20\\t\\r\\n\\f]",Fn=new RegExp("^"+Ut+"+|((?:^|[^\\\\])(?:\\\\.)*)"+Ut+"+$","g");(function(){function s(){if(G){O.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",G.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",Pt.appendChild(O).appendChild(G);var q=e.getComputedStyle(G);c=q.top!=="1%",L=a(q.marginLeft)===12,G.style.right="60%",_=a(q.right)===36,h=a(q.width)===36,G.style.position="absolute",y=a(G.offsetWidth/3)===12,Pt.removeChild(O),G=null}}function a(q){return Math.round(parseFloat(q))}var c,h,y,_,v,L,O=z.createElement("div"),G=z.createElement("div");G.style&&(G.style.backgroundClip="content-box",G.cloneNode(!0).style.backgroundClip="",x.clearCloneStyle=G.style.backgroundClip==="content-box",f.extend(x,{boxSizingReliable:function(){return s(),h},pixelBoxStyles:function(){return s(),_},pixelPosition:function(){return s(),c},reliableMarginLeft:function(){return s(),L},scrollboxSize:function(){return s(),y},reliableTrDimensions:function(){var q,ie,V,Z;return v==null&&(q=z.createElement("table"),ie=z.createElement("tr"),V=z.createElement("div"),q.style.cssText="position:absolute;left:-11111px;border-collapse:separate",ie.style.cssText="border:1px solid",ie.style.height="1px",V.style.height="9px",V.style.display="block",Pt.appendChild(q).appendChild(ie).appendChild(V),Z=e.getComputedStyle(ie),v=parseInt(Z.height,10)+parseInt(Z.borderTopWidth,10)+parseInt(Z.borderBottomWidth,10)===ie.offsetHeight,Pt.removeChild(q)),v}}))})();function bn(s,a,c){var h,y,_,v,L=sn.test(a),O=s.style;return c=c||gt(s),c&&(v=c.getPropertyValue(a)||c[a],L&&v&&(v=v.replace(Fn,"$1")||void 0),v===""&&!_n(s)&&(v=f.style(s,a)),!x.pixelBoxStyles()&&bt.test(v)&&fs.test(a)&&(h=O.width,y=O.minWidth,_=O.maxWidth,O.minWidth=O.maxWidth=O.width=v,v=c.width,O.width=h,O.minWidth=y,O.maxWidth=_)),v!==void 0?v+"":v}function kn(s,a){return{get:function(){if(s()){delete this.get;return}return(this.get=a).apply(this,arguments)}}}var Ni=["Webkit","Moz","ms"],hs=z.createElement("div").style,$n={};function ps(s){for(var a=s[0].toUpperCase()+s.slice(1),c=Ni.length;c--;)if(s=Ni[c]+a,s in hs)return s}function Fi(s){var a=f.cssProps[s]||$n[s];return a||(s in hs?s:$n[s]=ps(s)||s)}var rn=/^(none|table(?!-c[ea]).+)/,Wr={position:"absolute",visibility:"hidden",display:"block"},on={letterSpacing:"0",fontWeight:"400"};function ci(s,a,c){var h=oi.exec(a);return h?Math.max(0,h[2]-(c||0))+(h[3]||"px"):a}function ki(s,a,c,h,y,_){var v=a==="width"?1:0,L=0,O=0;if(c===(h?"border":"content"))return 0;for(;v<4;v+=2)c==="margin"&&(O+=f.css(s,c+nn[v],!0,y)),h?(c==="content"&&(O-=f.css(s,"padding"+nn[v],!0,y)),c!=="margin"&&(O-=f.css(s,"border"+nn[v]+"Width",!0,y))):(O+=f.css(s,"padding"+nn[v],!0,y),c!=="padding"?O+=f.css(s,"border"+nn[v]+"Width",!0,y):L+=f.css(s,"border"+nn[v]+"Width",!0,y));return!h&&_>=0&&(O+=Math.max(0,Math.ceil(s["offset"+a[0].toUpperCase()+a.slice(1)]-_-O-L-.5))||0),O}function Yn(s,a,c){var h=gt(s),y=!x.boxSizingReliable()||c,_=y&&f.css(s,"boxSizing",!1,h)==="border-box",v=_,L=bn(s,a,h),O="offset"+a[0].toUpperCase()+a.slice(1);if(bt.test(L)){if(!c)return L;L="auto"}return(!x.boxSizingReliable()&&_||!x.reliableTrDimensions()&&de(s,"tr")||L==="auto"||!parseFloat(L)&&f.css(s,"display",!1,h)==="inline")&&s.getClientRects().length&&(_=f.css(s,"boxSizing",!1,h)==="border-box",v=O in s,v&&(L=s[O])),L=parseFloat(L)||0,L+ki(s,a,c||(_?"border":"content"),v,h,L)+"px"}f.extend({cssHooks:{opacity:{get:function(s,a){if(a){var c=bn(s,"opacity");return c===""?"1":c}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{},style:function(s,a,c,h){if(!(!s||s.nodeType===3||s.nodeType===8||!s.style)){var y,_,v,L=ut(a),O=sn.test(a),G=s.style;if(O||(a=Fi(L)),v=f.cssHooks[a]||f.cssHooks[L],c!==void 0){if(_=typeof c,_==="string"&&(y=oi.exec(c))&&y[1]&&(c=Pi(s,a,y),_="number"),c==null||c!==c)return;_==="number"&&!O&&(c+=y&&y[3]||(f.cssNumber[L]?"":"px")),!x.clearCloneStyle&&c===""&&a.indexOf("background")===0&&(G[a]="inherit"),(!v||!("set"in v)||(c=v.set(s,c,h))!==void 0)&&(O?G.setProperty(a,c):G[a]=c)}else return v&&"get"in v&&(y=v.get(s,!1,h))!==void 0?y:G[a]}},css:function(s,a,c,h){var y,_,v,L=ut(a),O=sn.test(a);return O||(a=Fi(L)),v=f.cssHooks[a]||f.cssHooks[L],v&&"get"in v&&(y=v.get(s,!0,c)),y===void 0&&(y=bn(s,a,h)),y==="normal"&&a in on&&(y=on[a]),c===""||c?(_=parseFloat(y),c===!0||isFinite(_)?_||0:y):y}}),f.each(["height","width"],function(s,a){f.cssHooks[a]={get:function(c,h,y){if(h)return rn.test(f.css(c,"display"))&&(!c.getClientRects().length||!c.getBoundingClientRect().width)?Mi(c,Wr,function(){return Yn(c,a,y)}):Yn(c,a,y)},set:function(c,h,y){var _,v=gt(c),L=!x.scrollboxSize()&&v.position==="absolute",O=L||y,G=O&&f.css(c,"boxSizing",!1,v)==="border-box",q=y?ki(c,a,y,G,v):0;return G&&L&&(q-=Math.ceil(c["offset"+a[0].toUpperCase()+a.slice(1)]-parseFloat(v[a])-ki(c,a,"border",!1,v)-.5)),q&&(_=oi.exec(h))&&(_[3]||"px")!=="px"&&(c.style[a]=h,h=f.css(c,a)),ci(c,h,q)}}}),f.cssHooks.marginLeft=kn(x.reliableMarginLeft,function(s,a){if(a)return(parseFloat(bn(s,"marginLeft"))||s.getBoundingClientRect().left-Mi(s,{marginLeft:0},function(){return s.getBoundingClientRect().left}))+"px"}),f.each({margin:"",padding:"",border:"Width"},function(s,a){f.cssHooks[s+a]={expand:function(c){for(var h=0,y={},_=typeof c=="string"?c.split(" "):[c];h<4;h++)y[s+nn[h]+a]=_[h]||_[h-2]||_[0];return y}},s!=="margin"&&(f.cssHooks[s+a].set=ci)}),f.fn.extend({css:function(s,a){return et(this,function(c,h,y){var _,v,L={},O=0;if(Array.isArray(h)){for(_=gt(c),v=h.length;O<v;O++)L[h[O]]=f.css(c,h[O],!1,_);return L}return y!==void 0?f.style(c,h,y):f.css(c,h)},s,a,arguments.length>1)}});function dt(s,a,c,h,y){return new dt.prototype.init(s,a,c,h,y)}f.Tween=dt,dt.prototype={constructor:dt,init:function(s,a,c,h,y,_){this.elem=s,this.prop=c,this.easing=y||f.easing._default,this.options=a,this.start=this.now=this.cur(),this.end=h,this.unit=_||(f.cssNumber[c]?"":"px")},cur:function(){var s=dt.propHooks[this.prop];return s&&s.get?s.get(this):dt.propHooks._default.get(this)},run:function(s){var a,c=dt.propHooks[this.prop];return this.options.duration?this.pos=a=f.easing[this.easing](s,this.options.duration*s,0,1,this.options.duration):this.pos=a=s,this.now=(this.end-this.start)*a+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),c&&c.set?c.set(this):dt.propHooks._default.set(this),this}},dt.prototype.init.prototype=dt.prototype,dt.propHooks={_default:{get:function(s){var a;return s.elem.nodeType!==1||s.elem[s.prop]!=null&&s.elem.style[s.prop]==null?s.elem[s.prop]:(a=f.css(s.elem,s.prop,""),!a||a==="auto"?0:a)},set:function(s){f.fx.step[s.prop]?f.fx.step[s.prop](s):s.elem.nodeType===1&&(f.cssHooks[s.prop]||s.elem.style[Fi(s.prop)]!=null)?f.style(s.elem,s.prop,s.now+s.unit):s.elem[s.prop]=s.now}}},dt.propHooks.scrollTop=dt.propHooks.scrollLeft={set:function(s){s.elem.nodeType&&s.elem.parentNode&&(s.elem[s.prop]=s.now)}},f.easing={linear:function(s){return s},swing:function(s){return .5-Math.cos(s*Math.PI)/2},_default:"swing"},f.fx=dt.prototype.init,f.fx.step={};var jt,ui,js=/^(?:toggle|show|hide)$/,Ys=/queueHooks$/;function Tn(){ui&&(z.hidden===!1&&e.requestAnimationFrame?e.requestAnimationFrame(Tn):e.setTimeout(Tn,f.fx.interval),f.fx.tick())}function Xs(){return e.setTimeout(function(){jt=void 0}),jt=Date.now()}function di(s,a){var c,h=0,y={height:s};for(a=a?1:0;h<4;h+=2-a)c=nn[h],y["margin"+c]=y["padding"+c]=s;return a&&(y.opacity=y.width=s),y}function $i(s,a,c){for(var h,y=(zt.tweeners[a]||[]).concat(zt.tweeners["*"]),_=0,v=y.length;_<v;_++)if(h=y[_].call(c,a,s))return h}function Bi(s,a,c){var h,y,_,v,L,O,G,q,ie="width"in a||"height"in a,V=this,Z={},be=s.style,Ae=s.nodeType&&Ln(s),ye=Ee.get(s,"fxshow");c.queue||(v=f._queueHooks(s,"fx"),v.unqueued==null&&(v.unqueued=0,L=v.empty.fire,v.empty.fire=function(){v.unqueued||L()}),v.unqueued++,V.always(function(){V.always(function(){v.unqueued--,f.queue(s,"fx").length||v.empty.fire()})}));for(h in a)if(y=a[h],js.test(y)){if(delete a[h],_=_||y==="toggle",y===(Ae?"hide":"show"))if(y==="show"&&ye&&ye[h]!==void 0)Ae=!0;else continue;Z[h]=ye&&ye[h]||f.style(s,h)}if(O=!f.isEmptyObject(a),!(!O&&f.isEmptyObject(Z))){ie&&s.nodeType===1&&(c.overflow=[be.overflow,be.overflowX,be.overflowY],G=ye&&ye.display,G==null&&(G=Ee.get(s,"display")),q=f.css(s,"display"),q==="none"&&(G?q=G:(Bt([s],!0),G=s.style.display||G,q=f.css(s,"display"),Bt([s]))),(q==="inline"||q==="inline-block"&&G!=null)&&f.css(s,"float")==="none"&&(O||(V.done(function(){be.display=G}),G==null&&(q=be.display,G=q==="none"?"":q)),be.display="inline-block")),c.overflow&&(be.overflow="hidden",V.always(function(){be.overflow=c.overflow[0],be.overflowX=c.overflow[1],be.overflowY=c.overflow[2]})),O=!1;for(h in Z)O||(ye?"hidden"in ye&&(Ae=ye.hidden):ye=Ee.access(s,"fxshow",{display:G}),_&&(ye.hidden=!Ae),Ae&&Bt([s],!0),V.done(function(){Ae||Bt([s]),Ee.remove(s,"fxshow");for(h in Z)f.style(s,h,Z[h])})),O=$i(Ae?ye[h]:0,h,V),h in ye||(ye[h]=O.start,Ae&&(O.end=O.start,O.start=0))}}function gs(s,a){var c,h,y,_,v;for(c in s)if(h=ut(c),y=a[h],_=s[c],Array.isArray(_)&&(y=_[1],_=s[c]=_[0]),c!==h&&(s[h]=_,delete s[c]),v=f.cssHooks[h],v&&"expand"in v){_=v.expand(_),delete s[h];for(c in _)c in s||(s[c]=_[c],a[c]=y)}else a[h]=y}function zt(s,a,c){var h,y,_=0,v=zt.prefilters.length,L=f.Deferred().always(function(){delete O.elem}),O=function(){if(y)return!1;for(var ie=jt||Xs(),V=Math.max(0,G.startTime+G.duration-ie),Z=V/G.duration||0,be=1-Z,Ae=0,ye=G.tweens.length;Ae<ye;Ae++)G.tweens[Ae].run(be);return L.notifyWith(s,[G,be,V]),be<1&&ye?V:(ye||L.notifyWith(s,[G,1,0]),L.resolveWith(s,[G]),!1)},G=L.promise({elem:s,props:f.extend({},a),opts:f.extend(!0,{specialEasing:{},easing:f.easing._default},c),originalProperties:a,originalOptions:c,startTime:jt||Xs(),duration:c.duration,tweens:[],createTween:function(ie,V){var Z=f.Tween(s,G.opts,ie,V,G.opts.specialEasing[ie]||G.opts.easing);return G.tweens.push(Z),Z},stop:function(ie){var V=0,Z=ie?G.tweens.length:0;if(y)return this;for(y=!0;V<Z;V++)G.tweens[V].run(1);return ie?(L.notifyWith(s,[G,1,0]),L.resolveWith(s,[G,ie])):L.rejectWith(s,[G,ie]),this}}),q=G.props;for(gs(q,G.opts.specialEasing);_<v;_++)if(h=zt.prefilters[_].call(G,s,q,G.opts),h)return D(h.stop)&&(f._queueHooks(G.elem,G.opts.queue).stop=h.stop.bind(h)),h;return f.map(q,$i,G),D(G.opts.start)&&G.opts.start.call(s,G),G.progress(G.opts.progress).done(G.opts.done,G.opts.complete).fail(G.opts.fail).always(G.opts.always),f.fx.timer(f.extend(O,{elem:s,anim:G,queue:G.opts.queue})),G}f.Animation=f.extend(zt,{tweeners:{"*":[function(s,a){var c=this.createTween(s,a);return Pi(c.elem,s,oi.exec(a),c),c}]},tweener:function(s,a){D(s)?(a=s,s=["*"]):s=s.match(ue);for(var c,h=0,y=s.length;h<y;h++)c=s[h],zt.tweeners[c]=zt.tweeners[c]||[],zt.tweeners[c].unshift(a)},prefilters:[Bi],prefilter:function(s,a){a?zt.prefilters.unshift(s):zt.prefilters.push(s)}}),f.speed=function(s,a,c){var h=s&&typeof s=="object"?f.extend({},s):{complete:c||!c&&a||D(s)&&s,duration:s,easing:c&&a||a&&!D(a)&&a};return f.fx.off?h.duration=0:typeof h.duration!="number"&&(h.duration in f.fx.speeds?h.duration=f.fx.speeds[h.duration]:h.duration=f.fx.speeds._default),(h.queue==null||h.queue===!0)&&(h.queue="fx"),h.old=h.complete,h.complete=function(){D(h.old)&&h.old.call(this),h.queue&&f.dequeue(this,h.queue)},h},f.fn.extend({fadeTo:function(s,a,c,h){return this.filter(Ln).css("opacity",0).show().end().animate({opacity:a},s,c,h)},animate:function(s,a,c,h){var y=f.isEmptyObject(s),_=f.speed(a,c,h),v=function(){var L=zt(this,f.extend({},s),_);(y||Ee.get(this,"finish"))&&L.stop(!0)};return v.finish=v,y||_.queue===!1?this.each(v):this.queue(_.queue,v)},stop:function(s,a,c){var h=function(y){var _=y.stop;delete y.stop,_(c)};return typeof s!="string"&&(c=a,a=s,s=void 0),a&&this.queue(s||"fx",[]),this.each(function(){var y=!0,_=s!=null&&s+"queueHooks",v=f.timers,L=Ee.get(this);if(_)L[_]&&L[_].stop&&h(L[_]);else for(_ in L)L[_]&&L[_].stop&&Ys.test(_)&&h(L[_]);for(_=v.length;_--;)v[_].elem===this&&(s==null||v[_].queue===s)&&(v[_].anim.stop(c),y=!1,v.splice(_,1));(y||!c)&&f.dequeue(this,s)})},finish:function(s){return s!==!1&&(s=s||"fx"),this.each(function(){var a,c=Ee.get(this),h=c[s+"queue"],y=c[s+"queueHooks"],_=f.timers,v=h?h.length:0;for(c.finish=!0,f.queue(this,s,[]),y&&y.stop&&y.stop.call(this,!0),a=_.length;a--;)_[a].elem===this&&_[a].queue===s&&(_[a].anim.stop(!0),_.splice(a,1));for(a=0;a<v;a++)h[a]&&h[a].finish&&h[a].finish.call(this);delete c.finish})}}),f.each(["toggle","show","hide"],function(s,a){var c=f.fn[a];f.fn[a]=function(h,y,_){return h==null||typeof h=="boolean"?c.apply(this,arguments):this.animate(di(a,!0),h,y,_)}}),f.each({slideDown:di("show"),slideUp:di("hide"),slideToggle:di("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(s,a){f.fn[s]=function(c,h,y){return this.animate(a,c,h,y)}}),f.timers=[],f.fx.tick=function(){var s,a=0,c=f.timers;for(jt=Date.now();a<c.length;a++)s=c[a],!s()&&c[a]===s&&c.splice(a--,1);c.length||f.fx.stop(),jt=void 0},f.fx.timer=function(s){f.timers.push(s),f.fx.start()},f.fx.interval=13,f.fx.start=function(){ui||(ui=!0,Tn())},f.fx.stop=function(){ui=null},f.fx.speeds={slow:600,fast:200,_default:400},f.fn.delay=function(s,a){return s=f.fx&&f.fx.speeds[s]||s,a=a||"fx",this.queue(a,function(c,h){var y=e.setTimeout(c,s);h.stop=function(){e.clearTimeout(y)}})},function(){var s=z.createElement("input"),a=z.createElement("select"),c=a.appendChild(z.createElement("option"));s.type="checkbox",x.checkOn=s.value!=="",x.optSelected=c.selected,s=z.createElement("input"),s.value="t",s.type="radio",x.radioValue=s.value==="t"}();var fi,hi=f.expr.attrHandle;f.fn.extend({attr:function(s,a){return et(this,f.attr,s,a,arguments.length>1)},removeAttr:function(s){return this.each(function(){f.removeAttr(this,s)})}}),f.extend({attr:function(s,a,c){var h,y,_=s.nodeType;if(!(_===3||_===8||_===2)){if(typeof s.getAttribute>"u")return f.prop(s,a,c);if((_!==1||!f.isXMLDoc(s))&&(y=f.attrHooks[a.toLowerCase()]||(f.expr.match.bool.test(a)?fi:void 0)),c!==void 0){if(c===null){f.removeAttr(s,a);return}return y&&"set"in y&&(h=y.set(s,c,a))!==void 0?h:(s.setAttribute(a,c+""),c)}return y&&"get"in y&&(h=y.get(s,a))!==null?h:(h=f.find.attr(s,a),h??void 0)}},attrHooks:{type:{set:function(s,a){if(!x.radioValue&&a==="radio"&&de(s,"input")){var c=s.value;return s.setAttribute("type",a),c&&(s.value=c),a}}}},removeAttr:function(s,a){var c,h=0,y=a&&a.match(ue);if(y&&s.nodeType===1)for(;c=y[h++];)s.removeAttribute(c)}}),fi={set:function(s,a,c){return a===!1?f.removeAttr(s,c):s.setAttribute(c,c),c}},f.each(f.expr.match.bool.source.match(/\w+/g),function(s,a){var c=hi[a]||f.find.attr;hi[a]=function(h,y,_){var v,L,O=y.toLowerCase();return _||(L=hi[O],hi[O]=v,v=c(h,y,_)!=null?O:null,hi[O]=L),v}});var Zs=/^(?:input|select|textarea|button)$/i,ms=/^(?:a|area)$/i;f.fn.extend({prop:function(s,a){return et(this,f.prop,s,a,arguments.length>1)},removeProp:function(s){return this.each(function(){delete this[f.propFix[s]||s]})}}),f.extend({prop:function(s,a,c){var h,y,_=s.nodeType;if(!(_===3||_===8||_===2))return(_!==1||!f.isXMLDoc(s))&&(a=f.propFix[a]||a,y=f.propHooks[a]),c!==void 0?y&&"set"in y&&(h=y.set(s,c,a))!==void 0?h:s[a]=c:y&&"get"in y&&(h=y.get(s,a))!==null?h:s[a]},propHooks:{tabIndex:{get:function(s){var a=f.find.attr(s,"tabindex");return a?parseInt(a,10):Zs.test(s.nodeName)||ms.test(s.nodeName)&&s.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),x.optSelected||(f.propHooks.selected={get:function(s){var a=s.parentNode;return a&&a.parentNode&&a.parentNode.selectedIndex,null},set:function(s){var a=s.parentNode;a&&(a.selectedIndex,a.parentNode&&a.parentNode.selectedIndex)}}),f.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){f.propFix[this.toLowerCase()]=this});function an(s){var a=s.match(ue)||[];return a.join(" ")}function ln(s){return s.getAttribute&&s.getAttribute("class")||""}function Gi(s){return Array.isArray(s)?s:typeof s=="string"?s.match(ue)||[]:[]}f.fn.extend({addClass:function(s){var a,c,h,y,_,v;return D(s)?this.each(function(L){f(this).addClass(s.call(this,L,ln(this)))}):(a=Gi(s),a.length?this.each(function(){if(h=ln(this),c=this.nodeType===1&&" "+an(h)+" ",c){for(_=0;_<a.length;_++)y=a[_],c.indexOf(" "+y+" ")<0&&(c+=y+" ");v=an(c),h!==v&&this.setAttribute("class",v)}}):this)},removeClass:function(s){var a,c,h,y,_,v;return D(s)?this.each(function(L){f(this).removeClass(s.call(this,L,ln(this)))}):arguments.length?(a=Gi(s),a.length?this.each(function(){if(h=ln(this),c=this.nodeType===1&&" "+an(h)+" ",c){for(_=0;_<a.length;_++)for(y=a[_];c.indexOf(" "+y+" ")>-1;)c=c.replace(" "+y+" "," ");v=an(c),h!==v&&this.setAttribute("class",v)}}):this):this.attr("class","")},toggleClass:function(s,a){var c,h,y,_,v=typeof s,L=v==="string"||Array.isArray(s);return D(s)?this.each(function(O){f(this).toggleClass(s.call(this,O,ln(this),a),a)}):typeof a=="boolean"&&L?a?this.addClass(s):this.removeClass(s):(c=Gi(s),this.each(function(){if(L)for(_=f(this),y=0;y<c.length;y++)h=c[y],_.hasClass(h)?_.removeClass(h):_.addClass(h);else(s===void 0||v==="boolean")&&(h=ln(this),h&&Ee.set(this,"__className__",h),this.setAttribute&&this.setAttribute("class",h||s===!1?"":Ee.get(this,"__className__")||""))}))},hasClass:function(s){var a,c,h=0;for(a=" "+s+" ";c=this[h++];)if(c.nodeType===1&&(" "+an(ln(c))+" ").indexOf(a)>-1)return!0;return!1}});var pi=/\r/g;f.fn.extend({val:function(s){var a,c,h,y=this[0];return arguments.length?(h=D(s),this.each(function(_){var v;this.nodeType===1&&(h?v=s.call(this,_,f(this).val()):v=s,v==null?v="":typeof v=="number"?v+="":Array.isArray(v)&&(v=f.map(v,function(L){return L==null?"":L+""})),a=f.valHooks[this.type]||f.valHooks[this.nodeName.toLowerCase()],(!a||!("set"in a)||a.set(this,v,"value")===void 0)&&(this.value=v))})):y?(a=f.valHooks[y.type]||f.valHooks[y.nodeName.toLowerCase()],a&&"get"in a&&(c=a.get(y,"value"))!==void 0?c:(c=y.value,typeof c=="string"?c.replace(pi,""):c??"")):void 0}}),f.extend({valHooks:{option:{get:function(s){var a=f.find.attr(s,"value");return a??an(f.text(s))}},select:{get:function(s){var a,c,h,y=s.options,_=s.selectedIndex,v=s.type==="select-one",L=v?null:[],O=v?_+1:y.length;for(_<0?h=O:h=v?_:0;h<O;h++)if(c=y[h],(c.selected||h===_)&&!c.disabled&&(!c.parentNode.disabled||!de(c.parentNode,"optgroup"))){if(a=f(c).val(),v)return a;L.push(a)}return L},set:function(s,a){for(var c,h,y=s.options,_=f.makeArray(a),v=y.length;v--;)h=y[v],(h.selected=f.inArray(f.valHooks.option.get(h),_)>-1)&&(c=!0);return c||(s.selectedIndex=-1),_}}}}),f.each(["radio","checkbox"],function(){f.valHooks[this]={set:function(s,a){if(Array.isArray(a))return s.checked=f.inArray(f(s).val(),a)>-1}},x.checkOn||(f.valHooks[this].get=function(s){return s.getAttribute("value")===null?"on":s.value})}),x.focusin="onfocusin"in e;var Hi=/^(?:focusinfocus|focusoutblur)$/,ys=function(s){s.stopPropagation()};f.extend(f.event,{trigger:function(s,a,c,h){var y,_,v,L,O,G,q,ie,V=[c||z],Z=A.call(s,"type")?s.type:s,be=A.call(s,"namespace")?s.namespace.split("."):[];if(_=ie=v=c=c||z,!(c.nodeType===3||c.nodeType===8)&&!Hi.test(Z+f.event.triggered)&&(Z.indexOf(".")>-1&&(be=Z.split("."),Z=be.shift(),be.sort()),O=Z.indexOf(":")<0&&"on"+Z,s=s[f.expando]?s:new f.Event(Z,typeof s=="object"&&s),s.isTrigger=h?2:3,s.namespace=be.join("."),s.rnamespace=s.namespace?new RegExp("(^|\\.)"+be.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,s.result=void 0,s.target||(s.target=c),a=a==null?[s]:f.makeArray(a,[s]),q=f.event.special[Z]||{},!(!h&&q.trigger&&q.trigger.apply(c,a)===!1))){if(!h&&!q.noBubble&&!k(c)){for(L=q.delegateType||Z,Hi.test(L+Z)||(_=_.parentNode);_;_=_.parentNode)V.push(_),v=_;v===(c.ownerDocument||z)&&V.push(v.defaultView||v.parentWindow||e)}for(y=0;(_=V[y++])&&!s.isPropagationStopped();)ie=_,s.type=y>1?L:q.bindType||Z,G=(Ee.get(_,"events")||Object.create(null))[s.type]&&Ee.get(_,"handle"),G&&G.apply(_,a),G=O&&_[O],G&&G.apply&&Wt(_)&&(s.result=G.apply(_,a),s.result===!1&&s.preventDefault());return s.type=Z,!h&&!s.isDefaultPrevented()&&(!q._default||q._default.apply(V.pop(),a)===!1)&&Wt(c)&&O&&D(c[Z])&&!k(c)&&(v=c[O],v&&(c[O]=null),f.event.triggered=Z,s.isPropagationStopped()&&ie.addEventListener(Z,ys),c[Z](),s.isPropagationStopped()&&ie.removeEventListener(Z,ys),f.event.triggered=void 0,v&&(c[O]=v)),s.result}},simulate:function(s,a,c){var h=f.extend(new f.Event,c,{type:s,isSimulated:!0});f.event.trigger(h,null,a)}}),f.fn.extend({trigger:function(s,a){return this.each(function(){f.event.trigger(s,a,this)})},triggerHandler:function(s,a){var c=this[0];if(c)return f.event.trigger(s,a,c,!0)}}),x.focusin||f.each({focus:"focusin",blur:"focusout"},function(s,a){var c=function(h){f.event.simulate(a,h.target,f.event.fix(h))};f.event.special[a]={setup:function(){var h=this.ownerDocument||this.document||this,y=Ee.access(h,a);y||h.addEventListener(s,c,!0),Ee.access(h,a,(y||0)+1)},teardown:function(){var h=this.ownerDocument||this.document||this,y=Ee.access(h,a)-1;y?Ee.access(h,a,y):(h.removeEventListener(s,c,!0),Ee.remove(h,a))}}});var Xn=e.location,Bn={guid:Date.now()},_s=/\?/;f.parseXML=function(s){var a,c;if(!s||typeof s!="string")return null;try{a=new e.DOMParser().parseFromString(s,"text/xml")}catch{}return c=a&&a.getElementsByTagName("parsererror")[0],(!a||c)&&f.error("Invalid XML: "+(c?f.map(c.childNodes,function(h){return h.textContent}).join(`
`):s)),a};var Qs=/\[\]$/,Es=/\r?\n/g,Ks=/^(?:submit|button|image|reset|file)$/i,Js=/^(?:input|select|textarea|keygen)/i;function Ui(s,a,c,h){var y;if(Array.isArray(a))f.each(a,function(_,v){c||Qs.test(s)?h(s,v):Ui(s+"["+(typeof v=="object"&&v!=null?_:"")+"]",v,c,h)});else if(!c&&Y(a)==="object")for(y in a)Ui(s+"["+y+"]",a[y],c,h);else h(s,a)}f.param=function(s,a){var c,h=[],y=function(_,v){var L=D(v)?v():v;h[h.length]=encodeURIComponent(_)+"="+encodeURIComponent(L??"")};if(s==null)return"";if(Array.isArray(s)||s.jquery&&!f.isPlainObject(s))f.each(s,function(){y(this.name,this.value)});else for(c in s)Ui(c,s[c],a,y);return h.join("&")},f.fn.extend({serialize:function(){return f.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var s=f.prop(this,"elements");return s?f.makeArray(s):this}).filter(function(){var s=this.type;return this.name&&!f(this).is(":disabled")&&Js.test(this.nodeName)&&!Ks.test(s)&&(this.checked||!tt.test(s))}).map(function(s,a){var c=f(this).val();return c==null?null:Array.isArray(c)?f.map(c,function(h){return{name:a.name,value:h.replace(Es,`\r
`)}}):{name:a.name,value:c.replace(Es,`\r
`)}}).get()}});var vs=/%20/g,er=/#.*$/,jr=/([?&])_=[^&]*/,Yr=/^(.*?):[ \t]*([^\r\n]*)$/mg,tr=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,nr=/^(?:GET|HEAD)$/,zi=/^\/\//,ir={},bs={},Vi="*/".concat("*"),qi=z.createElement("a");qi.href=Xn.href;function Ts(s){return function(a,c){typeof a!="string"&&(c=a,a="*");var h,y=0,_=a.toLowerCase().match(ue)||[];if(D(c))for(;h=_[y++];)h[0]==="+"?(h=h.slice(1)||"*",(s[h]=s[h]||[]).unshift(c)):(s[h]=s[h]||[]).push(c)}}function sr(s,a,c,h){var y={},_=s===bs;function v(L){var O;return y[L]=!0,f.each(s[L]||[],function(G,q){var ie=q(a,c,h);if(typeof ie=="string"&&!_&&!y[ie])return a.dataTypes.unshift(ie),v(ie),!1;if(_)return!(O=ie)}),O}return v(a.dataTypes[0])||!y["*"]&&v("*")}function Wi(s,a){var c,h,y=f.ajaxSettings.flatOptions||{};for(c in a)a[c]!==void 0&&((y[c]?s:h||(h={}))[c]=a[c]);return h&&f.extend(!0,s,h),s}function rr(s,a,c){for(var h,y,_,v,L=s.contents,O=s.dataTypes;O[0]==="*";)O.shift(),h===void 0&&(h=s.mimeType||a.getResponseHeader("Content-Type"));if(h){for(y in L)if(L[y]&&L[y].test(h)){O.unshift(y);break}}if(O[0]in c)_=O[0];else{for(y in c){if(!O[0]||s.converters[y+" "+O[0]]){_=y;break}v||(v=y)}_=_||v}if(_)return _!==O[0]&&O.unshift(_),c[_]}function or(s,a,c,h){var y,_,v,L,O,G={},q=s.dataTypes.slice();if(q[1])for(v in s.converters)G[v.toLowerCase()]=s.converters[v];for(_=q.shift();_;)if(s.responseFields[_]&&(c[s.responseFields[_]]=a),!O&&h&&s.dataFilter&&(a=s.dataFilter(a,s.dataType)),O=_,_=q.shift(),_){if(_==="*")_=O;else if(O!=="*"&&O!==_){if(v=G[O+" "+_]||G["* "+_],!v){for(y in G)if(L=y.split(" "),L[1]===_&&(v=G[O+" "+L[0]]||G["* "+L[0]],v)){v===!0?v=G[y]:G[y]!==!0&&(_=L[0],q.unshift(L[1]));break}}if(v!==!0)if(v&&s.throws)a=v(a);else try{a=v(a)}catch(ie){return{state:"parsererror",error:v?ie:"No conversion from "+O+" to "+_}}}}return{state:"success",data:a}}f.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Xn.href,type:"GET",isLocal:tr.test(Xn.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Vi,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":f.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(s,a){return a?Wi(Wi(s,f.ajaxSettings),a):Wi(f.ajaxSettings,s)},ajaxPrefilter:Ts(ir),ajaxTransport:Ts(bs),ajax:function(s,a){typeof s=="object"&&(a=s,s=void 0),a=a||{};var c,h,y,_,v,L,O,G,q,ie,V=f.ajaxSetup({},a),Z=V.context||V,be=V.context&&(Z.nodeType||Z.jquery)?f(Z):f.event,Ae=f.Deferred(),ye=f.Callbacks("once memory"),Qe=V.statusCode||{},Ke={},Tt={},Be="canceled",Se={readyState:0,getResponseHeader:function(Le){var Ye;if(O){if(!_)for(_={};Ye=Yr.exec(y);)_[Ye[1].toLowerCase()+" "]=(_[Ye[1].toLowerCase()+" "]||[]).concat(Ye[2]);Ye=_[Le.toLowerCase()+" "]}return Ye==null?null:Ye.join(", ")},getAllResponseHeaders:function(){return O?y:null},setRequestHeader:function(Le,Ye){return O==null&&(Le=Tt[Le.toLowerCase()]=Tt[Le.toLowerCase()]||Le,Ke[Le]=Ye),this},overrideMimeType:function(Le){return O==null&&(V.mimeType=Le),this},statusCode:function(Le){var Ye;if(Le)if(O)Se.always(Le[Se.status]);else for(Ye in Le)Qe[Ye]=[Qe[Ye],Le[Ye]];return this},abort:function(Le){var Ye=Le||Be;return c&&c.abort(Ye),mt(0,Ye),this}};if(Ae.promise(Se),V.url=((s||V.url||Xn.href)+"").replace(zi,Xn.protocol+"//"),V.type=a.method||a.type||V.method||V.type,V.dataTypes=(V.dataType||"*").toLowerCase().match(ue)||[""],V.crossDomain==null){L=z.createElement("a");try{L.href=V.url,L.href=L.href,V.crossDomain=qi.protocol+"//"+qi.host!=L.protocol+"//"+L.host}catch{V.crossDomain=!0}}if(V.data&&V.processData&&typeof V.data!="string"&&(V.data=f.param(V.data,V.traditional)),sr(ir,V,a,Se),O)return Se;G=f.event&&V.global,G&&f.active++===0&&f.event.trigger("ajaxStart"),V.type=V.type.toUpperCase(),V.hasContent=!nr.test(V.type),h=V.url.replace(er,""),V.hasContent?V.data&&V.processData&&(V.contentType||"").indexOf("application/x-www-form-urlencoded")===0&&(V.data=V.data.replace(vs,"+")):(ie=V.url.slice(h.length),V.data&&(V.processData||typeof V.data=="string")&&(h+=(_s.test(h)?"&":"?")+V.data,delete V.data),V.cache===!1&&(h=h.replace(jr,"$1"),ie=(_s.test(h)?"&":"?")+"_="+Bn.guid+++ie),V.url=h+ie),V.ifModified&&(f.lastModified[h]&&Se.setRequestHeader("If-Modified-Since",f.lastModified[h]),f.etag[h]&&Se.setRequestHeader("If-None-Match",f.etag[h])),(V.data&&V.hasContent&&V.contentType!==!1||a.contentType)&&Se.setRequestHeader("Content-Type",V.contentType),Se.setRequestHeader("Accept",V.dataTypes[0]&&V.accepts[V.dataTypes[0]]?V.accepts[V.dataTypes[0]]+(V.dataTypes[0]!=="*"?", "+Vi+"; q=0.01":""):V.accepts["*"]);for(q in V.headers)Se.setRequestHeader(q,V.headers[q]);if(V.beforeSend&&(V.beforeSend.call(Z,Se,V)===!1||O))return Se.abort();if(Be="abort",ye.add(V.complete),Se.done(V.success),Se.fail(V.error),c=sr(bs,V,a,Se),!c)mt(-1,"No Transport");else{if(Se.readyState=1,G&&be.trigger("ajaxSend",[Se,V]),O)return Se;V.async&&V.timeout>0&&(v=e.setTimeout(function(){Se.abort("timeout")},V.timeout));try{O=!1,c.send(Ke,mt)}catch(Le){if(O)throw Le;mt(-1,Le)}}function mt(Le,Ye,Gn,ji){var wt,It,wn,yt,cn,xt=Ye;O||(O=!0,v&&e.clearTimeout(v),c=void 0,y=ji||"",Se.readyState=Le>0?4:0,wt=Le>=200&&Le<300||Le===304,Gn&&(yt=rr(V,Se,Gn)),!wt&&f.inArray("script",V.dataTypes)>-1&&f.inArray("json",V.dataTypes)<0&&(V.converters["text script"]=function(){}),yt=or(V,yt,Se,wt),wt?(V.ifModified&&(cn=Se.getResponseHeader("Last-Modified"),cn&&(f.lastModified[h]=cn),cn=Se.getResponseHeader("etag"),cn&&(f.etag[h]=cn)),Le===204||V.type==="HEAD"?xt="nocontent":Le===304?xt="notmodified":(xt=yt.state,It=yt.data,wn=yt.error,wt=!wn)):(wn=xt,(Le||!xt)&&(xt="error",Le<0&&(Le=0))),Se.status=Le,Se.statusText=(Ye||xt)+"",wt?Ae.resolveWith(Z,[It,xt,Se]):Ae.rejectWith(Z,[Se,xt,wn]),Se.statusCode(Qe),Qe=void 0,G&&be.trigger(wt?"ajaxSuccess":"ajaxError",[Se,V,wt?It:wn]),ye.fireWith(Z,[Se,xt]),G&&(be.trigger("ajaxComplete",[Se,V]),--f.active||f.event.trigger("ajaxStop")))}return Se},getJSON:function(s,a,c){return f.get(s,a,c,"json")},getScript:function(s,a){return f.get(s,void 0,a,"script")}}),f.each(["get","post"],function(s,a){f[a]=function(c,h,y,_){return D(h)&&(_=_||y,y=h,h=void 0),f.ajax(f.extend({url:c,type:a,dataType:_,data:h,success:y},f.isPlainObject(c)&&c))}}),f.ajaxPrefilter(function(s){var a;for(a in s.headers)a.toLowerCase()==="content-type"&&(s.contentType=s.headers[a]||"")}),f._evalUrl=function(s,a,c){return f.ajax({url:s,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,converters:{"text script":function(){}},dataFilter:function(h){f.globalEval(h,a,c)}})},f.fn.extend({wrapAll:function(s){var a;return this[0]&&(D(s)&&(s=s.call(this[0])),a=f(s,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&a.insertBefore(this[0]),a.map(function(){for(var c=this;c.firstElementChild;)c=c.firstElementChild;return c}).append(this)),this},wrapInner:function(s){return D(s)?this.each(function(a){f(this).wrapInner(s.call(this,a))}):this.each(function(){var a=f(this),c=a.contents();c.length?c.wrapAll(s):a.append(s)})},wrap:function(s){var a=D(s);return this.each(function(c){f(this).wrapAll(a?s.call(this,c):s)})},unwrap:function(s){return this.parent(s).not("body").each(function(){f(this).replaceWith(this.childNodes)}),this}}),f.expr.pseudos.hidden=function(s){return!f.expr.pseudos.visible(s)},f.expr.pseudos.visible=function(s){return!!(s.offsetWidth||s.offsetHeight||s.getClientRects().length)},f.ajaxSettings.xhr=function(){try{return new e.XMLHttpRequest}catch{}};var gi={0:200,1223:204},Yt=f.ajaxSettings.xhr();x.cors=!!Yt&&"withCredentials"in Yt,x.ajax=Yt=!!Yt,f.ajaxTransport(function(s){var a,c;if(x.cors||Yt&&!s.crossDomain)return{send:function(h,y){var _,v=s.xhr();if(v.open(s.type,s.url,s.async,s.username,s.password),s.xhrFields)for(_ in s.xhrFields)v[_]=s.xhrFields[_];s.mimeType&&v.overrideMimeType&&v.overrideMimeType(s.mimeType),!s.crossDomain&&!h["X-Requested-With"]&&(h["X-Requested-With"]="XMLHttpRequest");for(_ in h)v.setRequestHeader(_,h[_]);a=function(L){return function(){a&&(a=c=v.onload=v.onerror=v.onabort=v.ontimeout=v.onreadystatechange=null,L==="abort"?v.abort():L==="error"?typeof v.status!="number"?y(0,"error"):y(v.status,v.statusText):y(gi[v.status]||v.status,v.statusText,(v.responseType||"text")!=="text"||typeof v.responseText!="string"?{binary:v.response}:{text:v.responseText},v.getAllResponseHeaders()))}},v.onload=a(),c=v.onerror=v.ontimeout=a("error"),v.onabort!==void 0?v.onabort=c:v.onreadystatechange=function(){v.readyState===4&&e.setTimeout(function(){a&&c()})},a=a("abort");try{v.send(s.hasContent&&s.data||null)}catch(L){if(a)throw L}},abort:function(){a&&a()}}}),f.ajaxPrefilter(function(s){s.crossDomain&&(s.contents.script=!1)}),f.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(s){return f.globalEval(s),s}}}),f.ajaxPrefilter("script",function(s){s.cache===void 0&&(s.cache=!1),s.crossDomain&&(s.type="GET")}),f.ajaxTransport("script",function(s){if(s.crossDomain||s.scriptAttrs){var a,c;return{send:function(h,y){a=f("<script>").attr(s.scriptAttrs||{}).prop({charset:s.scriptCharset,src:s.url}).on("load error",c=function(_){a.remove(),c=null,_&&y(_.type==="error"?404:200,_.type)}),z.head.appendChild(a[0])},abort:function(){c&&c()}}}});var ar=[],mi=/(=)\?(?=&|$)|\?\?/;f.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var s=ar.pop()||f.expando+"_"+Bn.guid++;return this[s]=!0,s}}),f.ajaxPrefilter("json jsonp",function(s,a,c){var h,y,_,v=s.jsonp!==!1&&(mi.test(s.url)?"url":typeof s.data=="string"&&(s.contentType||"").indexOf("application/x-www-form-urlencoded")===0&&mi.test(s.data)&&"data");if(v||s.dataTypes[0]==="jsonp")return h=s.jsonpCallback=D(s.jsonpCallback)?s.jsonpCallback():s.jsonpCallback,v?s[v]=s[v].replace(mi,"$1"+h):s.jsonp!==!1&&(s.url+=(_s.test(s.url)?"&":"?")+s.jsonp+"="+h),s.converters["script json"]=function(){return _||f.error(h+" was not called"),_[0]},s.dataTypes[0]="json",y=e[h],e[h]=function(){_=arguments},c.always(function(){y===void 0?f(e).removeProp(h):e[h]=y,s[h]&&(s.jsonpCallback=a.jsonpCallback,ar.push(h)),_&&D(y)&&y(_[0]),_=y=void 0}),"script"}),x.createHTMLDocument=function(){var s=z.implementation.createHTMLDocument("").body;return s.innerHTML="<form></form><form></form>",s.childNodes.length===2}(),f.parseHTML=function(s,a,c){if(typeof s!="string")return[];typeof a=="boolean"&&(c=a,a=!1);var h,y,_;return a||(x.createHTMLDocument?(a=z.implementation.createHTMLDocument(""),h=a.createElement("base"),h.href=z.location.href,a.head.appendChild(h)):a=z),y=me.exec(s),_=!c&&[],y?[a.createElement(y[1])]:(y=Mn([s],a,_),_&&_.length&&f(_).remove(),f.merge([],y.childNodes))},f.fn.load=function(s,a,c){var h,y,_,v=this,L=s.indexOf(" ");return L>-1&&(h=an(s.slice(L)),s=s.slice(0,L)),D(a)?(c=a,a=void 0):a&&typeof a=="object"&&(y="POST"),v.length>0&&f.ajax({url:s,type:y||"GET",dataType:"html",data:a}).done(function(O){_=arguments,v.html(h?f("<div>").append(f.parseHTML(O)).find(h):O)}).always(c&&function(O,G){v.each(function(){c.apply(this,_||[O.responseText,G,O])})}),this},f.expr.pseudos.animated=function(s){return f.grep(f.timers,function(a){return s===a.elem}).length},f.offset={setOffset:function(s,a,c){var h,y,_,v,L,O,G,q=f.css(s,"position"),ie=f(s),V={};q==="static"&&(s.style.position="relative"),L=ie.offset(),_=f.css(s,"top"),O=f.css(s,"left"),G=(q==="absolute"||q==="fixed")&&(_+O).indexOf("auto")>-1,G?(h=ie.position(),v=h.top,y=h.left):(v=parseFloat(_)||0,y=parseFloat(O)||0),D(a)&&(a=a.call(s,c,f.extend({},L))),a.top!=null&&(V.top=a.top-L.top+v),a.left!=null&&(V.left=a.left-L.left+y),"using"in a?a.using.call(s,V):ie.css(V)}},f.fn.extend({offset:function(s){if(arguments.length)return s===void 0?this:this.each(function(y){f.offset.setOffset(this,s,y)});var a,c,h=this[0];if(h)return h.getClientRects().length?(a=h.getBoundingClientRect(),c=h.ownerDocument.defaultView,{top:a.top+c.pageYOffset,left:a.left+c.pageXOffset}):{top:0,left:0}},position:function(){if(this[0]){var s,a,c,h=this[0],y={top:0,left:0};if(f.css(h,"position")==="fixed")a=h.getBoundingClientRect();else{for(a=this.offset(),c=h.ownerDocument,s=h.offsetParent||c.documentElement;s&&(s===c.body||s===c.documentElement)&&f.css(s,"position")==="static";)s=s.parentNode;s&&s!==h&&s.nodeType===1&&(y=f(s).offset(),y.top+=f.css(s,"borderTopWidth",!0),y.left+=f.css(s,"borderLeftWidth",!0))}return{top:a.top-y.top-f.css(h,"marginTop",!0),left:a.left-y.left-f.css(h,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var s=this.offsetParent;s&&f.css(s,"position")==="static";)s=s.offsetParent;return s||Pt})}}),f.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(s,a){var c=a==="pageYOffset";f.fn[s]=function(h){return et(this,function(y,_,v){var L;if(k(y)?L=y:y.nodeType===9&&(L=y.defaultView),v===void 0)return L?L[a]:y[_];L?L.scrollTo(c?L.pageXOffset:v,c?v:L.pageYOffset):y[_]=v},s,h,arguments.length)}}),f.each(["top","left"],function(s,a){f.cssHooks[a]=kn(x.pixelPosition,function(c,h){if(h)return h=bn(c,a),bt.test(h)?f(c).position()[a]+"px":h})}),f.each({Height:"height",Width:"width"},function(s,a){f.each({padding:"inner"+s,content:a,"":"outer"+s},function(c,h){f.fn[h]=function(y,_){var v=arguments.length&&(c||typeof y!="boolean"),L=c||(y===!0||_===!0?"margin":"border");return et(this,function(O,G,q){var ie;return k(O)?h.indexOf("outer")===0?O["inner"+s]:O.document.documentElement["client"+s]:O.nodeType===9?(ie=O.documentElement,Math.max(O.body["scroll"+s],ie["scroll"+s],O.body["offset"+s],ie["offset"+s],ie["client"+s])):q===void 0?f.css(O,G,L):f.style(O,G,q,L)},a,v?y:void 0,v)}})}),f.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(s,a){f.fn[a]=function(c){return this.on(a,c)}}),f.fn.extend({bind:function(s,a,c){return this.on(s,null,a,c)},unbind:function(s,a){return this.off(s,null,a)},delegate:function(s,a,c,h){return this.on(a,s,c,h)},undelegate:function(s,a,c){return arguments.length===1?this.off(s,"**"):this.off(a,s||"**",c)},hover:function(s,a){return this.mouseenter(s).mouseleave(a||s)}}),f.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(s,a){f.fn[a]=function(c,h){return arguments.length>0?this.on(a,null,c,h):this.trigger(a)}});var Xr=/^[\s\uFEFF\xA0]+|([^\s\uFEFF\xA0])[\s\uFEFF\xA0]+$/g;f.proxy=function(s,a){var c,h,y;if(typeof a=="string"&&(c=s[a],a=s,s=c),!!D(s))return h=u.call(arguments,2),y=function(){return s.apply(a||this,h.concat(u.call(arguments)))},y.guid=s.guid=s.guid||f.guid++,y},f.holdReady=function(s){s?f.readyWait++:f.ready(!0)},f.isArray=Array.isArray,f.parseJSON=JSON.parse,f.nodeName=de,f.isFunction=D,f.isWindow=k,f.camelCase=ut,f.type=Y,f.now=Date.now,f.isNumeric=function(s){var a=f.type(s);return(a==="number"||a==="string")&&!isNaN(s-parseFloat(s))},f.trim=function(s){return s==null?"":(s+"").replace(Xr,"$1")};var Zr=e.jQuery,Qr=e.$;return f.noConflict=function(s){return e.$===f&&(e.$=Qr),s&&e.jQuery===f&&(e.jQuery=Zr),f},typeof n>"u"&&(e.jQuery=e.$=f),f})}(gc)),Dr}var mc=il();const Fp=pc(mc);var _o={},yc={get exports(){return _o},set exports(t){_o=t}};/**
 * @license MIT
 * @fileOverview Favico animations
 * @author Miroslav Magda, http://blog.ejci.net
 * @version 0.3.10
 */(function(t){(function(){var e=function(n){n=n||{};var i={bgColor:"#d00",textColor:"#fff",fontFamily:"sans-serif",fontStyle:"bold",type:"circle",position:"down",animation:"slide",elementId:!1,dataUrl:!1,win:window},o,u,d,g,m,T,b,A,N,P,x,D,k,z,B,H;k={},k.ff=typeof InstallTrigger<"u",k.chrome=!!window.chrome,k.opera=!!window.opera||navigator.userAgent.indexOf("Opera")>=0,k.ie=!1,k.safari=Object.prototype.toString.call(window.HTMLElement).indexOf("Constructor")>0,k.supported=k.chrome||k.ff||k.opera;var Y=[];x=function(){},A=D=!1;var J=function(){o=K(i,n),o.bgColor=xe(o.bgColor),o.textColor=xe(o.textColor),o.position=o.position.toLowerCase(),o.animation=F.types[""+o.animation]?o.animation:i.animation,H=o.win.document;var C=o.position.indexOf("up")>-1,te=o.position.indexOf("left")>-1;if(C||te)for(var ue=0;ue<F.types[""+o.animation].length;ue++){var he=F.types[""+o.animation][ue];C&&(he.y<.6?he.y=he.y-.4:he.y=he.y-2*he.y+(1-he.w)),te&&(he.x<.6?he.x=he.x-.4:he.x=he.x-2*he.x+(1-he.h)),F.types[""+o.animation][ue]=he}o.type=fe[""+o.type]?o.type:i.type,u=re.getIcon(),m=document.createElement("canvas"),b=document.createElement("img"),u.hasAttribute("href")?(b.setAttribute("crossOrigin","anonymous"),b.onload=function(){d=b.height>0?b.height:32,g=b.width>0?b.width:32,m.height=d,m.width=g,T=m.getContext("2d"),f.ready()},b.setAttribute("src",u.getAttribute("href"))):(b.onload=function(){d=32,g=32,b.height=d,b.width=g,m.height=d,m.width=g,T=m.getContext("2d"),f.ready()},b.setAttribute("src",""))},f={};f.ready=function(){A=!0,f.reset(),x()},f.reset=function(){A&&(Y=[],N=!1,P=!1,T.clearRect(0,0,g,d),T.drawImage(b,0,0,g,d),re.setIcon(m),window.clearTimeout(z),window.clearTimeout(B))},f.start=function(){if(!(!A||P)){var C=function(){N=Y[0],P=!1,Y.length>0&&(Y.shift(),f.start())};if(Y.length>0){P=!0;var te=function(){["type","animation","bgColor","textColor","fontFamily","fontStyle"].forEach(function(ue){ue in Y[0].options&&(o[ue]=Y[0].options[ue])}),F.run(Y[0].options,function(){C()},!1)};N?F.run(N.options,function(){te()},!0):te()}}};var fe={},ee=function(C){return C.n=typeof C.n=="number"?Math.abs(C.n|0):C.n,C.x=g*C.x,C.y=d*C.y,C.w=g*C.w,C.h=d*C.h,C.len=(""+C.n).length,C};fe.circle=function(C){C=ee(C);var te=!1;C.len===2?(C.x=C.x-C.w*.4,C.w=C.w*1.4,te=!0):C.len>=3&&(C.x=C.x-C.w*.65,C.w=C.w*1.65,te=!0),T.clearRect(0,0,g,d),T.drawImage(b,0,0,g,d),T.beginPath(),T.font=o.fontStyle+" "+Math.floor(C.h*(C.n>99?.85:1))+"px "+o.fontFamily,T.textAlign="center",te?(T.moveTo(C.x+C.w/2,C.y),T.lineTo(C.x+C.w-C.h/2,C.y),T.quadraticCurveTo(C.x+C.w,C.y,C.x+C.w,C.y+C.h/2),T.lineTo(C.x+C.w,C.y+C.h-C.h/2),T.quadraticCurveTo(C.x+C.w,C.y+C.h,C.x+C.w-C.h/2,C.y+C.h),T.lineTo(C.x+C.h/2,C.y+C.h),T.quadraticCurveTo(C.x,C.y+C.h,C.x,C.y+C.h-C.h/2),T.lineTo(C.x,C.y+C.h/2),T.quadraticCurveTo(C.x,C.y,C.x+C.h/2,C.y)):T.arc(C.x+C.w/2,C.y+C.h/2,C.h/2,0,2*Math.PI),T.fillStyle="rgba("+o.bgColor.r+","+o.bgColor.g+","+o.bgColor.b+","+C.o+")",T.fill(),T.closePath(),T.beginPath(),T.stroke(),T.fillStyle="rgba("+o.textColor.r+","+o.textColor.g+","+o.textColor.b+","+C.o+")",typeof C.n=="number"&&C.n>999?T.fillText((C.n>9999?9:Math.floor(C.n/1e3))+"k+",Math.floor(C.x+C.w/2),Math.floor(C.y+C.h-C.h*.2)):T.fillText(C.n,Math.floor(C.x+C.w/2),Math.floor(C.y+C.h-C.h*.15)),T.closePath()},fe.rectangle=function(C){C=ee(C),C.len===2?(C.x=C.x-C.w*.4,C.w=C.w*1.4):C.len>=3&&(C.x=C.x-C.w*.65,C.w=C.w*1.65),T.clearRect(0,0,g,d),T.drawImage(b,0,0,g,d),T.beginPath(),T.font=o.fontStyle+" "+Math.floor(C.h*(C.n>99?.9:1))+"px "+o.fontFamily,T.textAlign="center",T.fillStyle="rgba("+o.bgColor.r+","+o.bgColor.g+","+o.bgColor.b+","+C.o+")",T.fillRect(C.x,C.y,C.w,C.h),T.fillStyle="rgba("+o.textColor.r+","+o.textColor.g+","+o.textColor.b+","+C.o+")",typeof C.n=="number"&&C.n>999?T.fillText((C.n>9999?9:Math.floor(C.n/1e3))+"k+",Math.floor(C.x+C.w/2),Math.floor(C.y+C.h-C.h*.2)):T.fillText(C.n,Math.floor(C.x+C.w/2),Math.floor(C.y+C.h-C.h*.15)),T.closePath()};var W=function(C,te){te=(typeof te=="string"?{animation:te}:te)||{},x=function(){try{if(typeof C=="number"?C>0:C!==""){var ue={type:"badge",options:{n:C}};if("animation"in te&&F.types[""+te.animation]&&(ue.options.animation=""+te.animation),"type"in te&&fe[""+te.type]&&(ue.options.type=""+te.type),["bgColor","textColor"].forEach(function(he){he in te&&(ue.options[he]=xe(te[he]))}),["fontStyle","fontFamily"].forEach(function(he){he in te&&(ue.options[he]=te[he])}),Y.push(ue),Y.length>100)throw new Error("Too many badges requests in queue.");f.start()}else f.reset()}catch(he){throw new Error("Error setting badge. Message: "+he.message)}},A&&x()},X=function(C){x=function(){try{var te=C.width,ue=C.height,he=document.createElement("img"),ke=te/g<ue/d?te/g:ue/d;he.setAttribute("crossOrigin","anonymous"),he.onload=function(){T.clearRect(0,0,g,d),T.drawImage(he,0,0,g,d),re.setIcon(m)},he.setAttribute("src",C.getAttribute("src")),he.height=ue/ke,he.width=te/ke}catch(Fe){throw new Error("Error setting image. Message: "+Fe.message)}},A&&x()},ae=function(C){x=function(){try{if(C==="stop"){D=!0,f.reset(),D=!1;return}C.addEventListener("play",function(){me(this)},!1)}catch(te){throw new Error("Error setting video. Message: "+te.message)}},A&&x()},de=function(C){if((!window.URL||!window.URL.createObjectURL)&&(window.URL=window.URL||{},window.URL.createObjectURL=function(ue){return ue}),k.supported){var te=!1;navigator.getUserMedia=navigator.getUserMedia||navigator.oGetUserMedia||navigator.msGetUserMedia||navigator.mozGetUserMedia||navigator.webkitGetUserMedia,x=function(){try{if(C==="stop"){D=!0,f.reset(),D=!1;return}te=document.createElement("video"),te.width=g,te.height=d,navigator.getUserMedia({video:!0,audio:!1},function(ue){te.src=URL.createObjectURL(ue),te.play(),me(te)},function(){})}catch(ue){throw new Error("Error setting webcam. Message: "+ue.message)}},A&&x()}};function me(C){if(C.paused||C.ended||D)return!1;try{T.clearRect(0,0,g,d),T.drawImage(C,0,0,g,d)}catch{}B=setTimeout(function(){me(C)},F.duration),re.setIcon(m)}var re={};re.getIcon=function(){var C=!1,te=function(){for(var ue=H.getElementsByTagName("head")[0].getElementsByTagName("link"),he=ue.length,ke=he-1;ke>=0;ke--)if(/(^|\s)icon(\s|$)/i.test(ue[ke].getAttribute("rel")))return ue[ke];return!1};return o.element?C=o.element:o.elementId?(C=H.getElementById(o.elementId),C.setAttribute("href",C.getAttribute("src"))):(C=te(),C===!1&&(C=H.createElement("link"),C.setAttribute("rel","icon"),H.getElementsByTagName("head")[0].appendChild(C))),C.setAttribute("type","image/png"),C},re.setIcon=function(C){var te=C.toDataURL("image/png");if(o.dataUrl&&o.dataUrl(te),o.element)o.element.setAttribute("href",te),o.element.setAttribute("src",te);else if(o.elementId){var ue=H.getElementById(o.elementId);ue.setAttribute("href",te),ue.setAttribute("src",te)}else if(k.ff||k.opera){var he=u;u=H.createElement("link"),k.opera&&u.setAttribute("rel","icon"),u.setAttribute("rel","icon"),u.setAttribute("type","image/png"),H.getElementsByTagName("head")[0].appendChild(u),u.setAttribute("href",te),he.parentNode&&he.parentNode.removeChild(he)}else u.setAttribute("href",te)};function xe(C){var te=/^#?([a-f\d])([a-f\d])([a-f\d])$/i;C=C.replace(te,function(he,ke,Fe,pt){return ke+ke+Fe+Fe+pt+pt});var ue=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(C);return ue?{r:parseInt(ue[1],16),g:parseInt(ue[2],16),b:parseInt(ue[3],16)}:!1}function K(C,te){var ue={},he;for(he in C)ue[he]=C[he];for(he in te)ue[he]=te[he];return ue}function le(){return H.hidden||H.msHidden||H.webkitHidden||H.mozHidden}var F={};return F.duration=40,F.types={},F.types.fade=[{x:.4,y:.4,w:.6,h:.6,o:0},{x:.4,y:.4,w:.6,h:.6,o:.1},{x:.4,y:.4,w:.6,h:.6,o:.2},{x:.4,y:.4,w:.6,h:.6,o:.3},{x:.4,y:.4,w:.6,h:.6,o:.4},{x:.4,y:.4,w:.6,h:.6,o:.5},{x:.4,y:.4,w:.6,h:.6,o:.6},{x:.4,y:.4,w:.6,h:.6,o:.7},{x:.4,y:.4,w:.6,h:.6,o:.8},{x:.4,y:.4,w:.6,h:.6,o:.9},{x:.4,y:.4,w:.6,h:.6,o:1}],F.types.none=[{x:.4,y:.4,w:.6,h:.6,o:1}],F.types.pop=[{x:1,y:1,w:0,h:0,o:1},{x:.9,y:.9,w:.1,h:.1,o:1},{x:.8,y:.8,w:.2,h:.2,o:1},{x:.7,y:.7,w:.3,h:.3,o:1},{x:.6,y:.6,w:.4,h:.4,o:1},{x:.5,y:.5,w:.5,h:.5,o:1},{x:.4,y:.4,w:.6,h:.6,o:1}],F.types.popFade=[{x:.75,y:.75,w:0,h:0,o:0},{x:.65,y:.65,w:.1,h:.1,o:.2},{x:.6,y:.6,w:.2,h:.2,o:.4},{x:.55,y:.55,w:.3,h:.3,o:.6},{x:.5,y:.5,w:.4,h:.4,o:.8},{x:.45,y:.45,w:.5,h:.5,o:.9},{x:.4,y:.4,w:.6,h:.6,o:1}],F.types.slide=[{x:.4,y:1,w:.6,h:.6,o:1},{x:.4,y:.9,w:.6,h:.6,o:1},{x:.4,y:.9,w:.6,h:.6,o:1},{x:.4,y:.8,w:.6,h:.6,o:1},{x:.4,y:.7,w:.6,h:.6,o:1},{x:.4,y:.6,w:.6,h:.6,o:1},{x:.4,y:.5,w:.6,h:.6,o:1},{x:.4,y:.4,w:.6,h:.6,o:1}],F.run=function(C,te,ue,he){var ke=F.types[le()?"none":o.animation];if(ue===!0?he=typeof he<"u"?he:ke.length-1:he=typeof he<"u"?he:0,te=te||function(){},he<ke.length&&he>=0)fe[o.type](K(C,ke[he])),z=setTimeout(function(){ue?he=he-1:he=he+1,F.run(C,te,ue,he)},F.duration),re.setIcon(m);else{te();return}},J(),{badge:W,video:ae,image:X,webcam:de,reset:f.reset,browser:{supported:k.supported}}};t.exports?t.exports=e:this.Favico=e})()})(yc);const kp=_o;var Eo={},_c={get exports(){return Eo},set exports(t){Eo=t}};(function(t){(function(e){e(["jquery"],function(n){return function(){var i,o,u=0,d={error:"error",info:"info",success:"success",warning:"warning"},g={clear:D,remove:k,error:T,getContainer:b,info:A,options:{},subscribe:N,success:P,version:"2.1.4",warning:x},m;return g;function T(W,X,ae){return f({type:d.error,iconClass:fe().iconClasses.error,message:W,optionsOverride:ae,title:X})}function b(W,X){return W||(W=fe()),i=n("#"+W.containerId),i.length||X&&(i=H(W)),i}function A(W,X,ae){return f({type:d.info,iconClass:fe().iconClasses.info,message:W,optionsOverride:ae,title:X})}function N(W){o=W}function P(W,X,ae){return f({type:d.success,iconClass:fe().iconClasses.success,message:W,optionsOverride:ae,title:X})}function x(W,X,ae){return f({type:d.warning,iconClass:fe().iconClasses.warning,message:W,optionsOverride:ae,title:X})}function D(W,X){var ae=fe();i||b(ae),B(W,ae,X)||z(ae)}function k(W){var X=fe();if(i||b(X),W&&n(":focus",W).length===0){ee(W);return}i.children().length&&i.remove()}function z(W){for(var X=i.children(),ae=X.length-1;ae>=0;ae--)B(n(X[ae]),W)}function B(W,X,ae){var de=ae&&ae.force?ae.force:!1;return W&&(de||n(":focus",W).length===0)?(W[X.hideMethod]({duration:X.hideDuration,easing:X.hideEasing,complete:function(){ee(W)}}),!0):!1}function H(W){return i=n("<div/>").attr("id",W.containerId).addClass(W.positionClass),i.appendTo(n(W.target)),i}function Y(){return{tapToDismiss:!0,toastClass:"toast",containerId:"toast-container",debug:!1,showMethod:"fadeIn",showDuration:300,showEasing:"swing",onShown:void 0,hideMethod:"fadeOut",hideDuration:1e3,hideEasing:"swing",onHidden:void 0,closeMethod:!1,closeDuration:!1,closeEasing:!1,closeOnHover:!0,extendedTimeOut:1e3,iconClasses:{error:"toast-error",info:"toast-info",success:"toast-success",warning:"toast-warning"},iconClass:"toast-info",positionClass:"toast-top-right",timeOut:5e3,titleClass:"toast-title",messageClass:"toast-message",escapeHtml:!1,target:"body",closeHtml:'<button type="button">&times;</button>',closeClass:"toast-close-button",newestOnTop:!0,preventDuplicates:!1,progressBar:!1,progressClass:"toast-progress",rtl:!1}}function J(W){o&&o(W)}function f(W){var X=fe(),ae=W.iconClass||X.iconClass;if(typeof W.optionsOverride<"u"&&(X=n.extend(X,W.optionsOverride),ae=W.optionsOverride.iconClass||ae),as(X,W))return;u++,i=b(X,!0);var de=null,me=n("<div/>"),re=n("<div/>"),xe=n("<div/>"),K=n("<div/>"),le=n(X.closeHtml),F={intervalId:null,hideEta:null,maxHideTime:null},C={toastId:u,state:"visible",startTime:new Date,options:X,map:W};return ue(),Fe(),ke(),J(C),X.debug&&console&&console.log(C),me;function te(Te){return Te==null&&(Te=""),Te.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function ue(){pt(),We(),Ze(),et(),Xe(),Ce(),Ie(),he()}function he(){var Te="";switch(W.iconClass){case"toast-success":case"toast-info":Te="polite";break;default:Te="assertive"}me.attr("aria-live",Te)}function ke(){X.closeOnHover&&me.hover($t,Wt),!X.onclick&&X.tapToDismiss&&me.click(ut),X.closeButton&&le&&le.click(function(Te){Te.stopPropagation?Te.stopPropagation():Te.cancelBubble!==void 0&&Te.cancelBubble!==!0&&(Te.cancelBubble=!0),X.onCloseClick&&X.onCloseClick(Te),ut(!0)}),X.onclick&&me.click(function(Te){X.onclick(Te),ut()})}function Fe(){me.hide(),me[X.showMethod]({duration:X.showDuration,easing:X.showEasing,complete:X.onShown}),X.timeOut>0&&(de=setTimeout(ut,X.timeOut),F.maxHideTime=parseFloat(X.timeOut),F.hideEta=new Date().getTime()+F.maxHideTime,X.progressBar&&(F.intervalId=setInterval(Ee,10)))}function pt(){W.iconClass&&me.addClass(X.toastClass).addClass(ae)}function Ie(){X.newestOnTop?i.prepend(me):i.append(me)}function We(){if(W.title){var Te=W.title;X.escapeHtml&&(Te=te(W.title)),re.append(Te).addClass(X.titleClass),me.append(re)}}function Ze(){if(W.message){var Te=W.message;X.escapeHtml&&(Te=te(W.message)),xe.append(Te).addClass(X.messageClass),me.append(xe)}}function et(){X.closeButton&&(le.addClass(X.closeClass).attr("role","button"),me.prepend(le))}function Xe(){X.progressBar&&(K.addClass(X.progressClass),me.prepend(K))}function Ce(){X.rtl&&me.addClass("rtl")}function as(Te,tn){if(Te.preventDuplicates){if(tn.message===m)return!0;m=tn.message}return!1}function ut(Te){var tn=Te&&X.closeMethod!==!1?X.closeMethod:X.hideMethod,si=Te&&X.closeDuration!==!1?X.closeDuration:X.hideDuration,Di=Te&&X.closeEasing!==!1?X.closeEasing:X.hideEasing;if(!(n(":focus",me).length&&!Te))return clearTimeout(F.intervalId),me[tn]({duration:si,easing:Di,complete:function(){ee(me),clearTimeout(de),X.onHidden&&C.state!=="hidden"&&X.onHidden(),C.state="hidden",C.endTime=new Date,J(C)}})}function Wt(){(X.timeOut>0||X.extendedTimeOut>0)&&(de=setTimeout(ut,X.extendedTimeOut),F.maxHideTime=parseFloat(X.extendedTimeOut),F.hideEta=new Date().getTime()+F.maxHideTime)}function $t(){clearTimeout(de),F.hideEta=0,me.stop(!0,!0)[X.showMethod]({duration:X.showDuration,easing:X.showEasing})}function Ee(){var Te=(F.hideEta-new Date().getTime())/F.maxHideTime*100;K.width(Te+"%")}}function fe(){return n.extend({},Y(),g.options)}function ee(W){i||(i=b()),!W.is(":visible")&&(W.remove(),W=null,i.children().length===0&&(i.remove(),m=void 0))}}()})})(function(e,n){t.exports?t.exports=n(il()):window.toastr=n(window.jQuery)})})(_c);const $p=Eo,ts=t=>typeof t=="object"&&t!==null&&t.constructor===Object&&Object.prototype.toString.call(t)==="[object Object]",Rt=(...t)=>{let e=!1;typeof t[0]=="boolean"&&(e=t.shift());let n=t[0];if(!n||typeof n!="object")throw new Error("extendee must be an object");const i=t.slice(1),o=i.length;for(let u=0;u<o;u++){const d=i[u];for(let g in d)if(d.hasOwnProperty(g)){const m=d[g];if(e&&(Array.isArray(m)||ts(m))){const T=Array.isArray(m)?[]:{};n[g]=Rt(!0,n.hasOwnProperty(g)?n[g]:T,m)}else n[g]=m}}return n},rt=(t,e=1e4)=>(t=parseFloat(t)||0,Math.round((t+Number.EPSILON)*e)/e),Lr=function(t){return!!(t&&typeof t=="object"&&t instanceof Element&&t!==document.body)&&!t.__Panzoom&&(function(e){const n=getComputedStyle(e)["overflow-y"],i=getComputedStyle(e)["overflow-x"],o=(n==="scroll"||n==="auto")&&Math.abs(e.scrollHeight-e.clientHeight)>1,u=(i==="scroll"||i==="auto")&&Math.abs(e.scrollWidth-e.clientWidth)>1;return o||u}(t)?t:Lr(t.parentNode))},Ec=typeof window<"u"&&window.ResizeObserver||class{constructor(t){this.observables=[],this.boundCheck=this.check.bind(this),this.boundCheck(),this.callback=t}observe(t){if(this.observables.some(n=>n.el===t))return;const e={el:t,size:{height:t.clientHeight,width:t.clientWidth}};this.observables.push(e)}unobserve(t){this.observables=this.observables.filter(e=>e.el!==t)}disconnect(){this.observables=[]}check(){const t=this.observables.filter(e=>{const n=e.el.clientHeight,i=e.el.clientWidth;if(e.size.height!==n||e.size.width!==i)return e.size.height=n,e.size.width=i,!0}).map(e=>e.el);t.length>0&&this.callback(t),window.requestAnimationFrame(this.boundCheck)}};class Qi{constructor(e){this.id=self.Touch&&e instanceof Touch?e.identifier:-1,this.pageX=e.pageX,this.pageY=e.pageY,this.clientX=e.clientX,this.clientY=e.clientY}}const la=(t,e)=>e?Math.sqrt((e.clientX-t.clientX)**2+(e.clientY-t.clientY)**2):0,lo=(t,e)=>e?{clientX:(t.clientX+e.clientX)/2,clientY:(t.clientY+e.clientY)/2}:t;class vc{constructor(e,{start:n=()=>!0,move:i=()=>{},end:o=()=>{}}={}){this._element=e,this.startPointers=[],this.currentPointers=[],this._pointerStart=u=>{if(u.buttons>0&&u.button!==0)return;const d=new Qi(u);this.currentPointers.some(g=>g.id===d.id)||this._triggerPointerStart(d,u)&&(window.addEventListener("mousemove",this._move),window.addEventListener("mouseup",this._pointerEnd))},this._touchStart=u=>{for(const d of Array.from(u.changedTouches||[]))this._triggerPointerStart(new Qi(d),u)},this._move=u=>{const d=this.currentPointers.slice(),g=(m=>"changedTouches"in m)(u)?Array.from(u.changedTouches).map(m=>new Qi(m)):[new Qi(u)];for(const m of g){const T=this.currentPointers.findIndex(b=>b.id===m.id);T<0||(this.currentPointers[T]=m)}this._moveCallback(d,this.currentPointers.slice(),u)},this._triggerPointerEnd=(u,d)=>{const g=this.currentPointers.findIndex(m=>m.id===u.id);return!(g<0)&&(this.currentPointers.splice(g,1),this.startPointers.splice(g,1),this._endCallback(u,d),!0)},this._pointerEnd=u=>{u.buttons>0&&u.button!==0||this._triggerPointerEnd(new Qi(u),u)&&(window.removeEventListener("mousemove",this._move,{passive:!1}),window.removeEventListener("mouseup",this._pointerEnd,{passive:!1}))},this._touchEnd=u=>{for(const d of Array.from(u.changedTouches||[]))this._triggerPointerEnd(new Qi(d),u)},this._startCallback=n,this._moveCallback=i,this._endCallback=o,this._element.addEventListener("mousedown",this._pointerStart,{passive:!1}),this._element.addEventListener("touchstart",this._touchStart,{passive:!1}),this._element.addEventListener("touchmove",this._move,{passive:!1}),this._element.addEventListener("touchend",this._touchEnd),this._element.addEventListener("touchcancel",this._touchEnd)}stop(){this._element.removeEventListener("mousedown",this._pointerStart,{passive:!1}),this._element.removeEventListener("touchstart",this._touchStart,{passive:!1}),this._element.removeEventListener("touchmove",this._move,{passive:!1}),this._element.removeEventListener("touchend",this._touchEnd),this._element.removeEventListener("touchcancel",this._touchEnd),window.removeEventListener("mousemove",this._move),window.removeEventListener("mouseup",this._pointerEnd)}_triggerPointerStart(e,n){return!!this._startCallback(e,n)&&(this.currentPointers.push(e),this.startPointers.push(e),!0)}}class No{constructor(e={}){this.options=Rt(!0,{},e),this.plugins=[],this.events={};for(const n of["on","once"])for(const i of Object.entries(this.options[n]||{}))this[n](...i)}option(e,n,...i){e=String(e);let o=(u=e,d=this.options,u.split(".").reduce(function(g,m){return g&&g[m]},d));var u,d;return typeof o=="function"&&(o=o.call(this,this,...i)),o===void 0?n:o}localize(e,n=[]){return e=(e=String(e).replace(/\{\{(\w+).?(\w+)?\}\}/g,(i,o,u)=>{let d="";u?d=this.option(`${o[0]+o.toLowerCase().substring(1)}.l10n.${u}`):o&&(d=this.option(`l10n.${o}`)),d||(d=i);for(let g=0;g<n.length;g++)d=d.split(n[g][0]).join(n[g][1]);return d})).replace(/\{\{(.*)\}\}/,(i,o)=>o)}on(e,n){if(ts(e)){for(const i of Object.entries(e))this.on(...i);return this}return String(e).split(" ").forEach(i=>{const o=this.events[i]=this.events[i]||[];o.indexOf(n)==-1&&o.push(n)}),this}once(e,n){if(ts(e)){for(const i of Object.entries(e))this.once(...i);return this}return String(e).split(" ").forEach(i=>{const o=(...u)=>{this.off(i,o),n.call(this,this,...u)};o._=n,this.on(i,o)}),this}off(e,n){if(!ts(e))return e.split(" ").forEach(i=>{const o=this.events[i];if(!o||!o.length)return this;let u=-1;for(let d=0,g=o.length;d<g;d++){const m=o[d];if(m&&(m===n||m._===n)){u=d;break}}u!=-1&&o.splice(u,1)}),this;for(const i of Object.entries(e))this.off(...i)}trigger(e,...n){for(const i of[...this.events[e]||[]].slice())if(i&&i.call(this,this,...n)===!1)return!1;for(const i of[...this.events["*"]||[]].slice())if(i&&i.call(this,e,this,...n)===!1)return!1;return!0}attachPlugins(e){const n={};for(const[i,o]of Object.entries(e||{}))this.options[i]===!1||this.plugins[i]||(this.options[i]=Rt({},o.defaults||{},this.options[i]),n[i]=new o(this));for(const[i,o]of Object.entries(n))o.attach(this);return this.plugins=Object.assign({},this.plugins,n),this}detachPlugins(){for(const e in this.plugins){let n;(n=this.plugins[e])&&typeof n.detach=="function"&&n.detach(this)}return this.plugins={},this}}const bc={touch:!0,zoom:!0,pinchToZoom:!0,panOnlyZoomed:!1,lockAxis:!1,friction:.64,decelFriction:.88,zoomFriction:.74,bounceForce:.2,baseScale:1,minScale:1,maxScale:2,step:.5,textSelection:!1,click:"toggleZoom",wheel:"zoom",wheelFactor:42,wheelLimit:5,draggableClass:"is-draggable",draggingClass:"is-dragging",ratio:1};class is extends No{constructor(e,n={}){super(Rt(!0,{},bc,n)),this.state="init",this.$container=e;for(const i of["onLoad","onWheel","onClick"])this[i]=this[i].bind(this);this.initLayout(),this.resetValues(),this.attachPlugins(is.Plugins),this.trigger("init"),this.updateMetrics(),this.attachEvents(),this.trigger("ready"),this.option("centerOnStart")===!1?this.state="ready":this.panTo({friction:0}),e.__Panzoom=this}initLayout(){const e=this.$container;if(!(e instanceof HTMLElement))throw new Error("Panzoom: Container not found");const n=this.option("content")||e.querySelector(".panzoom__content");if(!n)throw new Error("Panzoom: Content not found");this.$content=n;let i=this.option("viewport")||e.querySelector(".panzoom__viewport");i||this.option("wrapInner")===!1||(i=document.createElement("div"),i.classList.add("panzoom__viewport"),i.append(...e.childNodes),e.appendChild(i)),this.$viewport=i||n.parentNode}resetValues(){this.updateRate=this.option("updateRate",/iPhone|iPad|iPod|Android/i.test(navigator.userAgent)?250:24),this.container={width:0,height:0},this.viewport={width:0,height:0},this.content={origWidth:0,origHeight:0,width:0,height:0,x:this.option("x",0),y:this.option("y",0),scale:this.option("baseScale")},this.transform={x:0,y:0,scale:1},this.resetDragPosition()}onLoad(e){this.updateMetrics(),this.panTo({scale:this.option("baseScale"),friction:0}),this.trigger("load",e)}onClick(e){if(e.defaultPrevented||document.activeElement&&document.activeElement.closest("[contenteditable]"))return;if(this.option("textSelection")&&window.getSelection().toString().length&&(!e.target||!e.target.hasAttribute("data-fancybox-close")))return void e.stopPropagation();const n=this.$content.getClientRects()[0];if(this.state!=="ready"&&(this.dragPosition.midPoint||Math.abs(n.top-this.dragStart.rect.top)>1||Math.abs(n.left-this.dragStart.rect.left)>1))return e.preventDefault(),void e.stopPropagation();this.trigger("click",e)!==!1&&this.option("zoom")&&this.option("click")==="toggleZoom"&&(e.preventDefault(),e.stopPropagation(),this.zoomWithClick(e))}onWheel(e){this.trigger("wheel",e)!==!1&&this.option("zoom")&&this.option("wheel")&&this.zoomWithWheel(e)}zoomWithWheel(e){this.changedDelta===void 0&&(this.changedDelta=0);const n=Math.max(-1,Math.min(1,-e.deltaY||-e.deltaX||e.wheelDelta||-e.detail)),i=this.content.scale;let o=i*(100+n*this.option("wheelFactor"))/100;if(n<0&&Math.abs(i-this.option("minScale"))<.01||n>0&&Math.abs(i-this.option("maxScale"))<.01?(this.changedDelta+=Math.abs(n),o=i):(this.changedDelta=0,o=Math.max(Math.min(o,this.option("maxScale")),this.option("minScale"))),this.changedDelta>this.option("wheelLimit")||(e.preventDefault(),o===i))return;const u=this.$content.getBoundingClientRect(),d=e.clientX-u.left,g=e.clientY-u.top;this.zoomTo(o,{x:d,y:g})}zoomWithClick(e){const n=this.$content.getClientRects()[0],i=e.clientX-n.left,o=e.clientY-n.top;this.toggleZoom({x:i,y:o})}attachEvents(){this.$content.addEventListener("load",this.onLoad),this.$container.addEventListener("wheel",this.onWheel,{passive:!1}),this.$container.addEventListener("click",this.onClick,{passive:!1}),this.initObserver();const e=new vc(this.$container,{start:(n,i)=>{if(!this.option("touch")||this.velocity.scale<0)return!1;const o=i.composedPath()[0];return!e.currentPointers.length&&(["BUTTON","TEXTAREA","OPTION","INPUT","SELECT","VIDEO"].indexOf(o.nodeName)!==-1||this.option("textSelection")&&((u,d,g)=>{const m=u.childNodes,T=document.createRange();for(let b=0;b<m.length;b++){const A=m[b];if(A.nodeType!==Node.TEXT_NODE)continue;T.selectNodeContents(A);const N=T.getBoundingClientRect();if(d>=N.left&&g>=N.top&&d<=N.right&&g<=N.bottom)return A}return!1})(o,n.clientX,n.clientY))?!1:!Lr(o)&&this.trigger("touchStart",i)!==!1&&(i.type==="mousedown"&&i.preventDefault(),this.state="pointerdown",this.resetDragPosition(),this.dragPosition.midPoint=null,this.dragPosition.time=Date.now(),!0)},move:(n,i,o)=>{if(this.state!=="pointerdown")return;if(this.trigger("touchMove",o)===!1)return void o.preventDefault();if(i.length<2&&this.option("panOnlyZoomed")===!0&&this.content.width<=this.viewport.width&&this.content.height<=this.viewport.height&&this.transform.scale<=this.option("baseScale")||i.length>1&&(!this.option("zoom")||this.option("pinchToZoom")===!1))return;const u=lo(n[0],n[1]),d=lo(i[0],i[1]),g=d.clientX-u.clientX,m=d.clientY-u.clientY,T=la(n[0],n[1]),b=la(i[0],i[1]),A=T&&b?b/T:1;this.dragOffset.x+=g,this.dragOffset.y+=m,this.dragOffset.scale*=A,this.dragOffset.time=Date.now()-this.dragPosition.time;const N=this.dragStart.scale===1&&this.option("lockAxis");if(N&&!this.lockAxis){if(Math.abs(this.dragOffset.x)<6&&Math.abs(this.dragOffset.y)<6)return void o.preventDefault();const P=Math.abs(180*Math.atan2(this.dragOffset.y,this.dragOffset.x)/Math.PI);this.lockAxis=P>45&&P<135?"y":"x"}if(N==="xy"||this.lockAxis!=="y"){if(o.preventDefault(),o.stopPropagation(),o.stopImmediatePropagation(),this.lockAxis&&(this.dragOffset[this.lockAxis==="x"?"y":"x"]=0),this.$container.classList.add(this.option("draggingClass")),this.transform.scale===this.option("baseScale")&&this.lockAxis==="y"||(this.dragPosition.x=this.dragStart.x+this.dragOffset.x),this.transform.scale===this.option("baseScale")&&this.lockAxis==="x"||(this.dragPosition.y=this.dragStart.y+this.dragOffset.y),this.dragPosition.scale=this.dragStart.scale*this.dragOffset.scale,i.length>1){const P=lo(e.startPointers[0],e.startPointers[1]),x=P.clientX-this.dragStart.rect.x,D=P.clientY-this.dragStart.rect.y,{deltaX:k,deltaY:z}=this.getZoomDelta(this.content.scale*this.dragOffset.scale,x,D);this.dragPosition.x-=k,this.dragPosition.y-=z,this.dragPosition.midPoint=d}else this.setDragResistance();this.transform={x:this.dragPosition.x,y:this.dragPosition.y,scale:this.dragPosition.scale},this.startAnimation()}},end:(n,i)=>{if(this.state!=="pointerdown")return;if(this._dragOffset={...this.dragOffset},e.currentPointers.length)return void this.resetDragPosition();if(this.state="decel",this.friction=this.option("decelFriction"),this.recalculateTransform(),this.$container.classList.remove(this.option("draggingClass")),this.trigger("touchEnd",i)===!1||this.state!=="decel")return;const o=this.option("minScale");if(this.transform.scale<o)return void this.zoomTo(o,{friction:.64});const u=this.option("maxScale");if(this.transform.scale-u>.01){const d=this.dragPosition.midPoint||n,g=this.$content.getClientRects()[0];this.zoomTo(u,{friction:.64,x:d.clientX-g.left,y:d.clientY-g.top})}}});this.pointerTracker=e}initObserver(){this.resizeObserver||(this.resizeObserver=new Ec(()=>{this.updateTimer||(this.updateTimer=setTimeout(()=>{const e=this.$container.getBoundingClientRect();e.width&&e.height?((Math.abs(e.width-this.container.width)>1||Math.abs(e.height-this.container.height)>1)&&(this.isAnimating()&&this.endAnimation(!0),this.updateMetrics(),this.panTo({x:this.content.x,y:this.content.y,scale:this.option("baseScale"),friction:0})),this.updateTimer=null):this.updateTimer=null},this.updateRate))}),this.resizeObserver.observe(this.$container))}resetDragPosition(){this.lockAxis=null,this.friction=this.option("friction"),this.velocity={x:0,y:0,scale:0};const{x:e,y:n,scale:i}=this.content;this.dragStart={rect:this.$content.getBoundingClientRect(),x:e,y:n,scale:i},this.dragPosition={...this.dragPosition,x:e,y:n,scale:i},this.dragOffset={x:0,y:0,scale:1,time:0}}updateMetrics(e){e!==!0&&this.trigger("beforeUpdate");const n=this.$container,i=this.$content,o=this.$viewport,u=i instanceof HTMLImageElement,d=this.option("zoom"),g=this.option("resizeParent",d);let m=this.option("width"),T=this.option("height"),b=m||(A=i,Math.max(parseFloat(A.naturalWidth||0),parseFloat(A.width&&A.width.baseVal&&A.width.baseVal.value||0),parseFloat(A.offsetWidth||0),parseFloat(A.scrollWidth||0)));var A;let N=T||(Y=>Math.max(parseFloat(Y.naturalHeight||0),parseFloat(Y.height&&Y.height.baseVal&&Y.height.baseVal.value||0),parseFloat(Y.offsetHeight||0),parseFloat(Y.scrollHeight||0)))(i);Object.assign(i.style,{width:m?`${m}px`:"",height:T?`${T}px`:"",maxWidth:"",maxHeight:""}),g&&Object.assign(o.style,{width:"",height:""});const P=this.option("ratio");b=rt(b*P),N=rt(N*P),m=b,T=N;const x=i.getBoundingClientRect(),D=o.getBoundingClientRect(),k=o==n?D:n.getBoundingClientRect();let z=Math.max(o.offsetWidth,rt(D.width)),B=Math.max(o.offsetHeight,rt(D.height)),H=window.getComputedStyle(o);if(z-=parseFloat(H.paddingLeft)+parseFloat(H.paddingRight),B-=parseFloat(H.paddingTop)+parseFloat(H.paddingBottom),this.viewport.width=z,this.viewport.height=B,d){if(Math.abs(b-x.width)>.1||Math.abs(N-x.height)>.1){const Y=((J,f,fe,ee)=>{const W=Math.min(fe/J||0,ee/f);return{width:J*W||0,height:f*W||0}})(b,N,Math.min(b,x.width),Math.min(N,x.height));m=rt(Y.width),T=rt(Y.height)}Object.assign(i.style,{width:`${m}px`,height:`${T}px`,transform:""})}if(g&&(Object.assign(o.style,{width:`${m}px`,height:`${T}px`}),this.viewport={...this.viewport,width:m,height:T}),u&&d&&typeof this.options.maxScale!="function"){const Y=this.option("maxScale");this.options.maxScale=function(){return this.content.origWidth>0&&this.content.fitWidth>0?this.content.origWidth/this.content.fitWidth:Y}}this.content={...this.content,origWidth:b,origHeight:N,fitWidth:m,fitHeight:T,width:m,height:T,scale:1,isZoomable:d},this.container={width:k.width,height:k.height},e!==!0&&this.trigger("afterUpdate")}zoomIn(e){this.zoomTo(this.content.scale+(e||this.option("step")))}zoomOut(e){this.zoomTo(this.content.scale-(e||this.option("step")))}toggleZoom(e={}){const n=this.option("maxScale"),i=this.option("baseScale"),o=this.content.scale>i+.5*(n-i)?i:n;this.zoomTo(o,e)}zoomTo(e=this.option("baseScale"),{x:n=null,y:i=null}={}){e=Math.max(Math.min(e,this.option("maxScale")),this.option("minScale"));const o=rt(this.content.scale/(this.content.width/this.content.fitWidth),1e7);n===null&&(n=this.content.width*o*.5),i===null&&(i=this.content.height*o*.5);const{deltaX:u,deltaY:d}=this.getZoomDelta(e,n,i);n=this.content.x-u,i=this.content.y-d,this.panTo({x:n,y:i,scale:e,friction:this.option("zoomFriction")})}getZoomDelta(e,n=0,i=0){const o=this.content.fitWidth*this.content.scale,u=this.content.fitHeight*this.content.scale,d=n>0&&o?n/o:0,g=i>0&&u?i/u:0;return{deltaX:(this.content.fitWidth*e-o)*d,deltaY:(this.content.fitHeight*e-u)*g}}panTo({x:e=this.content.x,y:n=this.content.y,scale:i,friction:o=this.option("friction"),ignoreBounds:u=!1}={}){if(i=i||this.content.scale||1,!u){const{boundX:d,boundY:g}=this.getBounds(i);d&&(e=Math.max(Math.min(e,d.to),d.from)),g&&(n=Math.max(Math.min(n,g.to),g.from))}this.friction=o,this.transform={...this.transform,x:e,y:n,scale:i},o?(this.state="panning",this.velocity={x:(1/this.friction-1)*(e-this.content.x),y:(1/this.friction-1)*(n-this.content.y),scale:(1/this.friction-1)*(i-this.content.scale)},this.startAnimation()):this.endAnimation()}startAnimation(){this.rAF?cancelAnimationFrame(this.rAF):this.trigger("startAnimation"),this.rAF=requestAnimationFrame(()=>this.animate())}animate(){if(this.setEdgeForce(),this.setDragForce(),this.velocity.x*=this.friction,this.velocity.y*=this.friction,this.velocity.scale*=this.friction,this.content.x+=this.velocity.x,this.content.y+=this.velocity.y,this.content.scale+=this.velocity.scale,this.isAnimating())this.setTransform();else if(this.state!=="pointerdown")return void this.endAnimation();this.rAF=requestAnimationFrame(()=>this.animate())}getBounds(e){let n=this.boundX,i=this.boundY;if(n!==void 0&&i!==void 0)return{boundX:n,boundY:i};n={from:0,to:0},i={from:0,to:0},e=e||this.transform.scale;const o=this.content.fitWidth*e,u=this.content.fitHeight*e,d=this.viewport.width,g=this.viewport.height;if(o<d){const m=rt(.5*(d-o));n.from=m,n.to=m}else n.from=rt(d-o);if(u<g){const m=.5*(g-u);i.from=m,i.to=m}else i.from=rt(g-u);return{boundX:n,boundY:i}}setEdgeForce(){if(this.state!=="decel")return;const e=this.option("bounceForce"),{boundX:n,boundY:i}=this.getBounds(Math.max(this.transform.scale,this.content.scale));let o,u,d,g;if(n&&(o=this.content.x<n.from,u=this.content.x>n.to),i&&(d=this.content.y<i.from,g=this.content.y>i.to),o||u){let m=((o?n.from:n.to)-this.content.x)*e;const T=this.content.x+(this.velocity.x+m)/this.friction;T>=n.from&&T<=n.to&&(m+=this.velocity.x),this.velocity.x=m,this.recalculateTransform()}if(d||g){let m=((d?i.from:i.to)-this.content.y)*e;const T=this.content.y+(m+this.velocity.y)/this.friction;T>=i.from&&T<=i.to&&(m+=this.velocity.y),this.velocity.y=m,this.recalculateTransform()}}setDragResistance(){if(this.state!=="pointerdown")return;const{boundX:e,boundY:n}=this.getBounds(this.dragPosition.scale);let i,o,u,d;if(e&&(i=this.dragPosition.x<e.from,o=this.dragPosition.x>e.to),n&&(u=this.dragPosition.y<n.from,d=this.dragPosition.y>n.to),(i||o)&&(!i||!o)){const g=i?e.from:e.to,m=g-this.dragPosition.x;this.dragPosition.x=g-.3*m}if((u||d)&&(!u||!d)){const g=u?n.from:n.to,m=g-this.dragPosition.y;this.dragPosition.y=g-.3*m}}setDragForce(){this.state==="pointerdown"&&(this.velocity.x=this.dragPosition.x-this.content.x,this.velocity.y=this.dragPosition.y-this.content.y,this.velocity.scale=this.dragPosition.scale-this.content.scale)}recalculateTransform(){this.transform.x=this.content.x+this.velocity.x/(1/this.friction-1),this.transform.y=this.content.y+this.velocity.y/(1/this.friction-1),this.transform.scale=this.content.scale+this.velocity.scale/(1/this.friction-1)}isAnimating(){return!(!this.friction||!(Math.abs(this.velocity.x)>.05||Math.abs(this.velocity.y)>.05||Math.abs(this.velocity.scale)>.05))}setTransform(e){let n,i,o;if(e?(n=rt(this.transform.x),i=rt(this.transform.y),o=this.transform.scale,this.content={...this.content,x:n,y:i,scale:o}):(n=rt(this.content.x),i=rt(this.content.y),o=this.content.scale/(this.content.width/this.content.fitWidth),this.content={...this.content,x:n,y:i}),this.trigger("beforeTransform"),n=rt(this.content.x),i=rt(this.content.y),e&&this.option("zoom")){let u,d;u=rt(this.content.fitWidth*o),d=rt(this.content.fitHeight*o),this.content.width=u,this.content.height=d,this.transform={...this.transform,width:u,height:d,scale:o},Object.assign(this.$content.style,{width:`${u}px`,height:`${d}px`,maxWidth:"none",maxHeight:"none",transform:`translate3d(${n}px, ${i}px, 0) scale(1)`})}else this.$content.style.transform=`translate3d(${n}px, ${i}px, 0) scale(${o})`;this.trigger("afterTransform")}endAnimation(e){cancelAnimationFrame(this.rAF),this.rAF=null,this.velocity={x:0,y:0,scale:0},this.setTransform(!0),this.state="ready",this.handleCursor(),e!==!0&&this.trigger("endAnimation")}handleCursor(){const e=this.option("draggableClass");e&&this.option("touch")&&(this.option("panOnlyZoomed")==1&&this.content.width<=this.viewport.width&&this.content.height<=this.viewport.height&&this.transform.scale<=this.option("baseScale")?this.$container.classList.remove(e):this.$container.classList.add(e))}detachEvents(){this.$content.removeEventListener("load",this.onLoad),this.$container.removeEventListener("wheel",this.onWheel,{passive:!1}),this.$container.removeEventListener("click",this.onClick,{passive:!1}),this.pointerTracker&&(this.pointerTracker.stop(),this.pointerTracker=null),this.resizeObserver&&(this.resizeObserver.disconnect(),this.resizeObserver=null)}destroy(){this.state!=="destroy"&&(this.state="destroy",clearTimeout(this.updateTimer),this.updateTimer=null,cancelAnimationFrame(this.rAF),this.rAF=null,this.detachEvents(),this.detachPlugins(),this.resetDragPosition())}}is.version="4.0.31",is.Plugins={};const ca=(t,e)=>{let n=0;return function(...i){const o=new Date().getTime();if(!(o-n<e))return n=o,t(...i)}};class sl{constructor(e){this.$container=null,this.$prev=null,this.$next=null,this.carousel=e,this.onRefresh=this.onRefresh.bind(this)}option(e){return this.carousel.option(`Navigation.${e}`)}createButton(e){const n=document.createElement("button");n.setAttribute("title",this.carousel.localize(`{{${e.toUpperCase()}}}`));const i=this.option("classNames.button")+" "+this.option(`classNames.${e}`);return n.classList.add(...i.split(" ")),n.setAttribute("tabindex","0"),n.innerHTML=this.carousel.localize(this.option(`${e}Tpl`)),n.addEventListener("click",o=>{o.preventDefault(),o.stopPropagation(),this.carousel["slide"+(e==="next"?"Next":"Prev")]()}),n}build(){this.$container||(this.$container=document.createElement("div"),this.$container.classList.add(...this.option("classNames.main").split(" ")),this.carousel.$container.appendChild(this.$container)),this.$next||(this.$next=this.createButton("next"),this.$container.appendChild(this.$next)),this.$prev||(this.$prev=this.createButton("prev"),this.$container.appendChild(this.$prev))}onRefresh(){const e=this.carousel.pages.length;e<=1||e>1&&this.carousel.elemDimWidth<this.carousel.wrapDimWidth&&!Number.isInteger(this.carousel.option("slidesPerPage"))?this.cleanup():(this.build(),this.$prev.removeAttribute("disabled"),this.$next.removeAttribute("disabled"),this.carousel.option("infiniteX",this.carousel.option("infinite"))||(this.carousel.page<=0&&this.$prev.setAttribute("disabled",""),this.carousel.page>=e-1&&this.$next.setAttribute("disabled","")))}cleanup(){this.$prev&&this.$prev.remove(),this.$prev=null,this.$next&&this.$next.remove(),this.$next=null,this.$container&&this.$container.remove(),this.$container=null}attach(){this.carousel.on("refresh change",this.onRefresh)}detach(){this.carousel.off("refresh change",this.onRefresh),this.cleanup()}}sl.defaults={prevTpl:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" tabindex="-1"><path d="M15 3l-9 9 9 9"/></svg>',nextTpl:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" tabindex="-1"><path d="M9 3l9 9-9 9"/></svg>',classNames:{main:"carousel__nav",button:"carousel__button",next:"is-next",prev:"is-prev"}};class rl{constructor(e){this.carousel=e,this.selectedIndex=null,this.friction=0,this.onNavReady=this.onNavReady.bind(this),this.onNavClick=this.onNavClick.bind(this),this.onNavCreateSlide=this.onNavCreateSlide.bind(this),this.onTargetChange=this.onTargetChange.bind(this)}addAsTargetFor(e){this.target=this.carousel,this.nav=e,this.attachEvents()}addAsNavFor(e){this.target=e,this.nav=this.carousel,this.attachEvents()}attachEvents(){this.nav.options.initialSlide=this.target.options.initialPage,this.nav.on("ready",this.onNavReady),this.nav.on("createSlide",this.onNavCreateSlide),this.nav.on("Panzoom.click",this.onNavClick),this.target.on("change",this.onTargetChange),this.target.on("Panzoom.afterUpdate",this.onTargetChange)}onNavReady(){this.onTargetChange(!0)}onNavClick(e,n,i){const o=i.target.closest(".carousel__slide");if(!o)return;i.stopPropagation();const u=parseInt(o.dataset.index,10),d=this.target.findPageForSlide(u);this.target.page!==d&&this.target.slideTo(d,{friction:this.friction}),this.markSelectedSlide(u)}onNavCreateSlide(e,n){n.index===this.selectedIndex&&this.markSelectedSlide(n.index)}onTargetChange(){const e=this.target.pages[this.target.page].indexes[0],n=this.nav.findPageForSlide(e);this.nav.slideTo(n),this.markSelectedSlide(e)}markSelectedSlide(e){this.selectedIndex=e,[...this.nav.slides].filter(i=>i.$el&&i.$el.classList.remove("is-nav-selected"));const n=this.nav.slides[e];n&&n.$el&&n.$el.classList.add("is-nav-selected")}attach(e){const n=e.options.Sync;(n.target||n.nav)&&(n.target?this.addAsNavFor(n.target):n.nav&&this.addAsTargetFor(n.nav),this.friction=n.friction)}detach(){this.nav&&(this.nav.off("ready",this.onNavReady),this.nav.off("Panzoom.click",this.onNavClick),this.nav.off("createSlide",this.onNavCreateSlide)),this.target&&(this.target.off("Panzoom.afterUpdate",this.onTargetChange),this.target.off("change",this.onTargetChange))}}rl.defaults={friction:.92};const Tc={Navigation:sl,Dots:class{constructor(t){this.carousel=t,this.$list=null,this.events={change:this.onChange.bind(this),refresh:this.onRefresh.bind(this)}}buildList(){if(this.carousel.pages.length<this.carousel.option("Dots.minSlideCount"))return;const t=document.createElement("ol");return t.classList.add("carousel__dots"),t.addEventListener("click",e=>{if(!("page"in e.target.dataset))return;e.preventDefault(),e.stopPropagation();const n=parseInt(e.target.dataset.page,10),i=this.carousel;n!==i.page&&(i.pages.length<3&&i.option("infinite")?i[n==0?"slidePrev":"slideNext"]():i.slideTo(n))}),this.$list=t,this.carousel.$container.appendChild(t),this.carousel.$container.classList.add("has-dots"),t}removeList(){this.$list&&(this.$list.parentNode.removeChild(this.$list),this.$list=null),this.carousel.$container.classList.remove("has-dots")}rebuildDots(){let t=this.$list;const e=!!t,n=this.carousel.pages.length;if(n<2)return void(e&&this.removeList());e||(t=this.buildList());const i=this.$list.children.length;if(i>n)for(let o=n;o<i;o++)this.$list.removeChild(this.$list.lastChild);else{for(let o=i;o<n;o++){const u=document.createElement("li");u.classList.add("carousel__dot"),u.dataset.page=o,u.setAttribute("role","button"),u.setAttribute("tabindex","0"),u.setAttribute("title",this.carousel.localize("{{GOTO}}",[["%d",o+1]])),u.addEventListener("keydown",d=>{const g=d.code;let m;g==="Enter"||g==="NumpadEnter"?m=u:g==="ArrowRight"?m=u.nextSibling:g==="ArrowLeft"&&(m=u.previousSibling),m&&m.click()}),this.$list.appendChild(u)}this.setActiveDot()}}setActiveDot(){if(!this.$list)return;this.$list.childNodes.forEach(e=>{e.classList.remove("is-selected")});const t=this.$list.childNodes[this.carousel.page];t&&t.classList.add("is-selected")}onChange(){this.setActiveDot()}onRefresh(){this.rebuildDots()}attach(){this.carousel.on(this.events)}detach(){this.removeList(),this.carousel.off(this.events),this.carousel=null}},Sync:rl},wc={slides:[],preload:0,slidesPerPage:"auto",initialPage:null,initialSlide:null,friction:.92,center:!0,infinite:!0,fill:!0,dragFree:!1,prefix:"",classNames:{viewport:"carousel__viewport",track:"carousel__track",slide:"carousel__slide",slideSelected:"is-selected"},l10n:{NEXT:"Next slide",PREV:"Previous slide",GOTO:"Go to slide #%d"}};class ss extends No{constructor(e,n={}){if(super(n=Rt(!0,{},wc,n)),this.state="init",this.$container=e,!(this.$container instanceof HTMLElement))throw new Error("No root element provided");this.slideNext=ca(this.slideNext.bind(this),250),this.slidePrev=ca(this.slidePrev.bind(this),250),this.init(),e.__Carousel=this}init(){this.pages=[],this.page=this.pageIndex=null,this.prevPage=this.prevPageIndex=null,this.attachPlugins(ss.Plugins),this.trigger("init"),this.initLayout(),this.initSlides(),this.updateMetrics(),this.$track&&this.pages.length&&(this.$track.style.transform=`translate3d(${-1*this.pages[this.page].left}px, 0px, 0) scale(1)`),this.manageSlideVisiblity(),this.initPanzoom(),this.state="ready",this.trigger("ready")}initLayout(){const e=this.option("prefix"),n=this.option("classNames");this.$viewport=this.option("viewport")||this.$container.querySelector(`.${e}${n.viewport}`),this.$viewport||(this.$viewport=document.createElement("div"),this.$viewport.classList.add(...(e+n.viewport).split(" ")),this.$viewport.append(...this.$container.childNodes),this.$container.appendChild(this.$viewport)),this.$track=this.option("track")||this.$container.querySelector(`.${e}${n.track}`),this.$track||(this.$track=document.createElement("div"),this.$track.classList.add(...(e+n.track).split(" ")),this.$track.append(...this.$viewport.childNodes),this.$viewport.appendChild(this.$track))}initSlides(){this.slides=[],this.$viewport.querySelectorAll(`.${this.option("prefix")}${this.option("classNames.slide")}`).forEach(e=>{const n={$el:e,isDom:!0};this.slides.push(n),this.trigger("createSlide",n,this.slides.length)}),Array.isArray(this.options.slides)&&(this.slides=Rt(!0,[...this.slides],this.options.slides))}updateMetrics(){let e,n=0,i=[];this.slides.forEach((P,x)=>{const D=P.$el,k=P.isDom||!e?this.getSlideMetrics(D):e;P.index=x,P.width=k,P.left=n,e=k,n+=k,i.push(x)});let o=Math.max(this.$track.offsetWidth,rt(this.$track.getBoundingClientRect().width)),u=getComputedStyle(this.$track);o-=parseFloat(u.paddingLeft)+parseFloat(u.paddingRight),this.contentWidth=n,this.viewportWidth=o;const d=[],g=this.option("slidesPerPage");if(Number.isInteger(g)&&n>o)for(let P=0;P<this.slides.length;P+=g)d.push({indexes:i.slice(P,P+g),slides:this.slides.slice(P,P+g)});else{let P=0,x=0;for(let D=0;D<this.slides.length;D+=1){let k=this.slides[D];(!d.length||x+k.width>o)&&(d.push({indexes:[],slides:[]}),P=d.length-1,x=0),x+=k.width,d[P].indexes.push(D),d[P].slides.push(k)}}const m=this.option("center"),T=this.option("fill");d.forEach((P,x)=>{P.index=x,P.width=P.slides.reduce((D,k)=>D+k.width,0),P.left=P.slides[0].left,m&&(P.left+=.5*(o-P.width)*-1),T&&!this.option("infiniteX",this.option("infinite"))&&n>o&&(P.left=Math.max(P.left,0),P.left=Math.min(P.left,n-o))});const b=[];let A;d.forEach(P=>{const x={...P};A&&x.left===A.left?(A.width+=x.width,A.slides=[...A.slides,...x.slides],A.indexes=[...A.indexes,...x.indexes]):(x.index=b.length,A=x,b.push(x))}),this.pages=b;let N=this.page;if(N===null){const P=this.option("initialSlide");N=P!==null?this.findPageForSlide(P):parseInt(this.option("initialPage",0),10)||0,b[N]||(N=b.length&&N>b.length?b[b.length-1].index:0),this.page=N,this.pageIndex=N}this.updatePanzoom(),this.trigger("refresh")}getSlideMetrics(e){if(!e){const o=this.slides[0];(e=document.createElement("div")).dataset.isTestEl=1,e.style.visibility="hidden",e.classList.add(...(this.option("prefix")+this.option("classNames.slide")).split(" ")),o.customClass&&e.classList.add(...o.customClass.split(" ")),this.$track.prepend(e)}let n=Math.max(e.offsetWidth,rt(e.getBoundingClientRect().width));const i=e.currentStyle||window.getComputedStyle(e);return n=n+(parseFloat(i.marginLeft)||0)+(parseFloat(i.marginRight)||0),e.dataset.isTestEl&&e.remove(),n}findPageForSlide(e){e=parseInt(e,10)||0;const n=this.pages.find(i=>i.indexes.indexOf(e)>-1);return n?n.index:null}slideNext(){this.slideTo(this.pageIndex+1)}slidePrev(){this.slideTo(this.pageIndex-1)}slideTo(e,n={}){const{x:i=-1*this.setPage(e,!0),y:o=0,friction:u=this.option("friction")}=n;this.Panzoom.content.x===i&&!this.Panzoom.velocity.x&&u||(this.Panzoom.panTo({x:i,y:o,friction:u,ignoreBounds:!0}),this.state==="ready"&&this.Panzoom.state==="ready"&&this.trigger("settle"))}initPanzoom(){this.Panzoom&&this.Panzoom.destroy();const e=Rt(!0,{},{content:this.$track,wrapInner:!1,resizeParent:!1,zoom:!1,click:!1,lockAxis:"x",x:this.pages.length?-1*this.pages[this.page].left:0,centerOnStart:!1,textSelection:()=>this.option("textSelection",!1),panOnlyZoomed:function(){return this.content.width<=this.viewport.width}},this.option("Panzoom"));this.Panzoom=new is(this.$container,e),this.Panzoom.on({"*":(n,...i)=>this.trigger(`Panzoom.${n}`,...i),afterUpdate:()=>{this.updatePage()},beforeTransform:this.onBeforeTransform.bind(this),touchEnd:this.onTouchEnd.bind(this),endAnimation:()=>{this.trigger("settle")}}),this.updateMetrics(),this.manageSlideVisiblity()}updatePanzoom(){this.Panzoom&&(this.Panzoom.content={...this.Panzoom.content,fitWidth:this.contentWidth,origWidth:this.contentWidth,width:this.contentWidth},this.pages.length>1&&this.option("infiniteX",this.option("infinite"))?this.Panzoom.boundX=null:this.pages.length&&(this.Panzoom.boundX={from:-1*this.pages[this.pages.length-1].left,to:-1*this.pages[0].left}),this.option("infiniteY",this.option("infinite"))?this.Panzoom.boundY=null:this.Panzoom.boundY={from:0,to:0},this.Panzoom.handleCursor())}manageSlideVisiblity(){const e=this.contentWidth,n=this.viewportWidth;let i=this.Panzoom?-1*this.Panzoom.content.x:this.pages.length?this.pages[this.page].left:0;const o=this.option("preload"),u=this.option("infiniteX",this.option("infinite")),d=parseFloat(getComputedStyle(this.$viewport,null).getPropertyValue("padding-left")),g=parseFloat(getComputedStyle(this.$viewport,null).getPropertyValue("padding-right"));this.slides.forEach(b=>{let A,N,P=0;A=i-d,N=i+n+g,A-=o*(n+d+g),N+=o*(n+d+g);const x=b.left+b.width>A&&b.left<N;A=i+e-d,N=i+e+n+g,A-=o*(n+d+g);const D=u&&b.left+b.width>A&&b.left<N;A=i-e-d,N=i-e+n+g,A-=o*(n+d+g);const k=u&&b.left+b.width>A&&b.left<N;D||x||k?(this.createSlideEl(b),x&&(P=0),D&&(P=-1),k&&(P=1),b.left+b.width>i&&b.left<=i+n+g&&(P=0)):this.removeSlideEl(b),b.hasDiff=P});let m=0,T=0;this.slides.forEach((b,A)=>{let N=0;b.$el?(A!==m||b.hasDiff?N=T+b.hasDiff*e:T=0,b.$el.style.left=Math.abs(N)>.1?`${T+b.hasDiff*e}px`:"",m++):T+=b.width}),this.markSelectedSlides()}createSlideEl(e){if(!e)return;if(e.$el){let d=e.$el.dataset.index;if(!d||parseInt(d,10)!==e.index){let g;e.$el.dataset.index=e.index,e.$el.querySelectorAll("[data-lazy-srcset]").forEach(m=>{m.srcset=m.dataset.lazySrcset}),e.$el.querySelectorAll("[data-lazy-src]").forEach(m=>{let T=m.dataset.lazySrc;m instanceof HTMLImageElement?m.src=T:m.style.backgroundImage=`url('${T}')`}),(g=e.$el.dataset.lazySrc)&&(e.$el.style.backgroundImage=`url('${g}')`),e.state="ready"}return}const n=document.createElement("div");n.dataset.index=e.index,n.classList.add(...(this.option("prefix")+this.option("classNames.slide")).split(" ")),e.customClass&&n.classList.add(...e.customClass.split(" ")),e.html&&(n.innerHTML=e.html);const i=[];this.slides.forEach((d,g)=>{d.$el&&i.push(g)});const o=e.index;let u=null;if(i.length){let d=i.reduce((g,m)=>Math.abs(m-o)<Math.abs(g-o)?m:g);u=this.slides[d]}return this.$track.insertBefore(n,u&&u.$el?u.index<e.index?u.$el.nextSibling:u.$el:null),e.$el=n,this.trigger("createSlide",e,o),e}removeSlideEl(e){e.$el&&!e.isDom&&(this.trigger("removeSlide",e),e.$el.remove(),e.$el=null)}markSelectedSlides(){const e=this.option("classNames.slideSelected"),n="aria-hidden";this.slides.forEach((i,o)=>{const u=i.$el;if(!u)return;const d=this.pages[this.page];d&&d.indexes&&d.indexes.indexOf(o)>-1?(e&&!u.classList.contains(e)&&(u.classList.add(e),this.trigger("selectSlide",i)),u.removeAttribute(n)):(e&&u.classList.contains(e)&&(u.classList.remove(e),this.trigger("unselectSlide",i)),u.setAttribute(n,!0))})}updatePage(){this.updateMetrics(),this.slideTo(this.page,{friction:0})}onBeforeTransform(){this.option("infiniteX",this.option("infinite"))&&this.manageInfiniteTrack(),this.manageSlideVisiblity()}manageInfiniteTrack(){const e=this.contentWidth,n=this.viewportWidth;if(!this.option("infiniteX",this.option("infinite"))||this.pages.length<2||e<n)return;const i=this.Panzoom;let o=!1;return i.content.x<-1*(e-n)&&(i.content.x+=e,this.pageIndex=this.pageIndex-this.pages.length,o=!0),i.content.x>n&&(i.content.x-=e,this.pageIndex=this.pageIndex+this.pages.length,o=!0),o&&i.state==="pointerdown"&&i.resetDragPosition(),o}onTouchEnd(e,n){const i=this.option("dragFree");if(!i&&this.pages.length>1&&e.dragOffset.time<350&&Math.abs(e.dragOffset.y)<1&&Math.abs(e.dragOffset.x)>5)this[e.dragOffset.x<0?"slideNext":"slidePrev"]();else if(i){const[,o]=this.getPageFromPosition(-1*e.transform.x);this.setPage(o)}else this.slideToClosest()}slideToClosest(e={}){let[,n]=this.getPageFromPosition(-1*this.Panzoom.content.x);this.slideTo(n,e)}getPageFromPosition(e){const n=this.pages.length;this.option("center")&&(e+=.5*this.viewportWidth);const i=Math.floor(e/this.contentWidth);e-=i*this.contentWidth;let o=this.slides.find(u=>u.left<=e&&u.left+u.width>e);if(o){let u=this.findPageForSlide(o.index);return[u,u+i*n]}return[0,0]}setPage(e,n){let i=0,o=parseInt(e,10)||0;const u=this.page,d=this.pageIndex,g=this.pages.length,m=this.contentWidth,T=this.viewportWidth;if(e=(o%g+g)%g,this.option("infiniteX",this.option("infinite"))&&m>T){const b=Math.floor(o/g)||0,A=m;if(i=this.pages[e].left+b*A,n===!0&&g>2){let N=-1*this.Panzoom.content.x;const P=i-A,x=i+A,D=Math.abs(N-i),k=Math.abs(N-P),z=Math.abs(N-x);z<D&&z<=k?(i=x,o+=g):k<D&&k<z&&(i=P,o-=g)}}else e=o=Math.max(0,Math.min(o,g-1)),i=this.pages.length?this.pages[e].left:0;return this.page=e,this.pageIndex=o,u!==null&&e!==u&&(this.prevPage=u,this.prevPageIndex=d,this.trigger("change",e,u)),i}destroy(){this.state="destroy",this.slides.forEach(e=>{this.removeSlideEl(e)}),this.slides=[],this.Panzoom.destroy(),this.detachPlugins()}}ss.version="4.0.31",ss.Plugins=Tc;const Pr=!(typeof window>"u"||!window.document||!window.document.createElement);let co=null;const ua=["a[href]","area[href]",'input:not([disabled]):not([type="hidden"]):not([aria-hidden])',"select:not([disabled]):not([aria-hidden])","textarea:not([disabled]):not([aria-hidden])","button:not([disabled]):not([aria-hidden])","iframe","object","embed","video","audio","[contenteditable]",'[tabindex]:not([tabindex^="-"]):not([disabled]):not([aria-hidden])'],Os=t=>{if(t&&Pr){co===null&&document.createElement("div").focus({get preventScroll(){return co=!0,!1}});try{if(t.setActive)t.setActive();else if(co)t.focus({preventScroll:!0});else{const e=window.pageXOffset||document.body.scrollTop,n=window.pageYOffset||document.body.scrollLeft;t.focus(),document.body.scrollTo({top:e,left:n,behavior:"auto"})}}catch{}}},Ic={minSlideCount:2,minScreenHeight:500,autoStart:!0,key:"t",Carousel:{},tpl:`<div class="fancybox__thumb" style="background-image:url('{{src}}')"></div>`};class ol{constructor(e){this.fancybox=e,this.$container=null,this.state="init";for(const n of["onPrepare","onClosing","onKeydown"])this[n]=this[n].bind(this);this.events={prepare:this.onPrepare,closing:this.onClosing,keydown:this.onKeydown}}onPrepare(){this.getSlides().length<this.fancybox.option("Thumbs.minSlideCount")?this.state="disabled":this.fancybox.option("Thumbs.autoStart")===!0&&this.fancybox.Carousel.Panzoom.content.height>=this.fancybox.option("Thumbs.minScreenHeight")&&this.build()}onClosing(){this.Carousel&&this.Carousel.Panzoom.detachEvents()}onKeydown(e,n){n===e.option("Thumbs.key")&&this.toggle()}build(){if(this.$container)return;const e=document.createElement("div");e.classList.add("fancybox__thumbs"),this.fancybox.$carousel.parentNode.insertBefore(e,this.fancybox.$carousel.nextSibling),this.Carousel=new ss(e,Rt(!0,{Dots:!1,Navigation:!1,Sync:{friction:0},infinite:!1,center:!0,fill:!0,dragFree:!0,slidesPerPage:1,preload:1},this.fancybox.option("Thumbs.Carousel"),{Sync:{target:this.fancybox.Carousel},slides:this.getSlides()})),this.Carousel.Panzoom.on("wheel",(n,i)=>{i.preventDefault(),this.fancybox[i.deltaY<0?"prev":"next"]()}),this.$container=e,this.state="visible"}getSlides(){const e=[];for(const n of this.fancybox.items){const i=n.thumb;i&&e.push({html:this.fancybox.option("Thumbs.tpl").replace(/\{\{src\}\}/gi,i),customClass:`has-thumb has-${n.type||"image"}`})}return e}toggle(){this.state==="visible"?this.hide():this.state==="hidden"?this.show():this.build()}show(){this.state==="hidden"&&(this.$container.style.display="",this.Carousel.Panzoom.attachEvents(),this.state="visible")}hide(){this.state==="visible"&&(this.Carousel.Panzoom.detachEvents(),this.$container.style.display="none",this.state="hidden")}cleanup(){this.Carousel&&(this.Carousel.destroy(),this.Carousel=null),this.$container&&(this.$container.remove(),this.$container=null),this.state="init"}attach(){this.fancybox.on(this.events)}detach(){this.fancybox.off(this.events),this.cleanup()}}ol.defaults=Ic;const da=(t,e)=>{const n=new URL(t),i=new URLSearchParams(n.search);let o=new URLSearchParams;for(const[d,g]of[...i,...Object.entries(e)])d==="t"?o.set("start",parseInt(g)):o.set(d,g);o=o.toString();let u=t.match(/#t=((.*)?\d+s)/);return u&&(o+=`#t=${u[1]}`),o},al={video:{autoplay:!0,ratio:16/9},youtube:{autohide:1,fs:1,rel:0,hd:1,wmode:"transparent",enablejsapi:1,html5:1},vimeo:{hd:1,show_title:1,show_byline:1,show_portrait:0,fullscreen:1},html5video:{tpl:`<video class="fancybox__html5video" playsinline controls controlsList="nodownload" poster="{{poster}}">
  <source src="{{src}}" type="{{format}}" />Sorry, your browser doesn't support embedded videos.</video>`,format:""}};class ll{constructor(e){this.fancybox=e;for(const n of["onInit","onReady","onCreateSlide","onRemoveSlide","onSelectSlide","onUnselectSlide","onRefresh","onMessage"])this[n]=this[n].bind(this);this.events={init:this.onInit,ready:this.onReady,"Carousel.createSlide":this.onCreateSlide,"Carousel.removeSlide":this.onRemoveSlide,"Carousel.selectSlide":this.onSelectSlide,"Carousel.unselectSlide":this.onUnselectSlide,"Carousel.refresh":this.onRefresh}}onInit(){for(const e of this.fancybox.items)this.processType(e)}processType(e){if(e.html)return e.src=e.html,e.type="html",void delete e.html;const n=e.src||"";let i=e.type||this.fancybox.options.type,o=null;if(!n||typeof n=="string"){if(o=n.match(/(?:youtube\.com|youtu\.be|youtube\-nocookie\.com)\/(?:watch\?(?:.*&)?v=|v\/|u\/|embed\/?)?(videoseries\?list=(?:.*)|[\w-]{11}|\?listType=(?:.*)&list=(?:.*))(?:.*)/i)){const u=da(n,this.fancybox.option("Html.youtube")),d=encodeURIComponent(o[1]);e.videoId=d,e.src=`https://www.youtube-nocookie.com/embed/${d}?${u}`,e.thumb=e.thumb||`https://i.ytimg.com/vi/${d}/mqdefault.jpg`,e.vendor="youtube",i="video"}else if(o=n.match(/^.+vimeo.com\/(?:\/)?([\d]+)(.*)?/)){const u=da(n,this.fancybox.option("Html.vimeo")),d=encodeURIComponent(o[1]);e.videoId=d,e.src=`https://player.vimeo.com/video/${d}?${u}`,e.vendor="vimeo",i="video"}else(o=n.match(/(?:maps\.)?google\.([a-z]{2,3}(?:\.[a-z]{2})?)\/(?:(?:(?:maps\/(?:place\/(?:.*)\/)?\@(.*),(\d+.?\d+?)z))|(?:\?ll=))(.*)?/i))?(e.src=`//maps.google.${o[1]}/?ll=${(o[2]?o[2]+"&z="+Math.floor(o[3])+(o[4]?o[4].replace(/^\//,"&"):""):o[4]+"").replace(/\?/,"&")}&output=${o[4]&&o[4].indexOf("layer=c")>0?"svembed":"embed"}`,i="map"):(o=n.match(/(?:maps\.)?google\.([a-z]{2,3}(?:\.[a-z]{2})?)\/(?:maps\/search\/)(.*)/i))&&(e.src=`//maps.google.${o[1]}/maps?q=${o[2].replace("query=","q=").replace("api=1","")}&output=embed`,i="map");i||(n.charAt(0)==="#"?i="inline":(o=n.match(/\.(mp4|mov|ogv|webm)((\?|#).*)?$/i))?(i="html5video",e.format=e.format||"video/"+(o[1]==="ogv"?"ogg":o[1])):n.match(/(^data:image\/[a-z0-9+\/=]*,)|(\.(jp(e|g|eg)|gif|png|bmp|webp|svg|ico)((\?|#).*)?$)/i)?i="image":n.match(/\.(pdf)((\?|#).*)?$/i)&&(i="pdf")),e.type=i||this.fancybox.option("defaultType","image"),i!=="html5video"&&i!=="video"||(e.video=Rt({},this.fancybox.option("Html.video"),e.video),e._width&&e._height?e.ratio=parseFloat(e._width)/parseFloat(e._height):e.ratio=e.ratio||e.video.ratio||al.video.ratio)}}onReady(){this.fancybox.Carousel.slides.forEach(e=>{e.$el&&(this.setContent(e),e.index===this.fancybox.getSlide().index&&this.playVideo(e))})}onCreateSlide(e,n,i){this.fancybox.state==="ready"&&this.setContent(i)}loadInlineContent(e){let n;if(e.src instanceof HTMLElement)n=e.src;else if(typeof e.src=="string"){const i=e.src.split("#",2),o=i.length===2&&i[0]===""?i[1]:i[0];n=document.getElementById(o)}if(n){if(e.type==="clone"||n.$placeHolder){n=n.cloneNode(!0);let i=n.getAttribute("id");i=i?`${i}--clone`:`clone-${this.fancybox.id}-${e.index}`,n.setAttribute("id",i)}else{const i=document.createElement("div");i.classList.add("fancybox-placeholder"),n.parentNode.insertBefore(i,n),n.$placeHolder=i}this.fancybox.setContent(e,n)}else this.fancybox.setError(e,"{{ELEMENT_NOT_FOUND}}")}loadAjaxContent(e){const n=this.fancybox,i=new XMLHttpRequest;n.showLoading(e),i.onreadystatechange=function(){i.readyState===XMLHttpRequest.DONE&&n.state==="ready"&&(n.hideLoading(e),i.status===200?n.setContent(e,i.responseText):n.setError(e,i.status===404?"{{AJAX_NOT_FOUND}}":"{{AJAX_FORBIDDEN}}"))};const o=e.ajax||null;i.open(o?"POST":"GET",e.src),i.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),i.setRequestHeader("X-Requested-With","XMLHttpRequest"),i.send(o),e.xhr=i}loadIframeContent(e){const n=this.fancybox,i=document.createElement("iframe");if(i.className="fancybox__iframe",i.setAttribute("id",`fancybox__iframe_${n.id}_${e.index}`),i.setAttribute("allow","autoplay; fullscreen"),i.setAttribute("scrolling","auto"),e.$iframe=i,e.type!=="iframe"||e.preload===!1)return i.setAttribute("src",e.src),this.fancybox.setContent(e,i),void this.resizeIframe(e);n.showLoading(e);const o=document.createElement("div");o.style.visibility="hidden",this.fancybox.setContent(e,o),o.appendChild(i),i.onerror=()=>{n.setError(e,"{{IFRAME_ERROR}}")},i.onload=()=>{n.hideLoading(e);let u=!1;i.isReady||(i.isReady=!0,u=!0),i.src.length&&(i.parentNode.style.visibility="",this.resizeIframe(e),u&&n.revealContent(e))},i.setAttribute("src",e.src)}setAspectRatio(e){const n=e.$content,i=e.ratio;if(!n)return;let o=e._width,u=e._height;if(i||o&&u){Object.assign(n.style,{width:o&&u?"100%":"",height:o&&u?"100%":"",maxWidth:"",maxHeight:""});let d=n.offsetWidth,g=n.offsetHeight;if(o=o||d,u=u||g,o>d||u>g){let m=Math.min(d/o,g/u);o*=m,u*=m}Math.abs(o/u-i)>.01&&(i<o/u?o=u*i:u=o/i),Object.assign(n.style,{width:`${o}px`,height:`${u}px`})}}resizeIframe(e){const n=e.$iframe;if(!n)return;let i=e._width||0,o=e._height||0;i&&o&&(e.autoSize=!1);const u=n.parentNode,d=u&&u.style;if(e.preload!==!1&&e.autoSize!==!1&&d)try{const g=window.getComputedStyle(u),m=parseFloat(g.paddingLeft)+parseFloat(g.paddingRight),T=parseFloat(g.paddingTop)+parseFloat(g.paddingBottom),b=n.contentWindow.document,A=b.getElementsByTagName("html")[0],N=b.body;d.width="",N.style.overflow="hidden",i=i||A.scrollWidth+m,d.width=`${i}px`,N.style.overflow="",d.flex="0 0 auto",d.height=`${N.scrollHeight}px`,o=A.scrollHeight+T}catch{}if(i||o){const g={flex:"0 1 auto"};i&&(g.width=`${i}px`),o&&(g.height=`${o}px`),Object.assign(d,g)}}onRefresh(e,n){n.slides.forEach(i=>{i.$el&&(i.$iframe&&this.resizeIframe(i),i.ratio&&this.setAspectRatio(i))})}setContent(e){if(e&&!e.isDom){switch(e.type){case"html":this.fancybox.setContent(e,e.src);break;case"html5video":this.fancybox.setContent(e,this.fancybox.option("Html.html5video.tpl").replace(/\{\{src\}\}/gi,e.src).replace("{{format}}",e.format||e.html5video&&e.html5video.format||"").replace("{{poster}}",e.poster||e.thumb||""));break;case"inline":case"clone":this.loadInlineContent(e);break;case"ajax":this.loadAjaxContent(e);break;case"pdf":case"video":case"map":e.preload=!1;case"iframe":this.loadIframeContent(e)}e.ratio&&this.setAspectRatio(e)}}onSelectSlide(e,n,i){e.state==="ready"&&this.playVideo(i)}playVideo(e){if(e.type==="html5video"&&e.video.autoplay)try{const i=e.$el.querySelector("video");if(i){const o=i.play();o!==void 0&&o.then(()=>{}).catch(u=>{i.muted=!0,i.play()})}}catch{}if(e.type!=="video"||!e.$iframe||!e.$iframe.contentWindow)return;const n=()=>{if(e.state==="done"&&e.$iframe&&e.$iframe.contentWindow){let i;if(e.$iframe.isReady)return e.video&&e.video.autoplay&&(i=e.vendor=="youtube"?{event:"command",func:"playVideo"}:{method:"play",value:"true"}),void(i&&e.$iframe.contentWindow.postMessage(JSON.stringify(i),"*"));e.vendor==="youtube"&&(i={event:"listening",id:e.$iframe.getAttribute("id")},e.$iframe.contentWindow.postMessage(JSON.stringify(i),"*"))}e.poller=setTimeout(n,250)};n()}onUnselectSlide(e,n,i){if(i.type==="html5video"){try{i.$el.querySelector("video").pause()}catch{}return}let o=!1;i.vendor=="vimeo"?o={method:"pause",value:"true"}:i.vendor==="youtube"&&(o={event:"command",func:"pauseVideo"}),o&&i.$iframe&&i.$iframe.contentWindow&&i.$iframe.contentWindow.postMessage(JSON.stringify(o),"*"),clearTimeout(i.poller)}onRemoveSlide(e,n,i){i.xhr&&(i.xhr.abort(),i.xhr=null),i.$iframe&&(i.$iframe.onload=i.$iframe.onerror=null,i.$iframe.src="//about:blank",i.$iframe=null);const o=i.$content;i.type==="inline"&&o&&(o.classList.remove("fancybox__content"),o.style.display!=="none"&&(o.style.display="none")),i.$closeButton&&(i.$closeButton.remove(),i.$closeButton=null);const u=o&&o.$placeHolder;u&&(u.parentNode.insertBefore(o,u),u.remove(),o.$placeHolder=null)}onMessage(e){try{let n=JSON.parse(e.data);if(e.origin==="https://player.vimeo.com"){if(n.event==="ready")for(let i of document.getElementsByClassName("fancybox__iframe"))i.contentWindow===e.source&&(i.isReady=1)}else e.origin==="https://www.youtube-nocookie.com"&&n.event==="onReady"&&(document.getElementById(n.id).isReady=1)}catch{}}attach(){this.fancybox.on(this.events),window.addEventListener("message",this.onMessage,!1)}detach(){this.fancybox.off(this.events),window.removeEventListener("message",this.onMessage,!1)}}ll.defaults=al;class cl{constructor(e){this.fancybox=e;for(const n of["onReady","onClosing","onDone","onPageChange","onCreateSlide","onRemoveSlide","onImageStatusChange"])this[n]=this[n].bind(this);this.events={ready:this.onReady,closing:this.onClosing,done:this.onDone,"Carousel.change":this.onPageChange,"Carousel.createSlide":this.onCreateSlide,"Carousel.removeSlide":this.onRemoveSlide}}onReady(){this.fancybox.Carousel.slides.forEach(e=>{e.$el&&this.setContent(e)})}onDone(e,n){this.handleCursor(n)}onClosing(e){clearTimeout(this.clickTimer),this.clickTimer=null,e.Carousel.slides.forEach(n=>{n.$image&&(n.state="destroy"),n.Panzoom&&n.Panzoom.detachEvents()}),this.fancybox.state==="closing"&&this.canZoom(e.getSlide())&&this.zoomOut()}onCreateSlide(e,n,i){this.fancybox.state==="ready"&&this.setContent(i)}onRemoveSlide(e,n,i){i.$image&&(i.$el.classList.remove(e.option("Image.canZoomInClass")),i.$image.remove(),i.$image=null),i.Panzoom&&(i.Panzoom.destroy(),i.Panzoom=null),i.$el&&i.$el.dataset&&delete i.$el.dataset.imageFit}setContent(e){if(e.isDom||e.html||e.type&&e.type!=="image"||e.$image)return;e.type="image",e.state="loading";const n=document.createElement("div");n.style.visibility="hidden";const i=document.createElement("img");i.addEventListener("load",u=>{u.stopImmediatePropagation(),this.onImageStatusChange(e)}),i.addEventListener("error",()=>{this.onImageStatusChange(e)}),i.src=e.src,i.alt="",i.draggable=!1,i.classList.add("fancybox__image"),e.srcset&&i.setAttribute("srcset",e.srcset),e.sizes&&i.setAttribute("sizes",e.sizes),e.$image=i;const o=this.fancybox.option("Image.wrap");if(o){const u=document.createElement("div");u.classList.add(typeof o=="string"?o:"fancybox__image-wrap"),u.appendChild(i),n.appendChild(u),e.$wrap=u}else n.appendChild(i);e.$el.dataset.imageFit=this.fancybox.option("Image.fit"),this.fancybox.setContent(e,n),i.complete||i.error?this.onImageStatusChange(e):this.fancybox.showLoading(e)}onImageStatusChange(e){const n=e.$image;n&&e.state==="loading"&&(n.complete&&n.naturalWidth&&n.naturalHeight?(this.fancybox.hideLoading(e),this.fancybox.option("Image.fit")==="contain"&&this.initSlidePanzoom(e),e.$el.addEventListener("wheel",i=>this.onWheel(e,i),{passive:!1}),e.$content.addEventListener("click",i=>this.onClick(e,i),{passive:!1}),this.revealContent(e)):this.fancybox.setError(e,"{{IMAGE_ERROR}}"))}initSlidePanzoom(e){e.Panzoom||(e.Panzoom=new is(e.$el,Rt(!0,this.fancybox.option("Image.Panzoom",{}),{viewport:e.$wrap,content:e.$image,width:e._width,height:e._height,wrapInner:!1,textSelection:!0,touch:this.fancybox.option("Image.touch"),panOnlyZoomed:!0,click:!1,wheel:!1})),e.Panzoom.on("startAnimation",()=>{this.fancybox.trigger("Image.startAnimation",e)}),e.Panzoom.on("endAnimation",()=>{e.state==="zoomIn"&&this.fancybox.done(e),this.handleCursor(e),this.fancybox.trigger("Image.endAnimation",e)}),e.Panzoom.on("afterUpdate",()=>{this.handleCursor(e),this.fancybox.trigger("Image.afterUpdate",e)}))}revealContent(e){this.fancybox.Carousel.prevPage===null&&e.index===this.fancybox.options.startIndex&&this.canZoom(e)?this.zoomIn():this.fancybox.revealContent(e)}getZoomInfo(e){const n=e.$thumb.getBoundingClientRect(),i=n.width,o=n.height,u=e.$content.getBoundingClientRect(),d=u.width,g=u.height,m=u.top-n.top,T=u.left-n.left;let b=this.fancybox.option("Image.zoomOpacity");return b==="auto"&&(b=Math.abs(i/o-d/g)>.1),{top:m,left:T,scale:d&&i?i/d:1,opacity:b}}canZoom(e){const n=this.fancybox,i=n.$container;if(window.visualViewport&&window.visualViewport.scale!==1||e.Panzoom&&!e.Panzoom.content.width||!n.option("Image.zoom")||n.option("Image.fit")!=="contain")return!1;const o=e.$thumb;if(!o||e.state==="loading")return!1;i.classList.add("fancybox__no-click");const u=o.getBoundingClientRect();let d;if(this.fancybox.option("Image.ignoreCoveredThumbnail")){const g=document.elementFromPoint(u.left+1,u.top+1)===o,m=document.elementFromPoint(u.right-1,u.bottom-1)===o;d=g&&m}else d=document.elementFromPoint(u.left+.5*u.width,u.top+.5*u.height)===o;return i.classList.remove("fancybox__no-click"),d}zoomIn(){const e=this.fancybox,n=e.getSlide(),i=n.Panzoom,{top:o,left:u,scale:d,opacity:g}=this.getZoomInfo(n);e.trigger("reveal",n),i.panTo({x:-1*u,y:-1*o,scale:d,friction:0,ignoreBounds:!0}),n.$content.style.visibility="",n.state="zoomIn",g===!0&&i.on("afterTransform",m=>{n.state!=="zoomIn"&&n.state!=="zoomOut"||(m.$content.style.opacity=Math.min(1,1-(1-m.content.scale)/(1-d)))}),i.panTo({x:0,y:0,scale:1,friction:this.fancybox.option("Image.zoomFriction")})}zoomOut(){const e=this.fancybox,n=e.getSlide(),i=n.Panzoom;if(!i)return;n.state="zoomOut",e.state="customClosing",n.$caption&&(n.$caption.style.visibility="hidden");let o=this.fancybox.option("Image.zoomFriction");const u=d=>{const{top:g,left:m,scale:T,opacity:b}=this.getZoomInfo(n);d||b||(o*=.82),i.panTo({x:-1*m,y:-1*g,scale:T,friction:o,ignoreBounds:!0}),o*=.98};window.addEventListener("scroll",u),i.once("endAnimation",()=>{window.removeEventListener("scroll",u),e.destroy()}),u()}handleCursor(e){if(e.type!=="image"||!e.$el)return;const n=e.Panzoom,i=this.fancybox.option("Image.click",!1,e),o=this.fancybox.option("Image.touch"),u=e.$el.classList,d=this.fancybox.option("Image.canZoomInClass"),g=this.fancybox.option("Image.canZoomOutClass");u.remove(g),u.remove(d),n&&i==="toggleZoom"?n&&n.content.scale===1&&n.option("maxScale")-n.content.scale>.01?u.add(d):n.content.scale>1&&!o&&u.add(g):i==="close"&&u.add(g)}onWheel(e,n){if(this.fancybox.state==="ready"&&this.fancybox.trigger("Image.wheel",n)!==!1)switch(this.fancybox.option("Image.wheel")){case"zoom":e.state==="done"&&e.Panzoom&&e.Panzoom.zoomWithWheel(n);break;case"close":this.fancybox.close();break;case"slide":this.fancybox[n.deltaY<0?"prev":"next"]()}}onClick(e,n){if(this.fancybox.state!=="ready")return;const i=e.Panzoom;if(i&&(i.dragPosition.midPoint||i.dragOffset.x!==0||i.dragOffset.y!==0||i.dragOffset.scale!==1))return;if(this.fancybox.Carousel.Panzoom.lockAxis)return!1;const o=g=>{switch(g){case"toggleZoom":n.stopPropagation(),e.Panzoom&&e.Panzoom.zoomWithClick(n);break;case"close":this.fancybox.close();break;case"next":n.stopPropagation(),this.fancybox.next()}},u=this.fancybox.option("Image.click"),d=this.fancybox.option("Image.doubleClick");d?this.clickTimer?(clearTimeout(this.clickTimer),this.clickTimer=null,o(d)):this.clickTimer=setTimeout(()=>{this.clickTimer=null,o(u)},300):o(u)}onPageChange(e,n){const i=e.getSlide();n.slides.forEach(o=>{o.Panzoom&&o.state==="done"&&o.index!==i.index&&o.Panzoom.panTo({x:0,y:0,scale:1,friction:.8})})}attach(){this.fancybox.on(this.events)}detach(){this.fancybox.off(this.events)}}cl.defaults={canZoomInClass:"can-zoom_in",canZoomOutClass:"can-zoom_out",zoom:!0,zoomOpacity:"auto",zoomFriction:.82,ignoreCoveredThumbnail:!1,touch:!0,click:"toggleZoom",doubleClick:null,wheel:"zoom",fit:"contain",wrap:!1,Panzoom:{ratio:1}};class pn{constructor(e){this.fancybox=e;for(const n of["onChange","onClosing"])this[n]=this[n].bind(this);this.events={initCarousel:this.onChange,"Carousel.change":this.onChange,closing:this.onClosing},this.hasCreatedHistory=!1,this.origHash="",this.timer=null}onChange(e){const n=e.Carousel;this.timer&&clearTimeout(this.timer);const i=n.prevPage===null,o=e.getSlide(),u=new URL(document.URL).hash;let d=!1;if(o.slug)d="#"+o.slug;else{const g=o.$trigger&&o.$trigger.dataset,m=e.option("slug")||g&&g.fancybox;m&&m.length&&m!=="true"&&(d="#"+m+(n.slides.length>1?"-"+(o.index+1):""))}i&&(this.origHash=u!==d?u:""),d&&u!==d&&(this.timer=setTimeout(()=>{try{window.history[i?"pushState":"replaceState"]({},document.title,window.location.pathname+window.location.search+d),i&&(this.hasCreatedHistory=!0)}catch{}},300))}onClosing(){if(this.timer&&clearTimeout(this.timer),this.hasSilentClose!==!0)try{return void window.history.replaceState({},document.title,window.location.pathname+window.location.search+(this.origHash||""))}catch{}}attach(e){e.on(this.events)}detach(e){e.off(this.events)}static startFromUrl(){const e=pn.Fancybox;if(!e||e.getInstance()||e.defaults.Hash===!1)return;const{hash:n,slug:i,index:o}=pn.getParsedURL();if(!i)return;let u=document.querySelector(`[data-slug="${n}"]`);if(u&&u.dispatchEvent(new CustomEvent("click",{bubbles:!0,cancelable:!0})),e.getInstance())return;const d=document.querySelectorAll(`[data-fancybox="${i}"]`);d.length&&(o===null&&d.length===1?u=d[0]:o&&(u=d[o-1]),u&&u.dispatchEvent(new CustomEvent("click",{bubbles:!0,cancelable:!0})))}static onHashChange(){const{slug:e,index:n}=pn.getParsedURL(),i=pn.Fancybox,o=i&&i.getInstance();if(o&&o.plugins.Hash){if(e){const u=o.Carousel;if(e===o.option("slug"))return u.slideTo(n-1);for(let m of u.slides)if(m.slug&&m.slug===e)return u.slideTo(m.index);const d=o.getSlide(),g=d.$trigger&&d.$trigger.dataset;if(g&&g.fancybox===e)return u.slideTo(n-1)}o.plugins.Hash.hasSilentClose=!0,o.close()}pn.startFromUrl()}static create(e){function n(){window.addEventListener("hashchange",pn.onHashChange,!1),pn.startFromUrl()}pn.Fancybox=e,Pr&&window.requestAnimationFrame(()=>{/complete|interactive|loaded/.test(document.readyState)?n():document.addEventListener("DOMContentLoaded",n)})}static destroy(){window.removeEventListener("hashchange",pn.onHashChange,!1)}static getParsedURL(){const e=window.location.hash.substr(1),n=e.split("-"),i=n.length>1&&/^\+?\d+$/.test(n[n.length-1])&&parseInt(n.pop(-1),10)||null;return{hash:e,slug:n.join("-"),index:i}}}const qn={pageXOffset:0,pageYOffset:0,element:()=>document.fullscreenElement||document.mozFullScreenElement||document.webkitFullscreenElement,activate(t){qn.pageXOffset=window.pageXOffset,qn.pageYOffset=window.pageYOffset,t.requestFullscreen?t.requestFullscreen():t.mozRequestFullScreen?t.mozRequestFullScreen():t.webkitRequestFullscreen?t.webkitRequestFullscreen():t.msRequestFullscreen&&t.msRequestFullscreen()},deactivate(){document.exitFullscreen?document.exitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitExitFullscreen&&document.webkitExitFullscreen()}};class xc{constructor(e){this.fancybox=e,this.active=!1,this.handleVisibilityChange=this.handleVisibilityChange.bind(this)}isActive(){return this.active}setTimer(){if(!this.active||this.timer)return;const e=this.fancybox.option("slideshow.delay",3e3);this.timer=setTimeout(()=>{this.timer=null,this.fancybox.option("infinite")||this.fancybox.getSlide().index!==this.fancybox.Carousel.slides.length-1?this.fancybox.next():this.fancybox.jumpTo(0,{friction:0})},e);let n=this.$progress;n||(n=document.createElement("div"),n.classList.add("fancybox__progress"),this.fancybox.$carousel.parentNode.insertBefore(n,this.fancybox.$carousel),this.$progress=n,n.offsetHeight),n.style.transitionDuration=`${e}ms`,n.style.transform="scaleX(1)"}clearTimer(){clearTimeout(this.timer),this.timer=null,this.$progress&&(this.$progress.style.transitionDuration="",this.$progress.style.transform="",this.$progress.offsetHeight)}activate(){this.active||(this.active=!0,this.fancybox.$container.classList.add("has-slideshow"),this.fancybox.getSlide().state==="done"&&this.setTimer(),document.addEventListener("visibilitychange",this.handleVisibilityChange,!1))}handleVisibilityChange(){this.deactivate()}deactivate(){this.active=!1,this.clearTimer(),this.fancybox.$container.classList.remove("has-slideshow"),document.removeEventListener("visibilitychange",this.handleVisibilityChange,!1)}toggle(){this.active?this.deactivate():this.fancybox.Carousel.slides.length>1&&this.activate()}}const Sc={display:["counter","zoom","slideshow","fullscreen","thumbs","close"],autoEnable:!0,items:{counter:{position:"left",type:"div",class:"fancybox__counter",html:'<span data-fancybox-index=""></span>&nbsp;/&nbsp;<span data-fancybox-count=""></span>',attr:{tabindex:-1}},prev:{type:"button",class:"fancybox__button--prev",label:"PREV",html:'<svg viewBox="0 0 24 24"><path d="M15 4l-8 8 8 8"/></svg>',attr:{"data-fancybox-prev":""}},next:{type:"button",class:"fancybox__button--next",label:"NEXT",html:'<svg viewBox="0 0 24 24"><path d="M8 4l8 8-8 8"/></svg>',attr:{"data-fancybox-next":""}},fullscreen:{type:"button",class:"fancybox__button--fullscreen",label:"TOGGLE_FULLSCREEN",html:`<svg viewBox="0 0 24 24">
                <g><path d="M3 8 V3h5"></path><path d="M21 8V3h-5"></path><path d="M8 21H3v-5"></path><path d="M16 21h5v-5"></path></g>
                <g><path d="M7 2v5H2M17 2v5h5M2 17h5v5M22 17h-5v5"/></g>
            </svg>`,click:function(t){t.preventDefault(),qn.element()?qn.deactivate():qn.activate(this.fancybox.$container)}},slideshow:{type:"button",class:"fancybox__button--slideshow",label:"TOGGLE_SLIDESHOW",html:`<svg viewBox="0 0 24 24">
                <g><path d="M6 4v16"/><path d="M20 12L6 20"/><path d="M20 12L6 4"/></g>
                <g><path d="M7 4v15M17 4v15"/></g>
            </svg>`,click:function(t){t.preventDefault(),this.Slideshow.toggle()}},zoom:{type:"button",class:"fancybox__button--zoom",label:"TOGGLE_ZOOM",html:'<svg viewBox="0 0 24 24"><circle cx="10" cy="10" r="7"></circle><path d="M16 16 L21 21"></svg>',click:function(t){t.preventDefault();const e=this.fancybox.getSlide().Panzoom;e&&e.toggleZoom()}},download:{type:"link",label:"DOWNLOAD",class:"fancybox__button--download",html:'<svg viewBox="0 0 24 24"><path d="M12 15V3m0 12l-4-4m4 4l4-4M2 17l.62 2.48A2 2 0 004.56 21h14.88a2 2 0 001.94-1.51L22 17"/></svg>',click:function(t){t.stopPropagation()}},thumbs:{type:"button",label:"TOGGLE_THUMBS",class:"fancybox__button--thumbs",html:'<svg viewBox="0 0 24 24"><circle cx="4" cy="4" r="1" /><circle cx="12" cy="4" r="1" transform="rotate(90 12 4)"/><circle cx="20" cy="4" r="1" transform="rotate(90 20 4)"/><circle cx="4" cy="12" r="1" transform="rotate(90 4 12)"/><circle cx="12" cy="12" r="1" transform="rotate(90 12 12)"/><circle cx="20" cy="12" r="1" transform="rotate(90 20 12)"/><circle cx="4" cy="20" r="1" transform="rotate(90 4 20)"/><circle cx="12" cy="20" r="1" transform="rotate(90 12 20)"/><circle cx="20" cy="20" r="1" transform="rotate(90 20 20)"/></svg>',click:function(t){t.stopPropagation();const e=this.fancybox.plugins.Thumbs;e&&e.toggle()}},close:{type:"button",label:"CLOSE",class:"fancybox__button--close",html:'<svg viewBox="0 0 24 24"><path d="M20 20L4 4m16 0L4 20"></path></svg>',attr:{"data-fancybox-close":"",tabindex:0}}}};class ul{constructor(e){this.fancybox=e,this.$container=null,this.state="init";for(const n of["onInit","onPrepare","onDone","onKeydown","onClosing","onChange","onSettle","onRefresh"])this[n]=this[n].bind(this);this.events={init:this.onInit,prepare:this.onPrepare,done:this.onDone,keydown:this.onKeydown,closing:this.onClosing,"Carousel.change":this.onChange,"Carousel.settle":this.onSettle,"Carousel.Panzoom.touchStart":()=>this.onRefresh(),"Image.startAnimation":(n,i)=>this.onRefresh(i),"Image.afterUpdate":(n,i)=>this.onRefresh(i)}}onInit(){if(this.fancybox.option("Toolbar.autoEnable")){let e=!1;for(const n of this.fancybox.items)if(n.type==="image"){e=!0;break}if(!e)return void(this.state="disabled")}for(const e of this.fancybox.option("Toolbar.display"))if((ts(e)?e.id:e)==="close"){this.fancybox.options.closeButton=!1;break}}onPrepare(){const e=this.fancybox;if(this.state==="init"&&(this.build(),this.update(),this.Slideshow=new xc(e),!e.Carousel.prevPage&&(e.option("slideshow.autoStart")&&this.Slideshow.activate(),e.option("fullscreen.autoStart")&&!qn.element())))try{qn.activate(e.$container)}catch{}}onFsChange(){window.scrollTo(qn.pageXOffset,qn.pageYOffset)}onSettle(){const e=this.fancybox,n=this.Slideshow;n&&n.isActive()&&(e.getSlide().index!==e.Carousel.slides.length-1||e.option("infinite")?e.getSlide().state==="done"&&n.setTimer():n.deactivate())}onChange(){this.update(),this.Slideshow&&this.Slideshow.isActive()&&this.Slideshow.clearTimer()}onDone(e,n){const i=this.Slideshow;n.index===e.getSlide().index&&(this.update(),i&&i.isActive()&&(e.option("infinite")||n.index!==e.Carousel.slides.length-1?i.setTimer():i.deactivate()))}onRefresh(e){e&&e.index!==this.fancybox.getSlide().index||(this.update(),!this.Slideshow||!this.Slideshow.isActive()||e&&e.state!=="done"||this.Slideshow.deactivate())}onKeydown(e,n,i){n===" "&&this.Slideshow&&(this.Slideshow.toggle(),i.preventDefault())}onClosing(){this.Slideshow&&this.Slideshow.deactivate(),document.removeEventListener("fullscreenchange",this.onFsChange)}createElement(e){let n;e.type==="div"?n=document.createElement("div"):(n=document.createElement(e.type==="link"?"a":"button"),n.classList.add("carousel__button")),n.innerHTML=e.html,n.setAttribute("tabindex",e.tabindex||0),e.class&&n.classList.add(...e.class.split(" "));for(const o in e.attr)n.setAttribute(o,e.attr[o]);e.label&&n.setAttribute("title",this.fancybox.localize(`{{${e.label}}}`)),e.click&&n.addEventListener("click",e.click.bind(this)),e.id==="prev"&&n.setAttribute("data-fancybox-prev",""),e.id==="next"&&n.setAttribute("data-fancybox-next","");const i=n.querySelector("svg");return i&&(i.setAttribute("role","img"),i.setAttribute("tabindex","-1"),i.setAttribute("xmlns","http://www.w3.org/2000/svg")),n}build(){this.cleanup();const e=this.fancybox.option("Toolbar.items"),n=[{position:"left",items:[]},{position:"center",items:[]},{position:"right",items:[]}],i=this.fancybox.plugins.Thumbs;for(const u of this.fancybox.option("Toolbar.display")){let d,g;if(ts(u)?(d=u.id,g=Rt({},e[d],u)):(d=u,g=e[d]),["counter","next","prev","slideshow"].includes(d)&&this.fancybox.items.length<2)continue;if(d==="fullscreen"){if(!document.fullscreenEnabled||window.fullScreen)continue;document.addEventListener("fullscreenchange",this.onFsChange)}if(d==="thumbs"&&(!i||i.state==="disabled")||!g)continue;let m=g.position||"right",T=n.find(b=>b.position===m);T&&T.items.push(g)}const o=document.createElement("div");o.classList.add("fancybox__toolbar");for(const u of n)if(u.items.length){const d=document.createElement("div");d.classList.add("fancybox__toolbar__items"),d.classList.add(`fancybox__toolbar__items--${u.position}`);for(const g of u.items)d.appendChild(this.createElement(g));o.appendChild(d)}this.fancybox.$carousel.parentNode.insertBefore(o,this.fancybox.$carousel),this.$container=o}update(){const e=this.fancybox.getSlide(),n=e.index,i=this.fancybox.items.length,o=e.downloadSrc||(e.type!=="image"||e.error?null:e.src);for(const g of this.fancybox.$container.querySelectorAll("a.fancybox__button--download"))o?(g.removeAttribute("disabled"),g.removeAttribute("tabindex"),g.setAttribute("href",o),g.setAttribute("download",o),g.setAttribute("target","_blank")):(g.setAttribute("disabled",""),g.setAttribute("tabindex",-1),g.removeAttribute("href"),g.removeAttribute("download"));const u=e.Panzoom,d=u&&u.option("maxScale")>u.option("baseScale");for(const g of this.fancybox.$container.querySelectorAll(".fancybox__button--zoom"))d?g.removeAttribute("disabled"):g.setAttribute("disabled","");for(const g of this.fancybox.$container.querySelectorAll("[data-fancybox-index]"))g.innerHTML=e.index+1;for(const g of this.fancybox.$container.querySelectorAll("[data-fancybox-count]"))g.innerHTML=i;if(!this.fancybox.option("infinite")){for(const g of this.fancybox.$container.querySelectorAll("[data-fancybox-prev]"))n===0?g.setAttribute("disabled",""):g.removeAttribute("disabled");for(const g of this.fancybox.$container.querySelectorAll("[data-fancybox-next]"))n===i-1?g.setAttribute("disabled",""):g.removeAttribute("disabled")}}cleanup(){this.Slideshow&&this.Slideshow.isActive()&&this.Slideshow.clearTimer(),this.$container&&this.$container.remove(),this.$container=null}attach(){this.fancybox.on(this.events)}detach(){this.fancybox.off(this.events),this.cleanup()}}ul.defaults=Sc;const Cc={ScrollLock:class{constructor(t){this.fancybox=t,this.viewport=null,this.pendingUpdate=null;for(const e of["onReady","onResize","onTouchstart","onTouchmove"])this[e]=this[e].bind(this)}onReady(){const t=window.visualViewport;t&&(this.viewport=t,this.startY=0,t.addEventListener("resize",this.onResize),this.updateViewport()),window.addEventListener("touchstart",this.onTouchstart,{passive:!1}),window.addEventListener("touchmove",this.onTouchmove,{passive:!1}),window.addEventListener("wheel",this.onWheel,{passive:!1})}onResize(){this.updateViewport()}updateViewport(){const t=this.fancybox,e=this.viewport,n=e.scale||1,i=t.$container;if(!i)return;let o="",u="",d="";n-1>.1&&(o=e.width*n+"px",u=e.height*n+"px",d=`translate3d(${e.offsetLeft}px, ${e.offsetTop}px, 0) scale(${1/n})`),i.style.width=o,i.style.height=u,i.style.transform=d}onTouchstart(t){this.startY=t.touches?t.touches[0].screenY:t.screenY}onTouchmove(t){const e=this.startY,n=window.innerWidth/window.document.documentElement.clientWidth;if(!t.cancelable||t.touches.length>1||n!==1)return;const i=Lr(t.composedPath()[0]);if(!i)return void t.preventDefault();const o=window.getComputedStyle(i),u=parseInt(o.getPropertyValue("height"),10),d=t.touches?t.touches[0].screenY:t.screenY,g=e<=d&&i.scrollTop===0,m=e>=d&&i.scrollHeight-i.scrollTop===u;(g||m)&&t.preventDefault()}onWheel(t){Lr(t.composedPath()[0])||t.preventDefault()}cleanup(){this.pendingUpdate&&(cancelAnimationFrame(this.pendingUpdate),this.pendingUpdate=null);const t=this.viewport;t&&(t.removeEventListener("resize",this.onResize),this.viewport=null),window.removeEventListener("touchstart",this.onTouchstart,!1),window.removeEventListener("touchmove",this.onTouchmove,!1),window.removeEventListener("wheel",this.onWheel,{passive:!1})}attach(){this.fancybox.on("initLayout",this.onReady)}detach(){this.fancybox.off("initLayout",this.onReady),this.cleanup()}},Thumbs:ol,Html:ll,Toolbar:ul,Image:cl,Hash:pn},dl={startIndex:0,preload:1,infinite:!0,showClass:"fancybox-zoomInUp",hideClass:"fancybox-fadeOut",animated:!0,hideScrollbar:!0,parentEl:null,mainClass:null,autoFocus:!0,trapFocus:!0,placeFocusBack:!0,click:"close",closeButton:"inside",dragToClose:!0,keyboard:{Escape:"close",Delete:"close",Backspace:"close",PageUp:"next",PageDown:"prev",ArrowUp:"next",ArrowDown:"prev",ArrowRight:"next",ArrowLeft:"prev"},template:{closeButton:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" tabindex="-1"><path d="M20 20L4 4m16 0L4 20"/></svg>',spinner:'<svg xmlns="http://www.w3.org/2000/svg" width="50" height="50" viewBox="25 25 50 50" tabindex="-1"><circle cx="50" cy="50" r="20"/></svg>',main:null},l10n:{CLOSE:"Close",NEXT:"Next",PREV:"Previous",MODAL:"You can close this modal content with the ESC key",ERROR:"Something Went Wrong, Please Try Again Later",IMAGE_ERROR:"Image Not Found",ELEMENT_NOT_FOUND:"HTML Element Not Found",AJAX_NOT_FOUND:"Error Loading AJAX : Not Found",AJAX_FORBIDDEN:"Error Loading AJAX : Forbidden",IFRAME_ERROR:"Error Loading Page",TOGGLE_ZOOM:"Toggle zoom level",TOGGLE_THUMBS:"Toggle thumbnails",TOGGLE_SLIDESHOW:"Toggle slideshow",TOGGLE_FULLSCREEN:"Toggle full-screen mode",DOWNLOAD:"Download"}},Rs=new Map;let Ac=0;class Pe extends No{constructor(e,n={}){e=e.map(i=>(i.width&&(i._width=i.width),i.height&&(i._height=i.height),i)),super(Rt(!0,{},dl,n)),this.bindHandlers(),this.state="init",this.setItems(e),this.attachPlugins(Pe.Plugins),this.trigger("init"),this.option("hideScrollbar")===!0&&this.hideScrollbar(),this.initLayout(),this.initCarousel(),this.attachEvents(),Rs.set(this.id,this),this.trigger("prepare"),this.state="ready",this.trigger("ready"),this.$container.setAttribute("aria-hidden","false"),this.option("trapFocus")&&this.focus()}option(e,...n){const i=this.getSlide();let o=i?i[e]:void 0;return o!==void 0?(typeof o=="function"&&(o=o.call(this,this,...n)),o):super.option(e,...n)}bindHandlers(){for(const e of["onMousedown","onKeydown","onClick","onFocus","onCreateSlide","onSettle","onTouchMove","onTouchEnd","onTransform"])this[e]=this[e].bind(this)}attachEvents(){document.addEventListener("mousedown",this.onMousedown),document.addEventListener("keydown",this.onKeydown,!0),this.option("trapFocus")&&document.addEventListener("focus",this.onFocus,!0),this.$container.addEventListener("click",this.onClick)}detachEvents(){document.removeEventListener("mousedown",this.onMousedown),document.removeEventListener("keydown",this.onKeydown,!0),document.removeEventListener("focus",this.onFocus,!0),this.$container.removeEventListener("click",this.onClick)}initLayout(){this.$root=this.option("parentEl")||document.body;let e=this.option("template.main");e&&(this.$root.insertAdjacentHTML("beforeend",this.localize(e)),this.$container=this.$root.querySelector(".fancybox__container")),this.$container||(this.$container=document.createElement("div"),this.$root.appendChild(this.$container)),this.$container.onscroll=()=>(this.$container.scrollLeft=0,!1),Object.entries({class:"fancybox__container",role:"dialog",tabIndex:"-1","aria-modal":"true","aria-hidden":"true","aria-label":this.localize("{{MODAL}}")}).forEach(i=>this.$container.setAttribute(...i)),this.option("animated")&&this.$container.classList.add("is-animated"),this.$backdrop=this.$container.querySelector(".fancybox__backdrop"),this.$backdrop||(this.$backdrop=document.createElement("div"),this.$backdrop.classList.add("fancybox__backdrop"),this.$container.appendChild(this.$backdrop)),this.$carousel=this.$container.querySelector(".fancybox__carousel"),this.$carousel||(this.$carousel=document.createElement("div"),this.$carousel.classList.add("fancybox__carousel"),this.$container.appendChild(this.$carousel)),this.$container.Fancybox=this,this.id=this.$container.getAttribute("id"),this.id||(this.id=this.options.id||++Ac,this.$container.setAttribute("id","fancybox-"+this.id));const n=this.option("mainClass");return n&&this.$container.classList.add(...n.split(" ")),document.documentElement.classList.add("with-fancybox"),this.trigger("initLayout"),this}setItems(e){const n=[];for(const i of e){const o=i.$trigger;if(o){const g=o.dataset||{};i.src=g.src||o.getAttribute("href")||i.src,i.type=g.type||i.type,!i.src&&o instanceof HTMLImageElement&&(i.src=o.currentSrc||i.$trigger.src)}let u=i.$thumb;if(!u){let g=i.$trigger&&i.$trigger.origTarget;g&&(u=g instanceof HTMLImageElement?g:g.querySelector("img:not([aria-hidden])")),!u&&i.$trigger&&(u=i.$trigger instanceof HTMLImageElement?i.$trigger:i.$trigger.querySelector("img:not([aria-hidden])"))}i.$thumb=u||null;let d=i.thumb;!d&&u&&(d=u.currentSrc||u.src,!d&&u.dataset&&(d=u.dataset.lazySrc||u.dataset.src)),d||i.type!=="image"||(d=i.src),i.thumb=d||null,i.caption=i.caption||"",n.push(i)}this.items=n}initCarousel(){return this.Carousel=new ss(this.$carousel,Rt(!0,{},{prefix:"",classNames:{viewport:"fancybox__viewport",track:"fancybox__track",slide:"fancybox__slide"},textSelection:!0,preload:this.option("preload"),friction:.88,slides:this.items,initialPage:this.options.startIndex,slidesPerPage:1,infiniteX:this.option("infinite"),infiniteY:!0,l10n:this.option("l10n"),Dots:!1,Navigation:{classNames:{main:"fancybox__nav",button:"carousel__button",next:"is-next",prev:"is-prev"}},Panzoom:{textSelection:!0,panOnlyZoomed:()=>this.Carousel&&this.Carousel.pages&&this.Carousel.pages.length<2&&!this.option("dragToClose"),lockAxis:()=>{if(this.Carousel){let e="x";return this.option("dragToClose")&&(e+="y"),e}}},on:{"*":(e,...n)=>this.trigger(`Carousel.${e}`,...n),init:e=>this.Carousel=e,createSlide:this.onCreateSlide,settle:this.onSettle}},this.option("Carousel"))),this.option("dragToClose")&&this.Carousel.Panzoom.on({touchMove:this.onTouchMove,afterTransform:this.onTransform,touchEnd:this.onTouchEnd}),this.trigger("initCarousel"),this}onCreateSlide(e,n){let i=n.caption||"";if(typeof this.options.caption=="function"&&(i=this.options.caption.call(this,this,this.Carousel,n)),typeof i=="string"&&i.length){const o=document.createElement("div"),u=`fancybox__caption_${this.id}_${n.index}`;o.className="fancybox__caption",o.innerHTML=i,o.setAttribute("id",u),n.$caption=n.$el.appendChild(o),n.$el.classList.add("has-caption"),n.$el.setAttribute("aria-labelledby",u)}}onSettle(){this.option("autoFocus")&&this.focus()}onFocus(e){this.isTopmost()&&this.focus(e)}onClick(e){if(e.defaultPrevented)return;let n=e.composedPath()[0];if(n.matches("[data-fancybox-close]"))return e.preventDefault(),void Pe.close(!1,e);if(n.matches("[data-fancybox-next]"))return e.preventDefault(),void Pe.next();if(n.matches("[data-fancybox-prev]"))return e.preventDefault(),void Pe.prev();const i=document.activeElement;if(i){if(i.closest("[contenteditable]"))return;n.matches(ua)||i.blur()}if(!n.closest(".fancybox__content")&&!getSelection().toString().length&&this.trigger("click",e)!==!1)switch(this.option("click")){case"close":this.close();break;case"next":this.next()}}onTouchMove(){const e=this.getSlide().Panzoom;return!e||e.content.scale===1}onTouchEnd(e){const n=e.dragOffset.y;Math.abs(n)>=150||Math.abs(n)>=35&&e.dragOffset.time<350?(this.option("hideClass")&&(this.getSlide().hideClass="fancybox-throwOut"+(e.content.y<0?"Up":"Down")),this.close()):e.lockAxis==="y"&&e.panTo({y:0})}onTransform(e){if(this.$backdrop){const n=Math.abs(e.content.y),i=n<1?"":Math.max(.33,Math.min(1,1-n/e.content.fitHeight*1.5));this.$container.style.setProperty("--fancybox-ts",i?"0s":""),this.$container.style.setProperty("--fancybox-opacity",i)}}onMousedown(){this.state==="ready"&&document.body.classList.add("is-using-mouse")}onKeydown(e){if(!this.isTopmost())return;document.body.classList.remove("is-using-mouse");const n=e.key,i=this.option("keyboard");if(!i||e.ctrlKey||e.altKey||e.shiftKey)return;const o=e.composedPath()[0],u=document.activeElement&&document.activeElement.classList,d=u&&u.contains("carousel__button");if(n!=="Escape"&&!d&&(e.target.isContentEditable||["BUTTON","TEXTAREA","OPTION","INPUT","SELECT","VIDEO"].indexOf(o.nodeName)!==-1)||this.trigger("keydown",n,e)===!1)return;const g=i[n];typeof this[g]=="function"&&this[g]()}getSlide(){const e=this.Carousel;if(!e)return null;const n=e.page===null?e.option("initialPage"):e.page,i=e.pages||[];return i.length&&i[n]?i[n].slides[0]:null}focus(e){if(Pe.ignoreFocusChange||["init","closing","customClosing","destroy"].indexOf(this.state)>-1)return;const n=this.$container,i=this.getSlide(),o=i.state==="done"?i.$el:null;if(o&&o.contains(document.activeElement))return;e&&e.preventDefault(),Pe.ignoreFocusChange=!0;const u=Array.from(n.querySelectorAll(ua));let d,g=[];for(let m of u){const T=m.offsetParent,b=o&&o.contains(m),A=!this.Carousel.$viewport.contains(m);T&&(b||A)?(g.push(m),m.dataset.origTabindex!==void 0&&(m.tabIndex=m.dataset.origTabindex,m.removeAttribute("data-orig-tabindex")),(m.hasAttribute("autoFocus")||!d&&b&&!m.classList.contains("carousel__button"))&&(d=m)):(m.dataset.origTabindex=m.dataset.origTabindex===void 0?m.getAttribute("tabindex"):m.dataset.origTabindex,m.tabIndex=-1)}e?g.indexOf(e.target)>-1?this.lastFocus=e.target:this.lastFocus===n?Os(g[g.length-1]):Os(n):this.option("autoFocus")&&d?Os(d):g.indexOf(document.activeElement)<0&&Os(n),this.lastFocus=document.activeElement,Pe.ignoreFocusChange=!1}hideScrollbar(){if(!Pr)return;const e=window.innerWidth-document.documentElement.getBoundingClientRect().width,n="fancybox-style-noscroll";let i=document.getElementById(n);i||e>0&&(i=document.createElement("style"),i.id=n,i.type="text/css",i.innerHTML=`.compensate-for-scrollbar {padding-right: ${e}px;}`,document.getElementsByTagName("head")[0].appendChild(i),document.body.classList.add("compensate-for-scrollbar"))}revealScrollbar(){document.body.classList.remove("compensate-for-scrollbar");const e=document.getElementById("fancybox-style-noscroll");e&&e.remove()}clearContent(e){this.Carousel.trigger("removeSlide",e),e.$content&&(e.$content.remove(),e.$content=null),e.$closeButton&&(e.$closeButton.remove(),e.$closeButton=null),e._className&&e.$el.classList.remove(e._className)}setContent(e,n,i={}){let o;const u=e.$el;if(n instanceof HTMLElement)["img","iframe","video","audio"].indexOf(n.nodeName.toLowerCase())>-1?(o=document.createElement("div"),o.appendChild(n)):o=n;else{const d=document.createRange().createContextualFragment(n);o=document.createElement("div"),o.appendChild(d)}if(e.filter&&!e.error&&(o=o.querySelector(e.filter)),o instanceof Element)return e._className=`has-${i.suffix||e.type||"unknown"}`,u.classList.add(e._className),o.classList.add("fancybox__content"),o.style.display!=="none"&&getComputedStyle(o).getPropertyValue("display")!=="none"||(o.style.display=e.display||this.option("defaultDisplay")||"flex"),e.id&&o.setAttribute("id",e.id),e.$content=o,u.prepend(o),this.manageCloseButton(e),e.state!=="loading"&&this.revealContent(e),o;this.setError(e,"{{ELEMENT_NOT_FOUND}}")}manageCloseButton(e){const n=e.closeButton===void 0?this.option("closeButton"):e.closeButton;if(!n||n==="top"&&this.$closeButton)return;const i=document.createElement("button");i.classList.add("carousel__button","is-close"),i.setAttribute("title",this.options.l10n.CLOSE),i.innerHTML=this.option("template.closeButton"),i.addEventListener("click",o=>this.close(o)),n==="inside"?(e.$closeButton&&e.$closeButton.remove(),e.$closeButton=e.$content.appendChild(i)):this.$closeButton=this.$container.insertBefore(i,this.$container.firstChild)}revealContent(e){this.trigger("reveal",e),e.$content.style.visibility="";let n=!1;e.error||e.state==="loading"||this.Carousel.prevPage!==null||e.index!==this.options.startIndex||(n=e.showClass===void 0?this.option("showClass"):e.showClass),n?(e.state="animating",this.animateCSS(e.$content,n,()=>{this.done(e)})):this.done(e)}animateCSS(e,n,i){if(e&&e.dispatchEvent(new CustomEvent("animationend",{bubbles:!0,cancelable:!0})),!e||!n)return void(typeof i=="function"&&i());const o=function(u){u.currentTarget===this&&(e.removeEventListener("animationend",o),i&&i(),e.classList.remove(n))};e.addEventListener("animationend",o),e.classList.add(n)}done(e){e.state="done",this.trigger("done",e);const n=this.getSlide();n&&e.index===n.index&&this.option("autoFocus")&&this.focus()}setError(e,n){e.error=n,this.hideLoading(e),this.clearContent(e);const i=document.createElement("div");i.classList.add("fancybox-error"),i.innerHTML=this.localize(n||"<p>{{ERROR}}</p>"),this.setContent(e,i,{suffix:"error"})}showLoading(e){e.state="loading",e.$el.classList.add("is-loading");let n=e.$el.querySelector(".fancybox__spinner");n||(n=document.createElement("div"),n.classList.add("fancybox__spinner"),n.innerHTML=this.option("template.spinner"),n.addEventListener("click",()=>{this.Carousel.Panzoom.velocity||this.close()}),e.$el.prepend(n))}hideLoading(e){const n=e.$el&&e.$el.querySelector(".fancybox__spinner");n&&(n.remove(),e.$el.classList.remove("is-loading")),e.state==="loading"&&(this.trigger("load",e),e.state="ready")}next(){const e=this.Carousel;e&&e.pages.length>1&&e.slideNext()}prev(){const e=this.Carousel;e&&e.pages.length>1&&e.slidePrev()}jumpTo(...e){this.Carousel&&this.Carousel.slideTo(...e)}isClosing(){return["closing","customClosing","destroy"].includes(this.state)}isTopmost(){return Pe.getInstance().id==this.id}close(e){if(e&&e.preventDefault(),this.isClosing()||this.trigger("shouldClose",e)===!1||(this.state="closing",this.Carousel.Panzoom.destroy(),this.detachEvents(),this.trigger("closing",e),this.state==="destroy"))return;this.$container.setAttribute("aria-hidden","true"),this.$container.classList.add("is-closing");const n=this.getSlide();if(this.Carousel.slides.forEach(i=>{i.$content&&i.index!==n.index&&this.Carousel.trigger("removeSlide",i)}),this.state==="closing"){const i=n.hideClass===void 0?this.option("hideClass"):n.hideClass;this.animateCSS(n.$content,i,()=>{this.destroy()},!0)}}destroy(){if(this.state==="destroy")return;this.state="destroy",this.trigger("destroy");const e=this.option("placeFocusBack")?this.option("triggerTarget",this.getSlide().$trigger):null;this.Carousel.destroy(),this.detachPlugins(),this.Carousel=null,this.options={},this.events={},this.$container.remove(),this.$container=this.$backdrop=this.$carousel=null,e&&Os(e),Rs.delete(this.id);const n=Pe.getInstance();n?n.focus():(document.documentElement.classList.remove("with-fancybox"),document.body.classList.remove("is-using-mouse"),this.revealScrollbar())}static show(e,n={}){return new Pe(e,n)}static fromEvent(e,n={}){if(e.defaultPrevented||e.button&&e.button!==0||e.ctrlKey||e.metaKey||e.shiftKey)return;const i=e.composedPath()[0];let o,u,d,g=i;if((g.matches("[data-fancybox-trigger]")||(g=g.closest("[data-fancybox-trigger]")))&&(n.triggerTarget=g,o=g&&g.dataset&&g.dataset.fancyboxTrigger),o){const T=document.querySelectorAll(`[data-fancybox="${o}"]`),b=parseInt(g.dataset.fancyboxIndex,10)||0;g=T.length?T[b]:g}Array.from(Pe.openers.keys()).reverse().some(T=>{d=g||i;let b=!1;try{d instanceof Element&&(typeof T=="string"||T instanceof String)&&(b=d.matches(T)||(d=d.closest(T)))}catch{}return!!b&&(e.preventDefault(),u=T,!0)});let m=!1;if(u){n.event=e,n.target=d,d.origTarget=i,m=Pe.fromOpener(u,n);const T=Pe.getInstance();T&&T.state==="ready"&&e.detail&&document.body.classList.add("is-using-mouse")}return m}static fromOpener(e,n={}){let i=[],o=n.startIndex||0,u=n.target||null;const d=(n=Rt({},n,Pe.openers.get(e))).groupAll!==void 0&&n.groupAll,g=n.groupAttr===void 0?"data-fancybox":n.groupAttr,m=g&&u?u.getAttribute(`${g}`):"";if(!u||m||d){const b=n.root||(u?u.getRootNode():document.body);i=[].slice.call(b.querySelectorAll(e))}if(u&&!d&&(i=m?i.filter(b=>b.getAttribute(`${g}`)===m):[u]),!i.length)return!1;const T=Pe.getInstance();return!(T&&i.indexOf(T.options.$trigger)>-1)&&(o=u?i.indexOf(u):o,i=i.map(function(b){const A=["false","0","no","null","undefined"],N=["true","1","yes"],P=Object.assign({},b.dataset),x={};for(let[D,k]of Object.entries(P))if(D!=="fancybox")if(D==="width"||D==="height")x[`_${D}`]=k;else if(typeof k=="string"||k instanceof String)if(A.indexOf(k)>-1)x[D]=!1;else if(N.indexOf(x[D])>-1)x[D]=!0;else try{x[D]=JSON.parse(k)}catch{x[D]=k}else x[D]=k;return b instanceof Element&&(x.$trigger=b),x}),new Pe(i,Rt({},n,{startIndex:o,$trigger:u})))}static bind(e,n={}){function i(){document.body.addEventListener("click",Pe.fromEvent,!1)}Pr&&(Pe.openers.size||(/complete|interactive|loaded/.test(document.readyState)?i():document.addEventListener("DOMContentLoaded",i)),Pe.openers.set(e,n))}static unbind(e){Pe.openers.delete(e),Pe.openers.size||Pe.destroy()}static destroy(){let e;for(;e=Pe.getInstance();)e.destroy();Pe.openers=new Map,document.body.removeEventListener("click",Pe.fromEvent,!1)}static getInstance(e){return e?Rs.get(e):Array.from(Rs.values()).reverse().find(n=>!n.isClosing()&&n)||null}static close(e=!0,n){if(e)for(const i of Rs.values())i.close(n);else{const i=Pe.getInstance();i&&i.close(n)}}static next(){const e=Pe.getInstance();e&&e.next()}static prev(){const e=Pe.getInstance();e&&e.prev()}}Pe.version="4.0.31",Pe.defaults=dl,Pe.openers=new Map,Pe.Plugins=Cc,Pe.bind("[data-fancybox]");for(const[t,e]of Object.entries(Pe.Plugins||{}))typeof e.create=="function"&&e.create(Pe);/*!
 * FilePond 4.31.2
 * Licensed under MIT, https://opensource.org/licenses/MIT/
 * Please visit https://pqina.nl/filepond/ for details.
 */const Oc=t=>t instanceof HTMLElement,Rc=(t,e=[],n=[])=>{const i={...t},o=[],u=[],d=()=>({...i}),g=()=>{const x=[...o];return o.length=0,x},m=()=>{const x=[...u];u.length=0,x.forEach(({type:D,data:k})=>{T(D,k)})},T=(x,D,k)=>{if(k&&!document.hidden){u.push({type:x,data:D});return}P[x]&&P[x](D),o.push({type:x,data:D})},b=(x,...D)=>N[x]?N[x](...D):null,A={getState:d,processActionQueue:g,processDispatchQueue:m,dispatch:T,query:b};let N={};e.forEach(x=>{N={...x(i),...N}});let P={};return n.forEach(x=>{P={...x(T,b,i),...P}}),A},Dc=(t,e,n)=>{if(typeof n=="function"){t[e]=n;return}Object.defineProperty(t,e,{...n})},Je=(t,e)=>{for(const n in t)t.hasOwnProperty(n)&&e(n,t[n])},ii=t=>{const e={};return Je(t,n=>{Dc(e,n,t[n])}),e},ct=(t,e,n=null)=>{if(n===null)return t.getAttribute(e)||t.hasAttribute(e);t.setAttribute(e,n)},Lc="http://www.w3.org/2000/svg",Pc=["svg","path"],fa=t=>Pc.includes(t),Mr=(t,e,n={})=>{typeof e=="object"&&(n=e,e=null);const i=fa(t)?document.createElementNS(Lc,t):document.createElement(t);return e&&(fa(t)?ct(i,"class",e):i.className=e),Je(n,(o,u)=>{ct(i,o,u)}),i},Mc=t=>(e,n)=>{typeof n<"u"&&t.children[n]?t.insertBefore(e,t.children[n]):t.appendChild(e)},Nc=(t,e)=>(n,i)=>(typeof i<"u"?e.splice(i,0,n):e.push(n),n),Fc=(t,e)=>n=>(e.splice(e.indexOf(n),1),n.element.parentNode&&t.removeChild(n.element),n),kc=(()=>typeof window<"u"&&typeof window.document<"u")(),fl=()=>kc,$c=fl()?Mr("svg"):{},Bc="children"in $c?t=>t.children.length:t=>t.childNodes.length,hl=(t,e,n,i)=>{const o=n[0]||t.left,u=n[1]||t.top,d=o+t.width,g=u+t.height*(i[1]||1),m={element:{...t},inner:{left:t.left,top:t.top,right:t.right,bottom:t.bottom},outer:{left:o,top:u,right:d,bottom:g}};return e.filter(T=>!T.isRectIgnored()).map(T=>T.rect).forEach(T=>{ha(m.inner,{...T.inner}),ha(m.outer,{...T.outer})}),pa(m.inner),m.outer.bottom+=m.element.marginBottom,m.outer.right+=m.element.marginRight,pa(m.outer),m},ha=(t,e)=>{e.top+=t.top,e.right+=t.left,e.bottom+=t.top,e.left+=t.left,e.bottom>t.bottom&&(t.bottom=e.bottom),e.right>t.right&&(t.right=e.right)},pa=t=>{t.width=t.right-t.left,t.height=t.bottom-t.top},Ti=t=>typeof t=="number",Gc=(t,e,n,i=.001)=>Math.abs(t-e)<i&&Math.abs(n)<i,Hc=({stiffness:t=.5,damping:e=.75,mass:n=10}={})=>{let i=null,o=null,u=0,d=!1;const T=ii({interpolate:(b,A)=>{if(d)return;if(!(Ti(i)&&Ti(o))){d=!0,u=0;return}const N=-(o-i)*t;u+=N/n,o+=u,u*=e,Gc(o,i,u)||A?(o=i,u=0,d=!0,T.onupdate(o),T.oncomplete(o)):T.onupdate(o)},target:{set:b=>{if(Ti(b)&&!Ti(o)&&(o=b),i===null&&(i=b,o=b),i=b,o===i||typeof i>"u"){d=!0,u=0,T.onupdate(o),T.oncomplete(o);return}d=!1},get:()=>i},resting:{get:()=>d},onupdate:b=>{},oncomplete:b=>{}});return T},Uc=t=>t<.5?2*t*t:-1+(4-2*t)*t,zc=({duration:t=500,easing:e=Uc,delay:n=0}={})=>{let i=null,o,u,d=!0,g=!1,m=null;const b=ii({interpolate:(A,N)=>{d||m===null||(i===null&&(i=A),!(A-i<n)&&(o=A-i-n,o>=t||N?(o=1,u=g?0:1,b.onupdate(u*m),b.oncomplete(u*m),d=!0):(u=o/t,b.onupdate((o>=0?e(g?1-u:u):0)*m))))},target:{get:()=>g?0:m,set:A=>{if(m===null){m=A,b.onupdate(A),b.oncomplete(A);return}A<m?(m=1,g=!0):(g=!1,m=A),d=!1,i=null}},resting:{get:()=>d},onupdate:A=>{},oncomplete:A=>{}});return b},ga={spring:Hc,tween:zc},Vc=(t,e,n)=>{const i=t[e]&&typeof t[e][n]=="object"?t[e][n]:t[e]||t,o=typeof i=="string"?i:i.type,u=typeof i=="object"?{...i}:{};return ga[o]?ga[o](u):null},Fo=(t,e,n,i=!1)=>{e=Array.isArray(e)?e:[e],e.forEach(o=>{t.forEach(u=>{let d=u,g=()=>n[u],m=T=>n[u]=T;typeof u=="object"&&(d=u.key,g=u.getter||g,m=u.setter||m),!(o[d]&&!i)&&(o[d]={get:g,set:m})})})},qc=({mixinConfig:t,viewProps:e,viewInternalAPI:n,viewExternalAPI:i})=>{const o={...e},u=[];return Je(t,(d,g)=>{const m=Vc(g);if(!m)return;m.onupdate=b=>{e[d]=b},m.target=o[d],Fo([{key:d,setter:b=>{m.target!==b&&(m.target=b)},getter:()=>e[d]}],[n,i],e,!0),u.push(m)}),{write:d=>{let g=document.hidden,m=!0;return u.forEach(T=>{T.resting||(m=!1),T.interpolate(d,g)}),m},destroy:()=>{}}},Wc=t=>(e,n)=>{t.addEventListener(e,n)},jc=t=>(e,n)=>{t.removeEventListener(e,n)},Yc=({mixinConfig:t,viewProps:e,viewInternalAPI:n,viewExternalAPI:i,viewState:o,view:u})=>{const d=[],g=Wc(u.element),m=jc(u.element);return i.on=(T,b)=>{d.push({type:T,fn:b}),g(T,b)},i.off=(T,b)=>{d.splice(d.findIndex(A=>A.type===T&&A.fn===b),1),m(T,b)},{write:()=>!0,destroy:()=>{d.forEach(T=>{m(T.type,T.fn)})}}},Xc=({mixinConfig:t,viewProps:e,viewExternalAPI:n})=>{Fo(t,n,e)},Ot=t=>t!=null,Zc={opacity:1,scaleX:1,scaleY:1,translateX:0,translateY:0,rotateX:0,rotateY:0,rotateZ:0,originX:0,originY:0},Qc=({mixinConfig:t,viewProps:e,viewInternalAPI:n,viewExternalAPI:i,view:o})=>{const u={...e},d={};Fo(t,[n,i],e);const g=()=>[e.translateX||0,e.translateY||0],m=()=>[e.scaleX||0,e.scaleY||0],T=()=>o.rect?hl(o.rect,o.childViews,g(),m()):null;return n.rect={get:T},i.rect={get:T},t.forEach(b=>{e[b]=typeof u[b]>"u"?Zc[b]:u[b]}),{write:()=>{if(Kc(d,e))return Jc(o.element,e),Object.assign(d,{...e}),!0},destroy:()=>{}}},Kc=(t,e)=>{if(Object.keys(t).length!==Object.keys(e).length)return!0;for(const n in e)if(e[n]!==t[n])return!0;return!1},Jc=(t,{opacity:e,perspective:n,translateX:i,translateY:o,scaleX:u,scaleY:d,rotateX:g,rotateY:m,rotateZ:T,originX:b,originY:A,width:N,height:P})=>{let x="",D="";(Ot(b)||Ot(A))&&(D+=`transform-origin: ${b||0}px ${A||0}px;`),Ot(n)&&(x+=`perspective(${n}px) `),(Ot(i)||Ot(o))&&(x+=`translate3d(${i||0}px, ${o||0}px, 0) `),(Ot(u)||Ot(d))&&(x+=`scale3d(${Ot(u)?u:1}, ${Ot(d)?d:1}, 1) `),Ot(T)&&(x+=`rotateZ(${T}rad) `),Ot(g)&&(x+=`rotateX(${g}rad) `),Ot(m)&&(x+=`rotateY(${m}rad) `),x.length&&(D+=`transform:${x};`),Ot(e)&&(D+=`opacity:${e};`,e===0&&(D+="visibility:hidden;"),e<1&&(D+="pointer-events:none;")),Ot(P)&&(D+=`height:${P}px;`),Ot(N)&&(D+=`width:${N}px;`);const k=t.elementCurrentStyle||"";(D.length!==k.length||D!==k)&&(t.style.cssText=D,t.elementCurrentStyle=D)},eu={styles:Qc,listeners:Yc,animations:qc,apis:Xc},ma=(t={},e={},n={})=>(e.layoutCalculated||(t.paddingTop=parseInt(n.paddingTop,10)||0,t.marginTop=parseInt(n.marginTop,10)||0,t.marginRight=parseInt(n.marginRight,10)||0,t.marginBottom=parseInt(n.marginBottom,10)||0,t.marginLeft=parseInt(n.marginLeft,10)||0,e.layoutCalculated=!0),t.left=e.offsetLeft||0,t.top=e.offsetTop||0,t.width=e.offsetWidth||0,t.height=e.offsetHeight||0,t.right=t.left+t.width,t.bottom=t.top+t.height,t.scrollTop=e.scrollTop,t.hidden=e.offsetParent===null,t),ot=({tag:t="div",name:e=null,attributes:n={},read:i=()=>{},write:o=()=>{},create:u=()=>{},destroy:d=()=>{},filterFrameActionsForChild:g=(P,x)=>x,didCreateView:m=()=>{},didWriteView:T=()=>{},ignoreRect:b=!1,ignoreRectUpdate:A=!1,mixins:N=[]}={})=>(P,x={})=>{const D=Mr(t,`filepond--${e}`,n),k=window.getComputedStyle(D,null),z=ma();let B=null,H=!1;const Y=[],J=[],f={},fe={},ee=[o],W=[i],X=[d],ae=()=>D,de=()=>Y.concat(),me=()=>f,re=Ie=>(We,Ze)=>We(Ie,Ze),xe=()=>B||(B=hl(z,Y,[0,0],[1,1]),B),K=()=>k,le=()=>{B=null,Y.forEach(Ze=>Ze._read()),!(A&&z.width&&z.height)&&ma(z,D,k);const We={root:Fe,props:x,rect:z};W.forEach(Ze=>Ze(We))},F=(Ie,We,Ze)=>{let et=We.length===0;return ee.forEach(Xe=>{Xe({props:x,root:Fe,actions:We,timestamp:Ie,shouldOptimize:Ze})===!1&&(et=!1)}),J.forEach(Xe=>{Xe.write(Ie)===!1&&(et=!1)}),Y.filter(Xe=>!!Xe.element.parentNode).forEach(Xe=>{Xe._write(Ie,g(Xe,We),Ze)||(et=!1)}),Y.forEach((Xe,Ce)=>{Xe.element.parentNode||(Fe.appendChild(Xe.element,Ce),Xe._read(),Xe._write(Ie,g(Xe,We),Ze),et=!1)}),H=et,T({props:x,root:Fe,actions:We,timestamp:Ie}),et},C=()=>{J.forEach(Ie=>Ie.destroy()),X.forEach(Ie=>{Ie({root:Fe,props:x})}),Y.forEach(Ie=>Ie._destroy())},te={element:{get:ae},style:{get:K},childViews:{get:de}},ue={...te,rect:{get:xe},ref:{get:me},is:Ie=>e===Ie,appendChild:Mc(D),createChildView:re(P),linkView:Ie=>(Y.push(Ie),Ie),unlinkView:Ie=>{Y.splice(Y.indexOf(Ie),1)},appendChildView:Nc(D,Y),removeChildView:Fc(D,Y),registerWriter:Ie=>ee.push(Ie),registerReader:Ie=>W.push(Ie),registerDestroyer:Ie=>X.push(Ie),invalidateLayout:()=>D.layoutCalculated=!1,dispatch:P.dispatch,query:P.query},he={element:{get:ae},childViews:{get:de},rect:{get:xe},resting:{get:()=>H},isRectIgnored:()=>b,_read:le,_write:F,_destroy:C},ke={...te,rect:{get:()=>z}};Object.keys(N).sort((Ie,We)=>Ie==="styles"?1:We==="styles"?-1:0).forEach(Ie=>{const We=eu[Ie]({mixinConfig:N[Ie],viewProps:x,viewState:fe,viewInternalAPI:ue,viewExternalAPI:he,view:ii(ke)});We&&J.push(We)});const Fe=ii(ue);u({root:Fe,props:x});const pt=Bc(D);return Y.forEach((Ie,We)=>{Fe.appendChild(Ie.element,pt+We)}),m(Fe),ii(he)},tu=(t,e,n=60)=>{const i="__framePainter";if(window[i]){window[i].readers.push(t),window[i].writers.push(e);return}window[i]={readers:[t],writers:[e]};const o=window[i],u=1e3/n;let d=null,g=null,m=null,T=null;const b=()=>{document.hidden?(m=()=>window.setTimeout(()=>A(performance.now()),u),T=()=>window.clearTimeout(g)):(m=()=>window.requestAnimationFrame(A),T=()=>window.cancelAnimationFrame(g))};document.addEventListener("visibilitychange",()=>{T&&T(),b(),A(performance.now())});const A=N=>{g=m(A),d||(d=N);const P=N-d;P<=u||(d=N-P%u,o.readers.forEach(x=>x()),o.writers.forEach(x=>x(N)))};return b(),A(performance.now()),{pause:()=>{T(g)}}},Lt=(t,e)=>({root:n,props:i,actions:o=[],timestamp:u,shouldOptimize:d})=>{o.filter(g=>t[g.type]).forEach(g=>t[g.type]({root:n,props:i,action:g.data,timestamp:u,shouldOptimize:d})),e&&e({root:n,props:i,actions:o,timestamp:u,shouldOptimize:d})},ya=(t,e)=>e.parentNode.insertBefore(t,e),_a=(t,e)=>e.parentNode.insertBefore(t,e.nextSibling),$r=t=>Array.isArray(t),Wn=t=>t==null,nu=t=>t.trim(),Br=t=>""+t,iu=(t,e=",")=>Wn(t)?[]:$r(t)?t:Br(t).split(e).map(nu).filter(n=>n.length),pl=t=>typeof t=="boolean",gl=t=>pl(t)?t:t==="true",Dt=t=>typeof t=="string",ml=t=>Ti(t)?t:Dt(t)?Br(t).replace(/[a-z]+/gi,""):0,Ar=t=>parseInt(ml(t),10),Ea=t=>parseFloat(ml(t)),os=t=>Ti(t)&&isFinite(t)&&Math.floor(t)===t,va=(t,e=1e3)=>{if(os(t))return t;let n=Br(t).trim();return/MB$/i.test(n)?(n=n.replace(/MB$i/,"").trim(),Ar(n)*e*e):/KB/i.test(n)?(n=n.replace(/KB$i/,"").trim(),Ar(n)*e):Ar(n)},wi=t=>typeof t=="function",su=t=>{let e=self,n=t.split("."),i=null;for(;i=n.shift();)if(e=e[i],!e)return null;return e},ba={process:"POST",patch:"PATCH",revert:"DELETE",fetch:"GET",restore:"GET",load:"GET"},ru=t=>{const e={};return e.url=Dt(t)?t:t.url||"",e.timeout=t.timeout?parseInt(t.timeout,10):0,e.headers=t.headers?t.headers:{},Je(ba,n=>{e[n]=ou(n,t[n],ba[n],e.timeout,e.headers)}),e.process=t.process||Dt(t)||t.url?e.process:null,e.remove=t.remove||null,delete e.headers,e},ou=(t,e,n,i,o)=>{if(e===null)return null;if(typeof e=="function")return e;const u={url:n==="GET"||n==="PATCH"?`?${t}=`:"",method:n,headers:o,withCredentials:!1,timeout:i,onload:null,ondata:null,onerror:null};if(Dt(e))return u.url=e,u;if(Object.assign(u,e),Dt(u.headers)){const d=u.headers.split(/:(.+)/);u.headers={header:d[0],value:d[1]}}return u.withCredentials=gl(u.withCredentials),u},au=t=>ru(t),lu=t=>t===null,ht=t=>typeof t=="object"&&t!==null,cu=t=>ht(t)&&Dt(t.url)&&ht(t.process)&&ht(t.revert)&&ht(t.restore)&&ht(t.fetch),vo=t=>$r(t)?"array":lu(t)?"null":os(t)?"int":/^[0-9]+ ?(?:GB|MB|KB)$/gi.test(t)?"bytes":cu(t)?"api":typeof t,uu=t=>t.replace(/{\s*'/g,'{"').replace(/'\s*}/g,'"}').replace(/'\s*:/g,'":').replace(/:\s*'/g,':"').replace(/,\s*'/g,',"').replace(/'\s*,/g,'",'),du={array:iu,boolean:gl,int:t=>vo(t)==="bytes"?va(t):Ar(t),number:Ea,float:Ea,bytes:va,string:t=>wi(t)?t:Br(t),function:t=>su(t),serverapi:au,object:t=>{try{return JSON.parse(uu(t))}catch{return null}}},fu=(t,e)=>du[e](t),yl=(t,e,n)=>{if(t===e)return t;let i=vo(t);if(i!==n){const o=fu(t,n);if(i=vo(o),o===null)throw`Trying to assign value with incorrect type to "${option}", allowed type: "${n}"`;t=o}return t},hu=(t,e)=>{let n=t;return{enumerable:!0,get:()=>n,set:i=>{n=yl(i,t,e)}}},pu=t=>{const e={};return Je(t,n=>{const i=t[n];e[n]=hu(i[0],i[1])}),ii(e)},gu=t=>({items:[],listUpdateTimeout:null,itemUpdateTimeout:null,processingQueue:[],options:pu(t)}),Gr=(t,e="-")=>t.split(/(?=[A-Z])/).map(n=>n.toLowerCase()).join(e),mu=(t,e)=>{const n={};return Je(e,i=>{n[i]={get:()=>t.getState().options[i],set:o=>{t.dispatch(`SET_${Gr(i,"_").toUpperCase()}`,{value:o})}}}),n},yu=t=>(e,n,i)=>{const o={};return Je(t,u=>{const d=Gr(u,"_").toUpperCase();o[`SET_${d}`]=g=>{try{i.options[u]=g.value}catch{}e(`DID_SET_${d}`,{value:i.options[u]})}}),o},_u=t=>e=>{const n={};return Je(t,i=>{n[`GET_${Gr(i,"_").toUpperCase()}`]=o=>e.options[i]}),n},en={API:1,DROP:2,BROWSE:3,PASTE:4,NONE:5},ko=()=>Math.random().toString(36).substring(2,11),$o=(t,e)=>t.splice(e,1),Eu=(t,e)=>{e?t():document.hidden?Promise.resolve(1).then(t):setTimeout(t,0)},Hr=()=>{const t=[],e=(i,o)=>{$o(t,t.findIndex(u=>u.event===i&&(u.cb===o||!o)))},n=(i,o,u)=>{t.filter(d=>d.event===i).map(d=>d.cb).forEach(d=>Eu(()=>d(...o),u))};return{fireSync:(i,...o)=>{n(i,o,!0)},fire:(i,...o)=>{n(i,o,!1)},on:(i,o)=>{t.push({event:i,cb:o})},onOnce:(i,o)=>{t.push({event:i,cb:(...u)=>{e(i,o),o(...u)}})},off:e}},_l=(t,e,n)=>{Object.getOwnPropertyNames(t).filter(i=>!n.includes(i)).forEach(i=>Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(t,i)))},vu=["fire","process","revert","load","on","off","onOnce","retryLoad","extend","archive","archived","release","released","requestProcessing","freeze"],Ft=t=>{const e={};return _l(t,e,vu),e},bu=t=>{t.forEach((e,n)=>{e.released&&$o(t,n)})},Oe={INIT:1,IDLE:2,PROCESSING_QUEUED:9,PROCESSING:3,PROCESSING_COMPLETE:5,PROCESSING_ERROR:6,PROCESSING_REVERT_ERROR:10,LOADING:7,LOAD_ERROR:8},lt={INPUT:1,LIMBO:2,LOCAL:3},El=t=>/[^0-9]+/.exec(t),vl=()=>El(1.1 .toLocaleString())[0],Tu=()=>{const t=vl(),e=1e3 .toLocaleString(),n=1e3 .toString();return e!==n?El(e)[0]:t==="."?",":"."},ne={BOOLEAN:"boolean",INT:"int",NUMBER:"number",STRING:"string",ARRAY:"array",OBJECT:"object",FUNCTION:"function",ACTION:"action",SERVER_API:"serverapi",REGEX:"regex"},Bo=[],gn=(t,e,n)=>new Promise((i,o)=>{const u=Bo.filter(g=>g.key===t).map(g=>g.cb);if(u.length===0){i(e);return}const d=u.shift();u.reduce((g,m)=>g.then(T=>m(T,n)),d(e,n)).then(g=>i(g)).catch(g=>o(g))}),Oi=(t,e,n)=>Bo.filter(i=>i.key===t).map(i=>i.cb(e,n)),wu=(t,e)=>Bo.push({key:t,cb:e}),Iu=t=>Object.assign(Ki,t),Nr=()=>({...Ki}),xu=t=>{Je(t,(e,n)=>{Ki[e]&&(Ki[e][0]=yl(n,Ki[e][0],Ki[e][1]))})},Ki={id:[null,ne.STRING],name:["filepond",ne.STRING],disabled:[!1,ne.BOOLEAN],className:[null,ne.STRING],required:[!1,ne.BOOLEAN],captureMethod:[null,ne.STRING],allowSyncAcceptAttribute:[!0,ne.BOOLEAN],allowDrop:[!0,ne.BOOLEAN],allowBrowse:[!0,ne.BOOLEAN],allowPaste:[!0,ne.BOOLEAN],allowMultiple:[!1,ne.BOOLEAN],allowReplace:[!0,ne.BOOLEAN],allowRevert:[!0,ne.BOOLEAN],allowRemove:[!0,ne.BOOLEAN],allowProcess:[!0,ne.BOOLEAN],allowReorder:[!1,ne.BOOLEAN],allowDirectoriesOnly:[!1,ne.BOOLEAN],storeAsFile:[!1,ne.BOOLEAN],forceRevert:[!1,ne.BOOLEAN],maxFiles:[null,ne.INT],checkValidity:[!1,ne.BOOLEAN],itemInsertLocationFreedom:[!0,ne.BOOLEAN],itemInsertLocation:["before",ne.STRING],itemInsertInterval:[75,ne.INT],dropOnPage:[!1,ne.BOOLEAN],dropOnElement:[!0,ne.BOOLEAN],dropValidation:[!1,ne.BOOLEAN],ignoredFiles:[[".ds_store","thumbs.db","desktop.ini"],ne.ARRAY],instantUpload:[!0,ne.BOOLEAN],maxParallelUploads:[2,ne.INT],allowMinimumUploadDuration:[!0,ne.BOOLEAN],chunkUploads:[!1,ne.BOOLEAN],chunkForce:[!1,ne.BOOLEAN],chunkSize:[5e6,ne.INT],chunkRetryDelays:[[500,1e3,3e3],ne.ARRAY],server:[null,ne.SERVER_API],fileSizeBase:[1e3,ne.INT],labelFileSizeBytes:["bytes",ne.STRING],labelFileSizeKilobytes:["KB",ne.STRING],labelFileSizeMegabytes:["MB",ne.STRING],labelFileSizeGigabytes:["GB",ne.STRING],labelDecimalSeparator:[vl(),ne.STRING],labelThousandsSeparator:[Tu(),ne.STRING],labelIdle:['Drag & Drop your files or <span class="filepond--label-action">Browse</span>',ne.STRING],labelInvalidField:["Field contains invalid files",ne.STRING],labelFileWaitingForSize:["Waiting for size",ne.STRING],labelFileSizeNotAvailable:["Size not available",ne.STRING],labelFileCountSingular:["file in list",ne.STRING],labelFileCountPlural:["files in list",ne.STRING],labelFileLoading:["Loading",ne.STRING],labelFileAdded:["Added",ne.STRING],labelFileLoadError:["Error during load",ne.STRING],labelFileRemoved:["Removed",ne.STRING],labelFileRemoveError:["Error during remove",ne.STRING],labelFileProcessing:["Uploading",ne.STRING],labelFileProcessingComplete:["Upload complete",ne.STRING],labelFileProcessingAborted:["Upload cancelled",ne.STRING],labelFileProcessingError:["Error during upload",ne.STRING],labelFileProcessingRevertError:["Error during revert",ne.STRING],labelTapToCancel:["tap to cancel",ne.STRING],labelTapToRetry:["tap to retry",ne.STRING],labelTapToUndo:["tap to undo",ne.STRING],labelButtonRemoveItem:["Remove",ne.STRING],labelButtonAbortItemLoad:["Abort",ne.STRING],labelButtonRetryItemLoad:["Retry",ne.STRING],labelButtonAbortItemProcessing:["Cancel",ne.STRING],labelButtonUndoItemProcessing:["Undo",ne.STRING],labelButtonRetryItemProcessing:["Retry",ne.STRING],labelButtonProcessItem:["Upload",ne.STRING],iconRemove:['<svg width="26" height="26" viewBox="0 0 26 26" xmlns="http://www.w3.org/2000/svg"><path d="M11.586 13l-2.293 2.293a1 1 0 0 0 1.414 1.414L13 14.414l2.293 2.293a1 1 0 0 0 1.414-1.414L14.414 13l2.293-2.293a1 1 0 0 0-1.414-1.414L13 11.586l-2.293-2.293a1 1 0 0 0-1.414 1.414L11.586 13z" fill="currentColor" fill-rule="nonzero"/></svg>',ne.STRING],iconProcess:['<svg width="26" height="26" viewBox="0 0 26 26" xmlns="http://www.w3.org/2000/svg"><path d="M14 10.414v3.585a1 1 0 0 1-2 0v-3.585l-1.293 1.293a1 1 0 0 1-1.414-1.415l3-3a1 1 0 0 1 1.414 0l3 3a1 1 0 0 1-1.414 1.415L14 10.414zM9 18a1 1 0 0 1 0-2h8a1 1 0 0 1 0 2H9z" fill="currentColor" fill-rule="evenodd"/></svg>',ne.STRING],iconRetry:['<svg width="26" height="26" viewBox="0 0 26 26" xmlns="http://www.w3.org/2000/svg"><path d="M10.81 9.185l-.038.02A4.997 4.997 0 0 0 8 13.683a5 5 0 0 0 5 5 5 5 0 0 0 5-5 1 1 0 0 1 2 0A7 7 0 1 1 9.722 7.496l-.842-.21a.999.999 0 1 1 .484-1.94l3.23.806c.535.133.86.675.73 1.21l-.804 3.233a.997.997 0 0 1-1.21.73.997.997 0 0 1-.73-1.21l.23-.928v-.002z" fill="currentColor" fill-rule="nonzero"/></svg>',ne.STRING],iconUndo:['<svg width="26" height="26" viewBox="0 0 26 26" xmlns="http://www.w3.org/2000/svg"><path d="M9.185 10.81l.02-.038A4.997 4.997 0 0 1 13.683 8a5 5 0 0 1 5 5 5 5 0 0 1-5 5 1 1 0 0 0 0 2A7 7 0 1 0 7.496 9.722l-.21-.842a.999.999 0 1 0-1.94.484l.806 3.23c.133.535.675.86 1.21.73l3.233-.803a.997.997 0 0 0 .73-1.21.997.997 0 0 0-1.21-.73l-.928.23-.002-.001z" fill="currentColor" fill-rule="nonzero"/></svg>',ne.STRING],iconDone:['<svg width="26" height="26" viewBox="0 0 26 26" xmlns="http://www.w3.org/2000/svg"><path d="M18.293 9.293a1 1 0 0 1 1.414 1.414l-7.002 7a1 1 0 0 1-1.414 0l-3.998-4a1 1 0 1 1 1.414-1.414L12 15.586l6.294-6.293z" fill="currentColor" fill-rule="nonzero"/></svg>',ne.STRING],oninit:[null,ne.FUNCTION],onwarning:[null,ne.FUNCTION],onerror:[null,ne.FUNCTION],onactivatefile:[null,ne.FUNCTION],oninitfile:[null,ne.FUNCTION],onaddfilestart:[null,ne.FUNCTION],onaddfileprogress:[null,ne.FUNCTION],onaddfile:[null,ne.FUNCTION],onprocessfilestart:[null,ne.FUNCTION],onprocessfileprogress:[null,ne.FUNCTION],onprocessfileabort:[null,ne.FUNCTION],onprocessfilerevert:[null,ne.FUNCTION],onprocessfile:[null,ne.FUNCTION],onprocessfiles:[null,ne.FUNCTION],onremovefile:[null,ne.FUNCTION],onpreparefile:[null,ne.FUNCTION],onupdatefiles:[null,ne.FUNCTION],onreorderfiles:[null,ne.FUNCTION],beforeDropFile:[null,ne.FUNCTION],beforeAddFile:[null,ne.FUNCTION],beforeRemoveFile:[null,ne.FUNCTION],beforePrepareFile:[null,ne.FUNCTION],stylePanelLayout:[null,ne.STRING],stylePanelAspectRatio:[null,ne.STRING],styleItemPanelAspectRatio:[null,ne.STRING],styleButtonRemoveItemPosition:["left",ne.STRING],styleButtonProcessItemPosition:["right",ne.STRING],styleLoadIndicatorPosition:["right",ne.STRING],styleProgressIndicatorPosition:["right",ne.STRING],styleButtonRemoveItemAlign:[!1,ne.BOOLEAN],files:[[],ne.ARRAY],credits:[["https://pqina.nl/","Powered by PQINA"],ne.ARRAY]},Ii=(t,e)=>Wn(e)?t[0]||null:os(e)?t[e]||null:(typeof e=="object"&&(e=e.id),t.find(n=>n.id===e)||null),bl=t=>{if(Wn(t))return t;if(/:/.test(t)){const e=t.split(":");return e[1]/e[0]}return parseFloat(t)},mn=t=>t.filter(e=>!e.archived),Tl={EMPTY:0,IDLE:1,ERROR:2,BUSY:3,READY:4};let vr=null;const Su=()=>{if(vr===null)try{const t=new DataTransfer;t.items.add(new File(["hello world"],"This_Works.txt"));const e=document.createElement("input");e.setAttribute("type","file"),e.files=t.files,vr=e.files.length===1}catch{vr=!1}return vr},Cu=[Oe.LOAD_ERROR,Oe.PROCESSING_ERROR,Oe.PROCESSING_REVERT_ERROR],Au=[Oe.LOADING,Oe.PROCESSING,Oe.PROCESSING_QUEUED,Oe.INIT],Ou=[Oe.PROCESSING_COMPLETE],Ru=t=>Cu.includes(t.status),Du=t=>Au.includes(t.status),Lu=t=>Ou.includes(t.status),Ta=t=>ht(t.options.server)&&(ht(t.options.server.process)||wi(t.options.server.process)),Pu=t=>({GET_STATUS:()=>{const e=mn(t.items),{EMPTY:n,ERROR:i,BUSY:o,IDLE:u,READY:d}=Tl;return e.length===0?n:e.some(Ru)?i:e.some(Du)?o:e.some(Lu)?d:u},GET_ITEM:e=>Ii(t.items,e),GET_ACTIVE_ITEM:e=>Ii(mn(t.items),e),GET_ACTIVE_ITEMS:()=>mn(t.items),GET_ITEMS:()=>t.items,GET_ITEM_NAME:e=>{const n=Ii(t.items,e);return n?n.filename:null},GET_ITEM_SIZE:e=>{const n=Ii(t.items,e);return n?n.fileSize:null},GET_STYLES:()=>Object.keys(t.options).filter(e=>/^style/.test(e)).map(e=>({name:e,value:t.options[e]})),GET_PANEL_ASPECT_RATIO:()=>/circle/.test(t.options.stylePanelLayout)?1:bl(t.options.stylePanelAspectRatio),GET_ITEM_PANEL_ASPECT_RATIO:()=>t.options.styleItemPanelAspectRatio,GET_ITEMS_BY_STATUS:e=>mn(t.items).filter(n=>n.status===e),GET_TOTAL_ITEMS:()=>mn(t.items).length,SHOULD_UPDATE_FILE_INPUT:()=>t.options.storeAsFile&&Su()&&!Ta(t),IS_ASYNC:()=>Ta(t),GET_FILE_SIZE_LABELS:e=>({labelBytes:e("GET_LABEL_FILE_SIZE_BYTES")||void 0,labelKilobytes:e("GET_LABEL_FILE_SIZE_KILOBYTES")||void 0,labelMegabytes:e("GET_LABEL_FILE_SIZE_MEGABYTES")||void 0,labelGigabytes:e("GET_LABEL_FILE_SIZE_GIGABYTES")||void 0})}),Mu=t=>{const e=mn(t.items).length;if(!t.options.allowMultiple)return e===0;const n=t.options.maxFiles;return n===null||e<n},wl=(t,e,n)=>Math.max(Math.min(n,t),e),Nu=(t,e,n)=>t.splice(e,0,n),Fu=(t,e,n)=>Wn(e)?null:typeof n>"u"?(t.push(e),e):(n=wl(n,0,t.length),Nu(t,n,e),e),bo=t=>/^\s*data:([a-z]+\/[a-z0-9-+.]+(;[a-z-]+=[a-z0-9-]+)?)?(;base64)?,([a-z0-9!$&',()*+;=\-._~:@\/?%\s]*)\s*$/i.test(t),ks=t=>`${t}`.split("/").pop().split("?").shift(),Ur=t=>t.split(".").pop(),ku=t=>{if(typeof t!="string")return"";const e=t.split("/").pop();return/svg/.test(e)?"svg":/zip|compressed/.test(e)?"zip":/plain/.test(e)?"txt":/msword/.test(e)?"doc":/[a-z]+/.test(e)?e==="jpeg"?"jpg":e:""},Ds=(t,e="")=>(e+t).slice(-e.length),Il=(t=new Date)=>`${t.getFullYear()}-${Ds(t.getMonth()+1,"00")}-${Ds(t.getDate(),"00")}_${Ds(t.getHours(),"00")}-${Ds(t.getMinutes(),"00")}-${Ds(t.getSeconds(),"00")}`,rs=(t,e,n=null,i=null)=>{const o=typeof n=="string"?t.slice(0,t.size,n):t.slice(0,t.size,t.type);return o.lastModifiedDate=new Date,t._relativePath&&(o._relativePath=t._relativePath),Dt(e)||(e=Il()),e&&i===null&&Ur(e)?o.name=e:(i=i||ku(o.type),o.name=e+(i?"."+i:"")),o},$u=()=>window.BlobBuilder=window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder||window.MSBlobBuilder,xl=(t,e)=>{const n=$u();if(n){const i=new n;return i.append(t),i.getBlob(e)}return new Blob([t],{type:e})},Bu=(t,e)=>{const n=new ArrayBuffer(t.length),i=new Uint8Array(n);for(let o=0;o<t.length;o++)i[o]=t.charCodeAt(o);return xl(n,e)},Sl=t=>(/^data:(.+);/.exec(t)||[])[1]||null,Gu=t=>t.split(",")[1].replace(/\s/g,""),Hu=t=>atob(Gu(t)),Uu=t=>{const e=Sl(t),n=Hu(t);return Bu(n,e)},zu=(t,e,n)=>rs(Uu(t),e,null,n),Vu=t=>{if(!/^content-disposition:/i.test(t))return null;const e=t.split(/filename=|filename\*=.+''/).splice(1).map(n=>n.trim().replace(/^["']|[;"']{0,2}$/g,"")).filter(n=>n.length);return e.length?decodeURI(e[e.length-1]):null},qu=t=>{if(/content-length:/i.test(t)){const e=t.match(/[0-9]+/)[0];return e?parseInt(e,10):null}return null},Wu=t=>/x-content-transfer-id:/i.test(t)&&(t.split(":")[1]||"").trim()||null,Go=t=>{const e={source:null,name:null,size:null},n=t.split(`
`);for(let i of n){const o=Vu(i);if(o){e.name=o;continue}const u=qu(i);if(u){e.size=u;continue}const d=Wu(i);if(d){e.source=d;continue}}return e},ju=t=>{const e={source:null,complete:!1,progress:0,size:null,timestamp:null,duration:0,request:null},n=()=>e.progress,i=()=>{e.request&&e.request.abort&&e.request.abort()},o=()=>{const g=e.source;d.fire("init",g),g instanceof File?d.fire("load",g):g instanceof Blob?d.fire("load",rs(g,g.name)):bo(g)?d.fire("load",zu(g)):u(g)},u=g=>{if(!t){d.fire("error",{type:"error",body:"Can't load URL",code:400});return}e.timestamp=Date.now(),e.request=t(g,m=>{e.duration=Date.now()-e.timestamp,e.complete=!0,m instanceof Blob&&(m=rs(m,m.name||ks(g))),d.fire("load",m instanceof Blob?m:m?m.body:null)},m=>{d.fire("error",typeof m=="string"?{type:"error",code:0,body:m}:m)},(m,T,b)=>{if(b&&(e.size=b),e.duration=Date.now()-e.timestamp,!m){e.progress=null;return}e.progress=T/b,d.fire("progress",e.progress)},()=>{d.fire("abort")},m=>{const T=Go(typeof m=="string"?m:m.headers);d.fire("meta",{size:e.size||T.size,filename:T.name,source:T.source})})},d={...Hr(),setSource:g=>e.source=g,getProgress:n,abort:i,load:o};return d},wa=t=>/GET|HEAD/.test(t),xi=(t,e,n)=>{const i={onheaders:()=>{},onprogress:()=>{},onload:()=>{},ontimeout:()=>{},onerror:()=>{},onabort:()=>{},abort:()=>{o=!0,d.abort()}};let o=!1,u=!1;n={method:"POST",headers:{},withCredentials:!1,...n},e=encodeURI(e),wa(n.method)&&t&&(e=`${e}${encodeURIComponent(typeof t=="string"?t:JSON.stringify(t))}`);const d=new XMLHttpRequest,g=wa(n.method)?d:d.upload;return g.onprogress=m=>{o||i.onprogress(m.lengthComputable,m.loaded,m.total)},d.onreadystatechange=()=>{d.readyState<2||d.readyState===4&&d.status===0||u||(u=!0,i.onheaders(d))},d.onload=()=>{d.status>=200&&d.status<300?i.onload(d):i.onerror(d)},d.onerror=()=>i.onerror(d),d.onabort=()=>{o=!0,i.onabort()},d.ontimeout=()=>i.ontimeout(d),d.open(n.method,e,!0),os(n.timeout)&&(d.timeout=n.timeout),Object.keys(n.headers).forEach(m=>{const T=unescape(encodeURIComponent(n.headers[m]));d.setRequestHeader(m,T)}),n.responseType&&(d.responseType=n.responseType),n.withCredentials&&(d.withCredentials=!0),d.send(t),i},it=(t,e,n,i)=>({type:t,code:e,body:n,headers:i}),Si=t=>e=>{t(it("error",0,"Timeout",e.getAllResponseHeaders()))},Ia=t=>/\?/.test(t),Ms=(...t)=>{let e="";return t.forEach(n=>{e+=Ia(e)&&Ia(n)?n.replace(/\?/,"&"):n}),e},uo=(t="",e)=>{if(typeof e=="function")return e;if(!e||!Dt(e.url))return null;const n=e.onload||(o=>o),i=e.onerror||(o=>null);return(o,u,d,g,m,T)=>{const b=xi(o,Ms(t,e.url),{...e,responseType:"blob"});return b.onload=A=>{const N=A.getAllResponseHeaders(),P=Go(N).name||ks(o);u(it("load",A.status,e.method==="HEAD"?null:rs(n(A.response),P),N))},b.onerror=A=>{d(it("error",A.status,i(A.response)||A.statusText,A.getAllResponseHeaders()))},b.onheaders=A=>{T(it("headers",A.status,null,A.getAllResponseHeaders()))},b.ontimeout=Si(d),b.onprogress=g,b.onabort=m,b}},Qt={QUEUED:0,COMPLETE:1,PROCESSING:2,ERROR:3,WAITING:4},Yu=(t,e,n,i,o,u,d,g,m,T,b)=>{const A=[],{chunkTransferId:N,chunkServer:P,chunkSize:x,chunkRetryDelays:D}=b,k={serverId:N,aborted:!1},z=e.ondata||(re=>re),B=e.onload||((re,xe)=>xe==="HEAD"?re.getResponseHeader("Upload-Offset"):re.response),H=e.onerror||(re=>null),Y=re=>{const xe=new FormData;ht(o)&&xe.append(n,JSON.stringify(o));const K=typeof e.headers=="function"?e.headers(i,o):{...e.headers,"Upload-Length":i.size},le={...e,headers:K},F=xi(z(xe),Ms(t,e.url),le);F.onload=C=>re(B(C,le.method)),F.onerror=C=>d(it("error",C.status,H(C.response)||C.statusText,C.getAllResponseHeaders())),F.ontimeout=Si(d)},J=re=>{const xe=Ms(t,P.url,k.serverId),le={headers:typeof e.headers=="function"?e.headers(k.serverId):{...e.headers},method:"HEAD"},F=xi(null,xe,le);F.onload=C=>re(B(C,le.method)),F.onerror=C=>d(it("error",C.status,H(C.response)||C.statusText,C.getAllResponseHeaders())),F.ontimeout=Si(d)},f=Math.floor(i.size/x);for(let re=0;re<=f;re++){const xe=re*x,K=i.slice(xe,xe+x,"application/offset+octet-stream");A[re]={index:re,size:K.size,offset:xe,data:K,file:i,progress:0,retries:[...D],status:Qt.QUEUED,error:null,request:null,timeout:null}}const fe=()=>u(k.serverId),ee=re=>re.status===Qt.QUEUED||re.status===Qt.ERROR,W=re=>{if(k.aborted)return;if(re=re||A.find(ee),!re){A.every(te=>te.status===Qt.COMPLETE)&&fe();return}re.status=Qt.PROCESSING,re.progress=null;const xe=P.ondata||(te=>te),K=P.onerror||(te=>null),le=Ms(t,P.url,k.serverId),F=typeof P.headers=="function"?P.headers(re):{...P.headers,"Content-Type":"application/offset+octet-stream","Upload-Offset":re.offset,"Upload-Length":i.size,"Upload-Name":i.name},C=re.request=xi(xe(re.data),le,{...P,headers:F});C.onload=()=>{re.status=Qt.COMPLETE,re.request=null,de()},C.onprogress=(te,ue,he)=>{re.progress=te?ue:null,ae()},C.onerror=te=>{re.status=Qt.ERROR,re.request=null,re.error=K(te.response)||te.statusText,X(re)||d(it("error",te.status,K(te.response)||te.statusText,te.getAllResponseHeaders()))},C.ontimeout=te=>{re.status=Qt.ERROR,re.request=null,X(re)||Si(d)(te)},C.onabort=()=>{re.status=Qt.QUEUED,re.request=null,m()}},X=re=>re.retries.length===0?!1:(re.status=Qt.WAITING,clearTimeout(re.timeout),re.timeout=setTimeout(()=>{W(re)},re.retries.shift()),!0),ae=()=>{const re=A.reduce((K,le)=>K===null||le.progress===null?null:K+le.progress,0);if(re===null)return g(!1,0,0);const xe=A.reduce((K,le)=>K+le.size,0);g(!0,re,xe)},de=()=>{A.filter(xe=>xe.status===Qt.PROCESSING).length>=1||W()},me=()=>{A.forEach(re=>{clearTimeout(re.timeout),re.request&&re.request.abort()})};return k.serverId?J(re=>{k.aborted||(A.filter(xe=>xe.offset<re).forEach(xe=>{xe.status=Qt.COMPLETE,xe.progress=xe.size}),de())}):Y(re=>{k.aborted||(T(re),k.serverId=re,de())}),{abort:()=>{k.aborted=!0,me()}}},Xu=(t,e,n,i)=>(o,u,d,g,m,T,b)=>{if(!o)return;const A=i.chunkUploads,N=A&&o.size>i.chunkSize,P=A&&(N||i.chunkForce);if(o instanceof Blob&&P)return Yu(t,e,n,o,u,d,g,m,T,b,i);const x=e.ondata||(J=>J),D=e.onload||(J=>J),k=e.onerror||(J=>null),z=typeof e.headers=="function"?e.headers(o,u)||{}:{...e.headers},B={...e,headers:z};var H=new FormData;ht(u)&&H.append(n,JSON.stringify(u)),(o instanceof Blob?[{name:null,file:o}]:o).forEach(J=>{H.append(n,J.file,J.name===null?J.file.name:`${J.name}${J.file.name}`)});const Y=xi(x(H),Ms(t,e.url),B);return Y.onload=J=>{d(it("load",J.status,D(J.response),J.getAllResponseHeaders()))},Y.onerror=J=>{g(it("error",J.status,k(J.response)||J.statusText,J.getAllResponseHeaders()))},Y.ontimeout=Si(g),Y.onprogress=m,Y.onabort=T,Y},Zu=(t="",e,n,i)=>typeof e=="function"?(...o)=>e(n,...o,i):!e||!Dt(e.url)?null:Xu(t,e,n,i),Ls=(t="",e)=>{if(typeof e=="function")return e;if(!e||!Dt(e.url))return(o,u)=>u();const n=e.onload||(o=>o),i=e.onerror||(o=>null);return(o,u,d)=>{const g=xi(o,t+e.url,e);return g.onload=m=>{u(it("load",m.status,n(m.response),m.getAllResponseHeaders()))},g.onerror=m=>{d(it("error",m.status,i(m.response)||m.statusText,m.getAllResponseHeaders()))},g.ontimeout=Si(d),g}},Cl=(t=0,e=1)=>t+Math.random()*(e-t),Qu=(t,e=1e3,n=0,i=25,o=250)=>{let u=null;const d=Date.now(),g=()=>{let m=Date.now()-d,T=Cl(i,o);m+T>e&&(T=m+T-e);let b=m/e;if(b>=1||document.hidden){t(1);return}t(b),u=setTimeout(g,T)};return e>0&&g(),{clear:()=>{clearTimeout(u)}}},Ku=(t,e)=>{const n={complete:!1,perceivedProgress:0,perceivedPerformanceUpdater:null,progress:null,timestamp:null,perceivedDuration:0,duration:0,request:null,response:null},{allowMinimumUploadDuration:i}=e,o=(b,A)=>{const N=()=>{n.duration===0||n.progress===null||T.fire("progress",T.getProgress())},P=()=>{n.complete=!0,T.fire("load-perceived",n.response.body)};T.fire("start"),n.timestamp=Date.now(),n.perceivedPerformanceUpdater=Qu(x=>{n.perceivedProgress=x,n.perceivedDuration=Date.now()-n.timestamp,N(),n.response&&n.perceivedProgress===1&&!n.complete&&P()},i?Cl(750,1500):0),n.request=t(b,A,x=>{n.response=ht(x)?x:{type:"load",code:200,body:`${x}`,headers:{}},n.duration=Date.now()-n.timestamp,n.progress=1,T.fire("load",n.response.body),(!i||i&&n.perceivedProgress===1)&&P()},x=>{n.perceivedPerformanceUpdater.clear(),T.fire("error",ht(x)?x:{type:"error",code:0,body:`${x}`})},(x,D,k)=>{n.duration=Date.now()-n.timestamp,n.progress=x?D/k:null,N()},()=>{n.perceivedPerformanceUpdater.clear(),T.fire("abort",n.response?n.response.body:null)},x=>{T.fire("transfer",x)})},u=()=>{n.request&&(n.perceivedPerformanceUpdater.clear(),n.request.abort&&n.request.abort(),n.complete=!0)},d=()=>{u(),n.complete=!1,n.perceivedProgress=0,n.progress=0,n.timestamp=null,n.perceivedDuration=0,n.duration=0,n.request=null,n.response=null},g=i?()=>n.progress?Math.min(n.progress,n.perceivedProgress):null:()=>n.progress||null,m=i?()=>Math.min(n.duration,n.perceivedDuration):()=>n.duration,T={...Hr(),process:o,abort:u,getProgress:g,getDuration:m,reset:d};return T},Al=t=>t.substring(0,t.lastIndexOf("."))||t,Ju=t=>{let e=[t.name,t.size,t.type];return t instanceof Blob||bo(t)?e[0]=t.name||Il():bo(t)?(e[1]=t.length,e[2]=Sl(t)):Dt(t)&&(e[0]=ks(t),e[1]=0,e[2]="application/octet-stream"),{name:e[0],size:e[1],type:e[2]}},Ci=t=>!!(t instanceof File||t instanceof Blob&&t.name),Ol=t=>{if(!ht(t))return t;const e=$r(t)?[]:{};for(const n in t){if(!t.hasOwnProperty(n))continue;const i=t[n];e[n]=i&&ht(i)?Ol(i):i}return e},ed=(t=null,e=null,n=null)=>{const i=ko(),o={archived:!1,frozen:!1,released:!1,source:null,file:n,serverFileReference:e,transferId:null,processingAborted:!1,status:e?Oe.PROCESSING_COMPLETE:Oe.INIT,activeLoader:null,activeProcessor:null};let u=null;const d={},g=ee=>o.status=ee,m=(ee,...W)=>{o.released||o.frozen||f.fire(ee,...W)},T=()=>Ur(o.file.name),b=()=>o.file.type,A=()=>o.file.size,N=()=>o.file,P=(ee,W,X)=>{if(o.source=ee,f.fireSync("init"),o.file){f.fireSync("load-skip");return}o.file=Ju(ee),W.on("init",()=>{m("load-init")}),W.on("meta",ae=>{o.file.size=ae.size,o.file.filename=ae.filename,ae.source&&(t=lt.LIMBO,o.serverFileReference=ae.source,o.status=Oe.PROCESSING_COMPLETE),m("load-meta")}),W.on("progress",ae=>{g(Oe.LOADING),m("load-progress",ae)}),W.on("error",ae=>{g(Oe.LOAD_ERROR),m("load-request-error",ae)}),W.on("abort",()=>{g(Oe.INIT),m("load-abort")}),W.on("load",ae=>{o.activeLoader=null;const de=re=>{o.file=Ci(re)?re:o.file,t===lt.LIMBO&&o.serverFileReference?g(Oe.PROCESSING_COMPLETE):g(Oe.IDLE),m("load")},me=re=>{o.file=ae,m("load-meta"),g(Oe.LOAD_ERROR),m("load-file-error",re)};if(o.serverFileReference){de(ae);return}X(ae,de,me)}),W.setSource(ee),o.activeLoader=W,W.load()},x=()=>{o.activeLoader&&o.activeLoader.load()},D=()=>{if(o.activeLoader){o.activeLoader.abort();return}g(Oe.INIT),m("load-abort")},k=(ee,W)=>{if(o.processingAborted){o.processingAborted=!1;return}if(g(Oe.PROCESSING),u=null,!(o.file instanceof Blob)){f.on("load",()=>{k(ee,W)});return}ee.on("load",de=>{o.transferId=null,o.serverFileReference=de}),ee.on("transfer",de=>{o.transferId=de}),ee.on("load-perceived",de=>{o.activeProcessor=null,o.transferId=null,o.serverFileReference=de,g(Oe.PROCESSING_COMPLETE),m("process-complete",de)}),ee.on("start",()=>{m("process-start")}),ee.on("error",de=>{o.activeProcessor=null,g(Oe.PROCESSING_ERROR),m("process-error",de)}),ee.on("abort",de=>{o.activeProcessor=null,o.serverFileReference=de,g(Oe.IDLE),m("process-abort"),u&&u()}),ee.on("progress",de=>{m("process-progress",de)});const X=de=>{o.archived||ee.process(de,{...d})},ae=console.error;W(o.file,X,ae),o.activeProcessor=ee},z=()=>{o.processingAborted=!1,g(Oe.PROCESSING_QUEUED)},B=()=>new Promise(ee=>{if(!o.activeProcessor){o.processingAborted=!0,g(Oe.IDLE),m("process-abort"),ee();return}u=()=>{ee()},o.activeProcessor.abort()}),H=(ee,W)=>new Promise((X,ae)=>{const de=o.serverFileReference!==null?o.serverFileReference:o.transferId;if(de===null){X();return}ee(de,()=>{o.serverFileReference=null,o.transferId=null,X()},me=>{if(!W){X();return}g(Oe.PROCESSING_REVERT_ERROR),m("process-revert-error"),ae(me)}),g(Oe.IDLE),m("process-revert")}),Y=(ee,W,X)=>{const ae=ee.split("."),de=ae[0],me=ae.pop();let re=d;ae.forEach(xe=>re=re[xe]),JSON.stringify(re[me])!==JSON.stringify(W)&&(re[me]=W,m("metadata-update",{key:de,value:d[de],silent:X}))},f={id:{get:()=>i},origin:{get:()=>t,set:ee=>t=ee},serverId:{get:()=>o.serverFileReference},transferId:{get:()=>o.transferId},status:{get:()=>o.status},filename:{get:()=>o.file.name},filenameWithoutExtension:{get:()=>Al(o.file.name)},fileExtension:{get:T},fileType:{get:b},fileSize:{get:A},file:{get:N},relativePath:{get:()=>o.file._relativePath},source:{get:()=>o.source},getMetadata:ee=>Ol(ee?d[ee]:d),setMetadata:(ee,W,X)=>{if(ht(ee)){const ae=ee;return Object.keys(ae).forEach(de=>{Y(de,ae[de],W)}),ee}return Y(ee,W,X),W},extend:(ee,W)=>fe[ee]=W,abortLoad:D,retryLoad:x,requestProcessing:z,abortProcessing:B,load:P,process:k,revert:H,...Hr(),freeze:()=>o.frozen=!0,release:()=>o.released=!0,released:{get:()=>o.released},archive:()=>o.archived=!0,archived:{get:()=>o.archived},setFile:ee=>o.file=ee},fe=ii(f);return fe},td=(t,e)=>Wn(e)?0:Dt(e)?t.findIndex(n=>n.id===e):-1,xa=(t,e)=>{const n=td(t,e);if(!(n<0))return t[n]||null},Sa=(t,e,n,i,o,u)=>{const d=xi(null,t,{method:"GET",responseType:"blob"});return d.onload=g=>{const m=g.getAllResponseHeaders(),T=Go(m).name||ks(t);e(it("load",g.status,rs(g.response,T),m))},d.onerror=g=>{n(it("error",g.status,g.statusText,g.getAllResponseHeaders()))},d.onheaders=g=>{u(it("headers",g.status,null,g.getAllResponseHeaders()))},d.ontimeout=Si(n),d.onprogress=i,d.onabort=o,d},Ca=t=>(t.indexOf("//")===0&&(t=location.protocol+t),t.toLowerCase().replace("blob:","").replace(/([a-z])?:\/\//,"$1").split("/")[0]),nd=t=>(t.indexOf(":")>-1||t.indexOf("//")>-1)&&Ca(location.href)!==Ca(t),br=t=>(...e)=>wi(t)?t(...e):t,id=t=>!Ci(t.file),fo=(t,e)=>{clearTimeout(e.listUpdateTimeout),e.listUpdateTimeout=setTimeout(()=>{t("DID_UPDATE_ITEMS",{items:mn(e.items)})},0)},Aa=(t,...e)=>new Promise(n=>{if(!t)return n(!0);const i=t(...e);if(i==null)return n(!0);if(typeof i=="boolean")return n(i);typeof i.then=="function"&&i.then(n)}),ho=(t,e)=>{t.items.sort((n,i)=>e(Ft(n),Ft(i)))},Kt=(t,e)=>({query:n,success:i=()=>{},failure:o=()=>{},...u}={})=>{const d=Ii(t.items,n);if(!d){o({error:it("error",0,"Item not found"),file:null});return}e(d,i,o,u||{})},sd=(t,e,n)=>({ABORT_ALL:()=>{mn(n.items).forEach(i=>{i.freeze(),i.abortLoad(),i.abortProcessing()})},DID_SET_FILES:({value:i=[]})=>{const o=i.map(d=>({source:d.source?d.source:d,options:d.options}));let u=mn(n.items);u.forEach(d=>{o.find(g=>g.source===d.source||g.source===d.file)||t("REMOVE_ITEM",{query:d,remove:!1})}),u=mn(n.items),o.forEach((d,g)=>{u.find(m=>m.source===d.source||m.file===d.source)||t("ADD_ITEM",{...d,interactionMethod:en.NONE,index:g})})},DID_UPDATE_ITEM_METADATA:({id:i,action:o,change:u})=>{u.silent||(clearTimeout(n.itemUpdateTimeout),n.itemUpdateTimeout=setTimeout(()=>{const d=xa(n.items,i);if(!e("IS_ASYNC")){gn("SHOULD_PREPARE_OUTPUT",!1,{item:d,query:e,action:o,change:u}).then(b=>{const A=e("GET_BEFORE_PREPARE_FILE");A&&(b=A(d,b)),b&&t("REQUEST_PREPARE_OUTPUT",{query:i,item:d,success:N=>{t("DID_PREPARE_OUTPUT",{id:i,file:N})}},!0)});return}d.origin===lt.LOCAL&&t("DID_LOAD_ITEM",{id:d.id,error:null,serverFileReference:d.source});const g=()=>{setTimeout(()=>{t("REQUEST_ITEM_PROCESSING",{query:i})},32)},m=b=>{d.revert(Ls(n.options.server.url,n.options.server.revert),e("GET_FORCE_REVERT")).then(b?g:()=>{}).catch(()=>{})},T=b=>{d.abortProcessing().then(b?g:()=>{})};if(d.status===Oe.PROCESSING_COMPLETE)return m(n.options.instantUpload);if(d.status===Oe.PROCESSING)return T(n.options.instantUpload);n.options.instantUpload&&g()},0))},MOVE_ITEM:({query:i,index:o})=>{const u=Ii(n.items,i);if(!u)return;const d=n.items.indexOf(u);o=wl(o,0,n.items.length-1),d!==o&&n.items.splice(o,0,n.items.splice(d,1)[0])},SORT:({compare:i})=>{ho(n,i),t("DID_SORT_ITEMS",{items:e("GET_ACTIVE_ITEMS")})},ADD_ITEMS:({items:i,index:o,interactionMethod:u,success:d=()=>{},failure:g=()=>{}})=>{let m=o;if(o===-1||typeof o>"u"){const P=e("GET_ITEM_INSERT_LOCATION"),x=e("GET_TOTAL_ITEMS");m=P==="before"?0:x}const T=e("GET_IGNORED_FILES"),b=P=>Ci(P)?!T.includes(P.name.toLowerCase()):!Wn(P),N=i.filter(b).map(P=>new Promise((x,D)=>{t("ADD_ITEM",{interactionMethod:u,source:P.source||P,success:x,failure:D,index:m++,options:P.options||{}})}));Promise.all(N).then(d).catch(g)},ADD_ITEM:({source:i,index:o=-1,interactionMethod:u,success:d=()=>{},failure:g=()=>{},options:m={}})=>{if(Wn(i)){g({error:it("error",0,"No source"),file:null});return}if(Ci(i)&&n.options.ignoredFiles.includes(i.name.toLowerCase()))return;if(!Mu(n)){if(n.options.allowMultiple||!n.options.allowMultiple&&!n.options.allowReplace){const B=it("warning",0,"Max files");t("DID_THROW_MAX_FILES",{source:i,error:B}),g({error:B,file:null});return}const z=mn(n.items)[0];if(z.status===Oe.PROCESSING_COMPLETE||z.status===Oe.PROCESSING_REVERT_ERROR){const B=e("GET_FORCE_REVERT");if(z.revert(Ls(n.options.server.url,n.options.server.revert),B).then(()=>{B&&t("ADD_ITEM",{source:i,index:o,interactionMethod:u,success:d,failure:g,options:m})}).catch(()=>{}),B)return}t("REMOVE_ITEM",{query:z.id})}const T=m.type==="local"?lt.LOCAL:m.type==="limbo"?lt.LIMBO:lt.INPUT,b=ed(T,T===lt.INPUT?null:i,m.file);Object.keys(m.metadata||{}).forEach(z=>{b.setMetadata(z,m.metadata[z])}),Oi("DID_CREATE_ITEM",b,{query:e,dispatch:t});const A=e("GET_ITEM_INSERT_LOCATION");n.options.itemInsertLocationFreedom||(o=A==="before"?-1:n.items.length),Fu(n.items,b,o),wi(A)&&i&&ho(n,A);const N=b.id;b.on("init",()=>{t("DID_INIT_ITEM",{id:N})}),b.on("load-init",()=>{t("DID_START_ITEM_LOAD",{id:N})}),b.on("load-meta",()=>{t("DID_UPDATE_ITEM_META",{id:N})}),b.on("load-progress",z=>{t("DID_UPDATE_ITEM_LOAD_PROGRESS",{id:N,progress:z})}),b.on("load-request-error",z=>{const B=br(n.options.labelFileLoadError)(z);if(z.code>=400&&z.code<500){t("DID_THROW_ITEM_INVALID",{id:N,error:z,status:{main:B,sub:`${z.code} (${z.body})`}}),g({error:z,file:Ft(b)});return}t("DID_THROW_ITEM_LOAD_ERROR",{id:N,error:z,status:{main:B,sub:n.options.labelTapToRetry}})}),b.on("load-file-error",z=>{t("DID_THROW_ITEM_INVALID",{id:N,error:z.status,status:z.status}),g({error:z.status,file:Ft(b)})}),b.on("load-abort",()=>{t("REMOVE_ITEM",{query:N})}),b.on("load-skip",()=>{b.on("metadata-update",z=>{Ci(b.file)&&t("DID_UPDATE_ITEM_METADATA",{id:N,change:z})}),t("COMPLETE_LOAD_ITEM",{query:N,item:b,data:{source:i,success:d}})}),b.on("load",()=>{const z=B=>{if(!B){t("REMOVE_ITEM",{query:N});return}b.on("metadata-update",H=>{t("DID_UPDATE_ITEM_METADATA",{id:N,change:H})}),gn("SHOULD_PREPARE_OUTPUT",!1,{item:b,query:e}).then(H=>{const Y=e("GET_BEFORE_PREPARE_FILE");Y&&(H=Y(b,H));const J=()=>{t("COMPLETE_LOAD_ITEM",{query:N,item:b,data:{source:i,success:d}}),fo(t,n)};if(H){t("REQUEST_PREPARE_OUTPUT",{query:N,item:b,success:f=>{t("DID_PREPARE_OUTPUT",{id:N,file:f}),J()}},!0);return}J()})};gn("DID_LOAD_ITEM",b,{query:e,dispatch:t}).then(()=>{Aa(e("GET_BEFORE_ADD_FILE"),Ft(b)).then(z)}).catch(B=>{if(!B||!B.error||!B.status)return z(!1);t("DID_THROW_ITEM_INVALID",{id:N,error:B.error,status:B.status})})}),b.on("process-start",()=>{t("DID_START_ITEM_PROCESSING",{id:N})}),b.on("process-progress",z=>{t("DID_UPDATE_ITEM_PROCESS_PROGRESS",{id:N,progress:z})}),b.on("process-error",z=>{t("DID_THROW_ITEM_PROCESSING_ERROR",{id:N,error:z,status:{main:br(n.options.labelFileProcessingError)(z),sub:n.options.labelTapToRetry}})}),b.on("process-revert-error",z=>{t("DID_THROW_ITEM_PROCESSING_REVERT_ERROR",{id:N,error:z,status:{main:br(n.options.labelFileProcessingRevertError)(z),sub:n.options.labelTapToRetry}})}),b.on("process-complete",z=>{t("DID_COMPLETE_ITEM_PROCESSING",{id:N,error:null,serverFileReference:z}),t("DID_DEFINE_VALUE",{id:N,value:z})}),b.on("process-abort",()=>{t("DID_ABORT_ITEM_PROCESSING",{id:N})}),b.on("process-revert",()=>{t("DID_REVERT_ITEM_PROCESSING",{id:N}),t("DID_DEFINE_VALUE",{id:N,value:null})}),t("DID_ADD_ITEM",{id:N,index:o,interactionMethod:u}),fo(t,n);const{url:P,load:x,restore:D,fetch:k}=n.options.server||{};b.load(i,ju(T===lt.INPUT?Dt(i)&&nd(i)&&k?uo(P,k):Sa:T===lt.LIMBO?uo(P,D):uo(P,x)),(z,B,H)=>{gn("LOAD_FILE",z,{query:e}).then(B).catch(H)})},REQUEST_PREPARE_OUTPUT:({item:i,success:o,failure:u=()=>{}})=>{const d={error:it("error",0,"Item not found"),file:null};if(i.archived)return u(d);gn("PREPARE_OUTPUT",i.file,{query:e,item:i}).then(g=>{gn("COMPLETE_PREPARE_OUTPUT",g,{query:e,item:i}).then(m=>{if(i.archived)return u(d);o(m)})})},COMPLETE_LOAD_ITEM:({item:i,data:o})=>{const{success:u,source:d}=o,g=e("GET_ITEM_INSERT_LOCATION");if(wi(g)&&d&&ho(n,g),t("DID_LOAD_ITEM",{id:i.id,error:null,serverFileReference:i.origin===lt.INPUT?null:d}),u(Ft(i)),i.origin===lt.LOCAL){t("DID_LOAD_LOCAL_ITEM",{id:i.id});return}if(i.origin===lt.LIMBO){t("DID_COMPLETE_ITEM_PROCESSING",{id:i.id,error:null,serverFileReference:d}),t("DID_DEFINE_VALUE",{id:i.id,value:i.serverId||d});return}e("IS_ASYNC")&&n.options.instantUpload&&t("REQUEST_ITEM_PROCESSING",{query:i.id})},RETRY_ITEM_LOAD:Kt(n,i=>{i.retryLoad()}),REQUEST_ITEM_PREPARE:Kt(n,(i,o,u)=>{t("REQUEST_PREPARE_OUTPUT",{query:i.id,item:i,success:d=>{t("DID_PREPARE_OUTPUT",{id:i.id,file:d}),o({file:i,output:d})},failure:u},!0)}),REQUEST_ITEM_PROCESSING:Kt(n,(i,o,u)=>{if(!(i.status===Oe.IDLE||i.status===Oe.PROCESSING_ERROR)){const g=()=>t("REQUEST_ITEM_PROCESSING",{query:i,success:o,failure:u}),m=()=>document.hidden?g():setTimeout(g,32);i.status===Oe.PROCESSING_COMPLETE||i.status===Oe.PROCESSING_REVERT_ERROR?i.revert(Ls(n.options.server.url,n.options.server.revert),e("GET_FORCE_REVERT")).then(m).catch(()=>{}):i.status===Oe.PROCESSING&&i.abortProcessing().then(m);return}i.status!==Oe.PROCESSING_QUEUED&&(i.requestProcessing(),t("DID_REQUEST_ITEM_PROCESSING",{id:i.id}),t("PROCESS_ITEM",{query:i,success:o,failure:u},!0))}),PROCESS_ITEM:Kt(n,(i,o,u)=>{const d=e("GET_MAX_PARALLEL_UPLOADS");if(e("GET_ITEMS_BY_STATUS",Oe.PROCESSING).length===d){n.processingQueue.push({id:i.id,success:o,failure:u});return}if(i.status===Oe.PROCESSING)return;const m=()=>{const b=n.processingQueue.shift();if(!b)return;const{id:A,success:N,failure:P}=b,x=Ii(n.items,A);if(!x||x.archived){m();return}t("PROCESS_ITEM",{query:A,success:N,failure:P},!0)};i.onOnce("process-complete",()=>{o(Ft(i)),m();const b=n.options.server;if(n.options.instantUpload&&i.origin===lt.LOCAL&&wi(b.remove)){const P=()=>{};i.origin=lt.LIMBO,n.options.server.remove(i.source,P,P)}e("GET_ITEMS_BY_STATUS",Oe.PROCESSING_COMPLETE).length===n.items.length&&t("DID_COMPLETE_ITEM_PROCESSING_ALL")}),i.onOnce("process-error",b=>{u({error:b,file:Ft(i)}),m()});const T=n.options;i.process(Ku(Zu(T.server.url,T.server.process,T.name,{chunkTransferId:i.transferId,chunkServer:T.server.patch,chunkUploads:T.chunkUploads,chunkForce:T.chunkForce,chunkSize:T.chunkSize,chunkRetryDelays:T.chunkRetryDelays}),{allowMinimumUploadDuration:e("GET_ALLOW_MINIMUM_UPLOAD_DURATION")}),(b,A,N)=>{gn("PREPARE_OUTPUT",b,{query:e,item:i}).then(P=>{t("DID_PREPARE_OUTPUT",{id:i.id,file:P}),A(P)}).catch(N)})}),RETRY_ITEM_PROCESSING:Kt(n,i=>{t("REQUEST_ITEM_PROCESSING",{query:i})}),REQUEST_REMOVE_ITEM:Kt(n,i=>{Aa(e("GET_BEFORE_REMOVE_FILE"),Ft(i)).then(o=>{o&&t("REMOVE_ITEM",{query:i})})}),RELEASE_ITEM:Kt(n,i=>{i.release()}),REMOVE_ITEM:Kt(n,(i,o,u,d)=>{const g=()=>{const T=i.id;xa(n.items,T).archive(),t("DID_REMOVE_ITEM",{error:null,id:T,item:i}),fo(t,n),o(Ft(i))},m=n.options.server;i.origin===lt.LOCAL&&m&&wi(m.remove)&&d.remove!==!1?(t("DID_START_ITEM_REMOVE",{id:i.id}),m.remove(i.source,()=>g(),T=>{t("DID_THROW_ITEM_REMOVE_ERROR",{id:i.id,error:it("error",0,T,null),status:{main:br(n.options.labelFileRemoveError)(T),sub:n.options.labelTapToRetry}})})):((d.revert&&i.origin!==lt.LOCAL&&i.serverId!==null||n.options.chunkUploads&&i.file.size>n.options.chunkSize||n.options.chunkUploads&&n.options.chunkForce)&&i.revert(Ls(n.options.server.url,n.options.server.revert),e("GET_FORCE_REVERT")),g())}),ABORT_ITEM_LOAD:Kt(n,i=>{i.abortLoad()}),ABORT_ITEM_PROCESSING:Kt(n,i=>{if(i.serverId){t("REVERT_ITEM_PROCESSING",{id:i.id});return}i.abortProcessing().then(()=>{n.options.instantUpload&&t("REMOVE_ITEM",{query:i.id})})}),REQUEST_REVERT_ITEM_PROCESSING:Kt(n,i=>{if(!n.options.instantUpload){t("REVERT_ITEM_PROCESSING",{query:i});return}const o=g=>{g&&t("REVERT_ITEM_PROCESSING",{query:i})},u=e("GET_BEFORE_REMOVE_FILE");if(!u)return o(!0);const d=u(Ft(i));if(d==null)return o(!0);if(typeof d=="boolean")return o(d);typeof d.then=="function"&&d.then(o)}),REVERT_ITEM_PROCESSING:Kt(n,i=>{i.revert(Ls(n.options.server.url,n.options.server.revert),e("GET_FORCE_REVERT")).then(()=>{(n.options.instantUpload||id(i))&&t("REMOVE_ITEM",{query:i.id})}).catch(()=>{})}),SET_OPTIONS:({options:i})=>{const o=Object.keys(i),u=rd.filter(g=>o.includes(g));[...u,...Object.keys(i).filter(g=>!u.includes(g))].forEach(g=>{t(`SET_${Gr(g,"_").toUpperCase()}`,{value:i[g]})})}}),rd=["server"],Ho=t=>t,jn=t=>document.createElement(t),st=(t,e)=>{let n=t.childNodes[0];n?e!==n.nodeValue&&(n.nodeValue=e):(n=document.createTextNode(e),t.appendChild(n))},Oa=(t,e,n,i)=>{const o=(i%360-90)*Math.PI/180;return{x:t+n*Math.cos(o),y:e+n*Math.sin(o)}},od=(t,e,n,i,o,u)=>{const d=Oa(t,e,n,o),g=Oa(t,e,n,i);return["M",d.x,d.y,"A",n,n,0,u,0,g.x,g.y].join(" ")},ad=(t,e,n,i,o)=>{let u=1;return o>i&&o-i<=.5&&(u=0),i>o&&i-o>=.5&&(u=0),od(t,e,n,Math.min(.9999,i)*360,Math.min(.9999,o)*360,u)},ld=({root:t,props:e})=>{e.spin=!1,e.progress=0,e.opacity=0;const n=Mr("svg");t.ref.path=Mr("path",{"stroke-width":2,"stroke-linecap":"round"}),n.appendChild(t.ref.path),t.ref.svg=n,t.appendChild(n)},cd=({root:t,props:e})=>{if(e.opacity===0)return;e.align&&(t.element.dataset.align=e.align);const n=parseInt(ct(t.ref.path,"stroke-width"),10),i=t.rect.element.width*.5;let o=0,u=0;e.spin?(o=0,u=.5):(o=0,u=e.progress);const d=ad(i,i,i-n,o,u);ct(t.ref.path,"d",d),ct(t.ref.path,"stroke-opacity",e.spin||e.progress>0?1:0)},Ra=ot({tag:"div",name:"progress-indicator",ignoreRectUpdate:!0,ignoreRect:!0,create:ld,write:cd,mixins:{apis:["progress","spin","align"],styles:["opacity"],animations:{opacity:{type:"tween",duration:500},progress:{type:"spring",stiffness:.95,damping:.65,mass:10}}}}),ud=({root:t,props:e})=>{t.element.innerHTML=(e.icon||"")+`<span>${e.label}</span>`,e.isDisabled=!1},dd=({root:t,props:e})=>{const{isDisabled:n}=e,i=t.query("GET_DISABLED")||e.opacity===0;i&&!n?(e.isDisabled=!0,ct(t.element,"disabled","disabled")):!i&&n&&(e.isDisabled=!1,t.element.removeAttribute("disabled"))},Rl=ot({tag:"button",attributes:{type:"button"},ignoreRect:!0,ignoreRectUpdate:!0,name:"file-action-button",mixins:{apis:["label"],styles:["translateX","translateY","scaleX","scaleY","opacity"],animations:{scaleX:"spring",scaleY:"spring",translateX:"spring",translateY:"spring",opacity:{type:"tween",duration:250}},listeners:!0},create:ud,write:dd}),Dl=(t,e=".",n=1e3,i={})=>{const{labelBytes:o="bytes",labelKilobytes:u="KB",labelMegabytes:d="MB",labelGigabytes:g="GB"}=i;t=Math.round(Math.abs(t));const m=n,T=n*n,b=n*n*n;return t<m?`${t} ${o}`:t<T?`${Math.floor(t/m)} ${u}`:t<b?`${Da(t/T,1,e)} ${d}`:`${Da(t/b,2,e)} ${g}`},Da=(t,e,n)=>t.toFixed(e).split(".").filter(i=>i!=="0").join(n),fd=({root:t,props:e})=>{const n=jn("span");n.className="filepond--file-info-main",ct(n,"aria-hidden","true"),t.appendChild(n),t.ref.fileName=n;const i=jn("span");i.className="filepond--file-info-sub",t.appendChild(i),t.ref.fileSize=i,st(i,t.query("GET_LABEL_FILE_WAITING_FOR_SIZE")),st(n,Ho(t.query("GET_ITEM_NAME",e.id)))},To=({root:t,props:e})=>{st(t.ref.fileSize,Dl(t.query("GET_ITEM_SIZE",e.id),".",t.query("GET_FILE_SIZE_BASE"),t.query("GET_FILE_SIZE_LABELS",t.query))),st(t.ref.fileName,Ho(t.query("GET_ITEM_NAME",e.id)))},La=({root:t,props:e})=>{if(os(t.query("GET_ITEM_SIZE",e.id))){To({root:t,props:e});return}st(t.ref.fileSize,t.query("GET_LABEL_FILE_SIZE_NOT_AVAILABLE"))},hd=ot({name:"file-info",ignoreRect:!0,ignoreRectUpdate:!0,write:Lt({DID_LOAD_ITEM:To,DID_UPDATE_ITEM_META:To,DID_THROW_ITEM_LOAD_ERROR:La,DID_THROW_ITEM_INVALID:La}),didCreateView:t=>{Oi("CREATE_VIEW",{...t,view:t})},create:fd,mixins:{styles:["translateX","translateY"],animations:{translateX:"spring",translateY:"spring"}}}),Ll=t=>Math.round(t*100),pd=({root:t})=>{const e=jn("span");e.className="filepond--file-status-main",t.appendChild(e),t.ref.main=e;const n=jn("span");n.className="filepond--file-status-sub",t.appendChild(n),t.ref.sub=n,Pl({root:t,action:{progress:null}})},Pl=({root:t,action:e})=>{const n=e.progress===null?t.query("GET_LABEL_FILE_LOADING"):`${t.query("GET_LABEL_FILE_LOADING")} ${Ll(e.progress)}%`;st(t.ref.main,n),st(t.ref.sub,t.query("GET_LABEL_TAP_TO_CANCEL"))},gd=({root:t,action:e})=>{const n=e.progress===null?t.query("GET_LABEL_FILE_PROCESSING"):`${t.query("GET_LABEL_FILE_PROCESSING")} ${Ll(e.progress)}%`;st(t.ref.main,n),st(t.ref.sub,t.query("GET_LABEL_TAP_TO_CANCEL"))},md=({root:t})=>{st(t.ref.main,t.query("GET_LABEL_FILE_PROCESSING")),st(t.ref.sub,t.query("GET_LABEL_TAP_TO_CANCEL"))},yd=({root:t})=>{st(t.ref.main,t.query("GET_LABEL_FILE_PROCESSING_ABORTED")),st(t.ref.sub,t.query("GET_LABEL_TAP_TO_RETRY"))},_d=({root:t})=>{st(t.ref.main,t.query("GET_LABEL_FILE_PROCESSING_COMPLETE")),st(t.ref.sub,t.query("GET_LABEL_TAP_TO_UNDO"))},Pa=({root:t})=>{st(t.ref.main,""),st(t.ref.sub,"")},Ps=({root:t,action:e})=>{st(t.ref.main,e.status.main),st(t.ref.sub,e.status.sub)},Ed=ot({name:"file-status",ignoreRect:!0,ignoreRectUpdate:!0,write:Lt({DID_LOAD_ITEM:Pa,DID_REVERT_ITEM_PROCESSING:Pa,DID_REQUEST_ITEM_PROCESSING:md,DID_ABORT_ITEM_PROCESSING:yd,DID_COMPLETE_ITEM_PROCESSING:_d,DID_UPDATE_ITEM_PROCESS_PROGRESS:gd,DID_UPDATE_ITEM_LOAD_PROGRESS:Pl,DID_THROW_ITEM_LOAD_ERROR:Ps,DID_THROW_ITEM_INVALID:Ps,DID_THROW_ITEM_PROCESSING_ERROR:Ps,DID_THROW_ITEM_PROCESSING_REVERT_ERROR:Ps,DID_THROW_ITEM_REMOVE_ERROR:Ps}),didCreateView:t=>{Oi("CREATE_VIEW",{...t,view:t})},create:pd,mixins:{styles:["translateX","translateY","opacity"],animations:{opacity:{type:"tween",duration:250},translateX:"spring",translateY:"spring"}}}),wo={AbortItemLoad:{label:"GET_LABEL_BUTTON_ABORT_ITEM_LOAD",action:"ABORT_ITEM_LOAD",className:"filepond--action-abort-item-load",align:"LOAD_INDICATOR_POSITION"},RetryItemLoad:{label:"GET_LABEL_BUTTON_RETRY_ITEM_LOAD",action:"RETRY_ITEM_LOAD",icon:"GET_ICON_RETRY",className:"filepond--action-retry-item-load",align:"BUTTON_PROCESS_ITEM_POSITION"},RemoveItem:{label:"GET_LABEL_BUTTON_REMOVE_ITEM",action:"REQUEST_REMOVE_ITEM",icon:"GET_ICON_REMOVE",className:"filepond--action-remove-item",align:"BUTTON_REMOVE_ITEM_POSITION"},ProcessItem:{label:"GET_LABEL_BUTTON_PROCESS_ITEM",action:"REQUEST_ITEM_PROCESSING",icon:"GET_ICON_PROCESS",className:"filepond--action-process-item",align:"BUTTON_PROCESS_ITEM_POSITION"},AbortItemProcessing:{label:"GET_LABEL_BUTTON_ABORT_ITEM_PROCESSING",action:"ABORT_ITEM_PROCESSING",className:"filepond--action-abort-item-processing",align:"BUTTON_PROCESS_ITEM_POSITION"},RetryItemProcessing:{label:"GET_LABEL_BUTTON_RETRY_ITEM_PROCESSING",action:"RETRY_ITEM_PROCESSING",icon:"GET_ICON_RETRY",className:"filepond--action-retry-item-processing",align:"BUTTON_PROCESS_ITEM_POSITION"},RevertItemProcessing:{label:"GET_LABEL_BUTTON_UNDO_ITEM_PROCESSING",action:"REQUEST_REVERT_ITEM_PROCESSING",icon:"GET_ICON_UNDO",className:"filepond--action-revert-item-processing",align:"BUTTON_PROCESS_ITEM_POSITION"}},Io=[];Je(wo,t=>{Io.push(t)});const qt=t=>{if(xo(t)==="right")return 0;const e=t.ref.buttonRemoveItem.rect.element;return e.hidden?null:e.width+e.left},vd=t=>t.ref.buttonAbortItemLoad.rect.element.width,Tr=t=>Math.floor(t.ref.buttonRemoveItem.rect.element.height/4),bd=t=>Math.floor(t.ref.buttonRemoveItem.rect.element.left/2),Td=t=>t.query("GET_STYLE_LOAD_INDICATOR_POSITION"),wd=t=>t.query("GET_STYLE_PROGRESS_INDICATOR_POSITION"),xo=t=>t.query("GET_STYLE_BUTTON_REMOVE_ITEM_POSITION"),Id={buttonAbortItemLoad:{opacity:0},buttonRetryItemLoad:{opacity:0},buttonRemoveItem:{opacity:0},buttonProcessItem:{opacity:0},buttonAbortItemProcessing:{opacity:0},buttonRetryItemProcessing:{opacity:0},buttonRevertItemProcessing:{opacity:0},loadProgressIndicator:{opacity:0,align:Td},processProgressIndicator:{opacity:0,align:wd},processingCompleteIndicator:{opacity:0,scaleX:.75,scaleY:.75},info:{translateX:0,translateY:0,opacity:0},status:{translateX:0,translateY:0,opacity:0}},Ma={buttonRemoveItem:{opacity:1},buttonProcessItem:{opacity:1},info:{translateX:qt},status:{translateX:qt}},po={buttonAbortItemProcessing:{opacity:1},processProgressIndicator:{opacity:1},status:{opacity:1}},Ji={DID_THROW_ITEM_INVALID:{buttonRemoveItem:{opacity:1},info:{translateX:qt},status:{translateX:qt,opacity:1}},DID_START_ITEM_LOAD:{buttonAbortItemLoad:{opacity:1},loadProgressIndicator:{opacity:1},status:{opacity:1}},DID_THROW_ITEM_LOAD_ERROR:{buttonRetryItemLoad:{opacity:1},buttonRemoveItem:{opacity:1},info:{translateX:qt},status:{opacity:1}},DID_START_ITEM_REMOVE:{processProgressIndicator:{opacity:1,align:xo},info:{translateX:qt},status:{opacity:0}},DID_THROW_ITEM_REMOVE_ERROR:{processProgressIndicator:{opacity:0,align:xo},buttonRemoveItem:{opacity:1},info:{translateX:qt},status:{opacity:1,translateX:qt}},DID_LOAD_ITEM:Ma,DID_LOAD_LOCAL_ITEM:{buttonRemoveItem:{opacity:1},info:{translateX:qt},status:{translateX:qt}},DID_START_ITEM_PROCESSING:po,DID_REQUEST_ITEM_PROCESSING:po,DID_UPDATE_ITEM_PROCESS_PROGRESS:po,DID_COMPLETE_ITEM_PROCESSING:{buttonRevertItemProcessing:{opacity:1},info:{opacity:1},status:{opacity:1}},DID_THROW_ITEM_PROCESSING_ERROR:{buttonRemoveItem:{opacity:1},buttonRetryItemProcessing:{opacity:1},status:{opacity:1},info:{translateX:qt}},DID_THROW_ITEM_PROCESSING_REVERT_ERROR:{buttonRevertItemProcessing:{opacity:1},status:{opacity:1},info:{opacity:1}},DID_ABORT_ITEM_PROCESSING:{buttonRemoveItem:{opacity:1},buttonProcessItem:{opacity:1},info:{translateX:qt},status:{opacity:1}},DID_REVERT_ITEM_PROCESSING:Ma},xd=ot({create:({root:t})=>{t.element.innerHTML=t.query("GET_ICON_DONE")},name:"processing-complete-indicator",ignoreRect:!0,mixins:{styles:["scaleX","scaleY","opacity"],animations:{scaleX:"spring",scaleY:"spring",opacity:{type:"tween",duration:250}}}}),Sd=({root:t,props:e})=>{const n=Object.keys(wo).reduce((x,D)=>(x[D]={...wo[D]},x),{}),{id:i}=e,o=t.query("GET_ALLOW_REVERT"),u=t.query("GET_ALLOW_REMOVE"),d=t.query("GET_ALLOW_PROCESS"),g=t.query("GET_INSTANT_UPLOAD"),m=t.query("IS_ASYNC"),T=t.query("GET_STYLE_BUTTON_REMOVE_ITEM_ALIGN");let b;m?d&&!o?b=x=>!/RevertItemProcessing/.test(x):!d&&o?b=x=>!/ProcessItem|RetryItemProcessing|AbortItemProcessing/.test(x):!d&&!o&&(b=x=>!/Process/.test(x)):b=x=>!/Process/.test(x);const A=b?Io.filter(b):Io.concat();if(g&&o&&(n.RevertItemProcessing.label="GET_LABEL_BUTTON_REMOVE_ITEM",n.RevertItemProcessing.icon="GET_ICON_REMOVE"),m&&!o){const x=Ji.DID_COMPLETE_ITEM_PROCESSING;x.info.translateX=bd,x.info.translateY=Tr,x.status.translateY=Tr,x.processingCompleteIndicator={opacity:1,scaleX:1,scaleY:1}}if(m&&!d&&(["DID_START_ITEM_PROCESSING","DID_REQUEST_ITEM_PROCESSING","DID_UPDATE_ITEM_PROCESS_PROGRESS","DID_THROW_ITEM_PROCESSING_ERROR"].forEach(x=>{Ji[x].status.translateY=Tr}),Ji.DID_THROW_ITEM_PROCESSING_ERROR.status.translateX=vd),T&&o){n.RevertItemProcessing.align="BUTTON_REMOVE_ITEM_POSITION";const x=Ji.DID_COMPLETE_ITEM_PROCESSING;x.info.translateX=qt,x.status.translateY=Tr,x.processingCompleteIndicator={opacity:1,scaleX:1,scaleY:1}}u||(n.RemoveItem.disabled=!0),Je(n,(x,D)=>{const k=t.createChildView(Rl,{label:t.query(D.label),icon:t.query(D.icon),opacity:0});A.includes(x)&&t.appendChildView(k),D.disabled&&(k.element.setAttribute("disabled","disabled"),k.element.setAttribute("hidden","hidden")),k.element.dataset.align=t.query(`GET_STYLE_${D.align}`),k.element.classList.add(D.className),k.on("click",z=>{z.stopPropagation(),!D.disabled&&t.dispatch(D.action,{query:i})}),t.ref[`button${x}`]=k}),t.ref.processingCompleteIndicator=t.appendChildView(t.createChildView(xd)),t.ref.processingCompleteIndicator.element.dataset.align=t.query("GET_STYLE_BUTTON_PROCESS_ITEM_POSITION"),t.ref.info=t.appendChildView(t.createChildView(hd,{id:i})),t.ref.status=t.appendChildView(t.createChildView(Ed,{id:i}));const N=t.appendChildView(t.createChildView(Ra,{opacity:0,align:t.query("GET_STYLE_LOAD_INDICATOR_POSITION")}));N.element.classList.add("filepond--load-indicator"),t.ref.loadProgressIndicator=N;const P=t.appendChildView(t.createChildView(Ra,{opacity:0,align:t.query("GET_STYLE_PROGRESS_INDICATOR_POSITION")}));P.element.classList.add("filepond--process-indicator"),t.ref.processProgressIndicator=P,t.ref.activeStyles=[]},Cd=({root:t,actions:e,props:n})=>{Ad({root:t,actions:e,props:n});let i=e.concat().filter(o=>/^DID_/.test(o.type)).reverse().find(o=>Ji[o.type]);if(i){t.ref.activeStyles=[];const o=Ji[i.type];Je(Id,(u,d)=>{const g=t.ref[u];Je(d,(m,T)=>{const b=o[u]&&typeof o[u][m]<"u"?o[u][m]:T;t.ref.activeStyles.push({control:g,key:m,value:b})})})}t.ref.activeStyles.forEach(({control:o,key:u,value:d})=>{o[u]=typeof d=="function"?d(t):d})},Ad=Lt({DID_SET_LABEL_BUTTON_ABORT_ITEM_PROCESSING:({root:t,action:e})=>{t.ref.buttonAbortItemProcessing.label=e.value},DID_SET_LABEL_BUTTON_ABORT_ITEM_LOAD:({root:t,action:e})=>{t.ref.buttonAbortItemLoad.label=e.value},DID_SET_LABEL_BUTTON_ABORT_ITEM_REMOVAL:({root:t,action:e})=>{t.ref.buttonAbortItemRemoval.label=e.value},DID_REQUEST_ITEM_PROCESSING:({root:t})=>{t.ref.processProgressIndicator.spin=!0,t.ref.processProgressIndicator.progress=0},DID_START_ITEM_LOAD:({root:t})=>{t.ref.loadProgressIndicator.spin=!0,t.ref.loadProgressIndicator.progress=0},DID_START_ITEM_REMOVE:({root:t})=>{t.ref.processProgressIndicator.spin=!0,t.ref.processProgressIndicator.progress=0},DID_UPDATE_ITEM_LOAD_PROGRESS:({root:t,action:e})=>{t.ref.loadProgressIndicator.spin=!1,t.ref.loadProgressIndicator.progress=e.progress},DID_UPDATE_ITEM_PROCESS_PROGRESS:({root:t,action:e})=>{t.ref.processProgressIndicator.spin=!1,t.ref.processProgressIndicator.progress=e.progress}}),Od=ot({create:Sd,write:Cd,didCreateView:t=>{Oi("CREATE_VIEW",{...t,view:t})},name:"file"}),Rd=({root:t,props:e})=>{t.ref.fileName=jn("legend"),t.appendChild(t.ref.fileName),t.ref.file=t.appendChildView(t.createChildView(Od,{id:e.id})),t.ref.data=!1},Dd=({root:t,props:e})=>{st(t.ref.fileName,Ho(t.query("GET_ITEM_NAME",e.id)))},Ld=ot({create:Rd,ignoreRect:!0,write:Lt({DID_LOAD_ITEM:Dd}),didCreateView:t=>{Oi("CREATE_VIEW",{...t,view:t})},tag:"fieldset",name:"file-wrapper"}),Na={type:"spring",damping:.6,mass:7},Pd=({root:t,props:e})=>{[{name:"top"},{name:"center",props:{translateY:null,scaleY:null},mixins:{animations:{scaleY:Na},styles:["translateY","scaleY"]}},{name:"bottom",props:{translateY:null},mixins:{animations:{translateY:Na},styles:["translateY"]}}].forEach(n=>{Md(t,n,e.name)}),t.element.classList.add(`filepond--${e.name}`),t.ref.scalable=null},Md=(t,e,n)=>{const i=ot({name:`panel-${e.name} filepond--${n}`,mixins:e.mixins,ignoreRectUpdate:!0}),o=t.createChildView(i,e.props);t.ref[e.name]=t.appendChildView(o)},Nd=({root:t,props:e})=>{if((t.ref.scalable===null||e.scalable!==t.ref.scalable)&&(t.ref.scalable=pl(e.scalable)?e.scalable:!0,t.element.dataset.scalable=t.ref.scalable),!e.height)return;const n=t.ref.top.rect.element,i=t.ref.bottom.rect.element,o=Math.max(n.height+i.height,e.height);t.ref.center.translateY=n.height,t.ref.center.scaleY=(o-n.height-i.height)/100,t.ref.bottom.translateY=o-i.height},Ml=ot({name:"panel",read:({root:t,props:e})=>e.heightCurrent=t.ref.bottom.translateY,write:Nd,create:Pd,ignoreRect:!0,mixins:{apis:["height","heightCurrent","scalable"]}}),Fd=t=>{const e=t.map(i=>i.id);let n;return{setIndex:i=>{n=i},getIndex:()=>n,getItemIndex:i=>e.indexOf(i.id)}},Fa={type:"spring",stiffness:.75,damping:.45,mass:10},ka="spring",$a={DID_START_ITEM_LOAD:"busy",DID_UPDATE_ITEM_LOAD_PROGRESS:"loading",DID_THROW_ITEM_INVALID:"load-invalid",DID_THROW_ITEM_LOAD_ERROR:"load-error",DID_LOAD_ITEM:"idle",DID_THROW_ITEM_REMOVE_ERROR:"remove-error",DID_START_ITEM_REMOVE:"busy",DID_START_ITEM_PROCESSING:"busy processing",DID_REQUEST_ITEM_PROCESSING:"busy processing",DID_UPDATE_ITEM_PROCESS_PROGRESS:"processing",DID_COMPLETE_ITEM_PROCESSING:"processing-complete",DID_THROW_ITEM_PROCESSING_ERROR:"processing-error",DID_THROW_ITEM_PROCESSING_REVERT_ERROR:"processing-revert-error",DID_ABORT_ITEM_PROCESSING:"cancelled",DID_REVERT_ITEM_PROCESSING:"idle"},kd=({root:t,props:e})=>{if(t.ref.handleClick=i=>t.dispatch("DID_ACTIVATE_ITEM",{id:e.id}),t.element.id=`filepond--item-${e.id}`,t.element.addEventListener("click",t.ref.handleClick),t.ref.container=t.appendChildView(t.createChildView(Ld,{id:e.id})),t.ref.panel=t.appendChildView(t.createChildView(Ml,{name:"item-panel"})),t.ref.panel.height=null,e.markedForRemoval=!1,!t.query("GET_ALLOW_REORDER"))return;t.element.dataset.dragState="idle";const n=i=>{if(!i.isPrimary)return;let o=!1;const u={x:i.pageX,y:i.pageY};e.dragOrigin={x:t.translateX,y:t.translateY},e.dragCenter={x:i.offsetX,y:i.offsetY};const d=Fd(t.query("GET_ACTIVE_ITEMS"));t.dispatch("DID_GRAB_ITEM",{id:e.id,dragState:d});const g=A=>{if(!A.isPrimary)return;A.stopPropagation(),A.preventDefault(),e.dragOffset={x:A.pageX-u.x,y:A.pageY-u.y},e.dragOffset.x*e.dragOffset.x+e.dragOffset.y*e.dragOffset.y>16&&!o&&(o=!0,t.element.removeEventListener("click",t.ref.handleClick)),t.dispatch("DID_DRAG_ITEM",{id:e.id,dragState:d})},m=A=>{A.isPrimary&&(e.dragOffset={x:A.pageX-u.x,y:A.pageY-u.y},b())},T=()=>{b()},b=()=>{document.removeEventListener("pointercancel",T),document.removeEventListener("pointermove",g),document.removeEventListener("pointerup",m),t.dispatch("DID_DROP_ITEM",{id:e.id,dragState:d}),o&&setTimeout(()=>t.element.addEventListener("click",t.ref.handleClick),0)};document.addEventListener("pointercancel",T),document.addEventListener("pointermove",g),document.addEventListener("pointerup",m)};t.element.addEventListener("pointerdown",n)},$d=Lt({DID_UPDATE_PANEL_HEIGHT:({root:t,action:e})=>{t.height=e.height}}),Bd=Lt({DID_GRAB_ITEM:({root:t,props:e})=>{e.dragOrigin={x:t.translateX,y:t.translateY}},DID_DRAG_ITEM:({root:t})=>{t.element.dataset.dragState="drag"},DID_DROP_ITEM:({root:t,props:e})=>{e.dragOffset=null,e.dragOrigin=null,t.element.dataset.dragState="drop"}},({root:t,actions:e,props:n,shouldOptimize:i})=>{t.element.dataset.dragState==="drop"&&t.scaleX<=1&&(t.element.dataset.dragState="idle");let o=e.concat().filter(d=>/^DID_/.test(d.type)).reverse().find(d=>$a[d.type]);o&&o.type!==n.currentState&&(n.currentState=o.type,t.element.dataset.filepondItemState=$a[n.currentState]||"");const u=t.query("GET_ITEM_PANEL_ASPECT_RATIO")||t.query("GET_PANEL_ASPECT_RATIO");u?i||(t.height=t.rect.element.width*u):($d({root:t,actions:e,props:n}),!t.height&&t.ref.container.rect.element.height>0&&(t.height=t.ref.container.rect.element.height)),i&&(t.ref.panel.height=null),t.ref.panel.height=t.height}),Gd=ot({create:kd,write:Bd,destroy:({root:t,props:e})=>{t.element.removeEventListener("click",t.ref.handleClick),t.dispatch("RELEASE_ITEM",{query:e.id})},tag:"li",name:"item",mixins:{apis:["id","interactionMethod","markedForRemoval","spawnDate","dragCenter","dragOrigin","dragOffset"],styles:["translateX","translateY","scaleX","scaleY","opacity","height"],animations:{scaleX:ka,scaleY:ka,translateX:Fa,translateY:Fa,opacity:{type:"tween",duration:150}}}});var Uo=(t,e)=>Math.max(1,Math.floor((t+1)/e));const zo=(t,e,n)=>{if(!n)return;const i=t.rect.element.width,o=e.length;let u=null;if(o===0||n.top<e[0].rect.element.top)return-1;const g=e[0].rect.element,m=g.marginLeft+g.marginRight,T=g.width+m,b=Uo(i,T);if(b===1){for(let P=0;P<o;P++){const x=e[P],D=x.rect.outer.top+x.rect.element.height*.5;if(n.top<D)return P}return o}const A=g.marginTop+g.marginBottom,N=g.height+A;for(let P=0;P<o;P++){const x=P%b,D=Math.floor(P/b),k=x*T,z=D*N,B=z-g.marginTop,H=k+T,Y=z+N+g.marginBottom;if(n.top<Y&&n.top>B){if(n.left<H)return P;P!==o-1?u=P:u=null}}return u!==null?u:o},wr={height:0,width:0,get getHeight(){return this.height},set setHeight(t){(this.height===0||t===0)&&(this.height=t)},get getWidth(){return this.width},set setWidth(t){(this.width===0||t===0)&&(this.width=t)},setDimensions:function(t,e){(this.height===0||t===0)&&(this.height=t),(this.width===0||e===0)&&(this.width=e)}},Hd=({root:t})=>{ct(t.element,"role","list"),t.ref.lastItemSpanwDate=Date.now()},Ud=({root:t,action:e})=>{const{id:n,index:i,interactionMethod:o}=e;t.ref.addIndex=i;const u=Date.now();let d=u,g=1;if(o!==en.NONE){g=0;const m=t.query("GET_ITEM_INSERT_INTERVAL"),T=u-t.ref.lastItemSpanwDate;d=T<m?u+(m-T):u}t.ref.lastItemSpanwDate=d,t.appendChildView(t.createChildView(Gd,{spawnDate:d,id:n,opacity:g,interactionMethod:o}),i)},Ba=(t,e,n,i=0,o=1)=>{t.dragOffset?(t.translateX=null,t.translateY=null,t.translateX=t.dragOrigin.x+t.dragOffset.x,t.translateY=t.dragOrigin.y+t.dragOffset.y,t.scaleX=1.025,t.scaleY=1.025):(t.translateX=e,t.translateY=n,Date.now()>t.spawnDate&&(t.opacity===0&&zd(t,e,n,i,o),t.scaleX=1,t.scaleY=1,t.opacity=1))},zd=(t,e,n,i,o)=>{t.interactionMethod===en.NONE?(t.translateX=null,t.translateX=e,t.translateY=null,t.translateY=n):t.interactionMethod===en.DROP?(t.translateX=null,t.translateX=e-i*20,t.translateY=null,t.translateY=n-o*10,t.scaleX=.8,t.scaleY=.8):t.interactionMethod===en.BROWSE?(t.translateY=null,t.translateY=n-30):t.interactionMethod===en.API&&(t.translateX=null,t.translateX=e-30,t.translateY=null)},Vd=({root:t,action:e})=>{const{id:n}=e,i=t.childViews.find(o=>o.id===n);i&&(i.scaleX=.9,i.scaleY=.9,i.opacity=0,i.markedForRemoval=!0)},go=t=>t.rect.element.height+t.rect.element.marginBottom*.5+t.rect.element.marginTop*.5,qd=t=>t.rect.element.width+t.rect.element.marginLeft*.5+t.rect.element.marginRight*.5,Wd=({root:t,action:e})=>{const{id:n,dragState:i}=e,o=t.query("GET_ITEM",{id:n}),u=t.childViews.find(k=>k.id===n),d=t.childViews.length,g=i.getItemIndex(o);if(!u)return;const m={x:u.dragOrigin.x+u.dragOffset.x+u.dragCenter.x,y:u.dragOrigin.y+u.dragOffset.y+u.dragCenter.y},T=go(u),b=qd(u);let A=Math.floor(t.rect.outer.width/b);A>d&&(A=d);const N=Math.floor(d/A+1);wr.setHeight=T*N,wr.setWidth=b*A;var P={y:Math.floor(m.y/T),x:Math.floor(m.x/b),getGridIndex:function(){return m.y>wr.getHeight||m.y<0||m.x>wr.getWidth||m.x<0?g:this.y*A+this.x},getColIndex:function(){const z=t.query("GET_ACTIVE_ITEMS"),B=t.childViews.filter(ae=>ae.rect.element.height),H=z.map(ae=>B.find(de=>de.id===ae.id)),Y=H.findIndex(ae=>ae===u),J=go(u),f=H.length;let fe=f,ee=0,W=0,X=0;for(let ae=0;ae<f;ae++)if(ee=go(H[ae]),X=W,W=X+ee,m.y<W){if(Y>ae){if(m.y<X+J){fe=ae;break}continue}fe=ae;break}return fe}};const x=A>1?P.getGridIndex():P.getColIndex();t.dispatch("MOVE_ITEM",{query:u,index:x});const D=i.getIndex();if(D===void 0||D!==x){if(i.setIndex(x),D===void 0)return;t.dispatch("DID_REORDER_ITEMS",{items:t.query("GET_ACTIVE_ITEMS"),origin:g,target:x})}},jd=Lt({DID_ADD_ITEM:Ud,DID_REMOVE_ITEM:Vd,DID_DRAG_ITEM:Wd}),Yd=({root:t,props:e,actions:n,shouldOptimize:i})=>{jd({root:t,props:e,actions:n});const{dragCoordinates:o}=e,u=t.rect.element.width,d=t.childViews.filter(H=>H.rect.element.height),g=t.query("GET_ACTIVE_ITEMS").map(H=>d.find(Y=>Y.id===H.id)).filter(H=>H),m=o?zo(t,g,o):null,T=t.ref.addIndex||null;t.ref.addIndex=null;let b=0,A=0,N=0;if(g.length===0)return;const P=g[0].rect.element,x=P.marginTop+P.marginBottom,D=P.marginLeft+P.marginRight,k=P.width+D,z=P.height+x,B=Uo(u,k);if(B===1){let H=0,Y=0;g.forEach((J,f)=>{if(m){let W=f-m;W===-2?Y=-x*.25:W===-1?Y=-x*.75:W===0?Y=x*.75:W===1?Y=x*.25:Y=0}i&&(J.translateX=null,J.translateY=null),J.markedForRemoval||Ba(J,0,H+Y);let ee=(J.rect.element.height+x)*(J.markedForRemoval?J.opacity:1);H+=ee})}else{let H=0,Y=0;g.forEach((J,f)=>{f===m&&(b=1),f===T&&(N+=1),J.markedForRemoval&&J.opacity<.5&&(A-=1);const fe=f+N+b+A,ee=fe%B,W=Math.floor(fe/B),X=ee*k,ae=W*z,de=Math.sign(X-H),me=Math.sign(ae-Y);H=X,Y=ae,!J.markedForRemoval&&(i&&(J.translateX=null,J.translateY=null),Ba(J,X,ae,de,me))})}},Xd=(t,e)=>e.filter(n=>n.data&&n.data.id?t.id===n.data.id:!0),Zd=ot({create:Hd,write:Yd,tag:"ul",name:"list",didWriteView:({root:t})=>{t.childViews.filter(e=>e.markedForRemoval&&e.opacity===0&&e.resting).forEach(e=>{e._destroy(),t.removeChildView(e)})},filterFrameActionsForChild:Xd,mixins:{apis:["dragCoordinates"]}}),Qd=({root:t,props:e})=>{t.ref.list=t.appendChildView(t.createChildView(Zd)),e.dragCoordinates=null,e.overflowing=!1},Kd=({root:t,props:e,action:n})=>{t.query("GET_ITEM_INSERT_LOCATION_FREEDOM")&&(e.dragCoordinates={left:n.position.scopeLeft-t.ref.list.rect.element.left,top:n.position.scopeTop-(t.rect.outer.top+t.rect.element.marginTop+t.rect.element.scrollTop)})},Jd=({props:t})=>{t.dragCoordinates=null},ef=Lt({DID_DRAG:Kd,DID_END_DRAG:Jd}),tf=({root:t,props:e,actions:n})=>{if(ef({root:t,props:e,actions:n}),t.ref.list.dragCoordinates=e.dragCoordinates,e.overflowing&&!e.overflow&&(e.overflowing=!1,t.element.dataset.state="",t.height=null),e.overflow){const i=Math.round(e.overflow);i!==t.height&&(e.overflowing=!0,t.element.dataset.state="overflow",t.height=i)}},nf=ot({create:Qd,write:tf,name:"list-scroller",mixins:{apis:["overflow","dragCoordinates"],styles:["height","translateY"],animations:{translateY:"spring"}}}),yn=(t,e,n,i="")=>{n?ct(t,e,i):t.removeAttribute(e)},sf=t=>{if(!(!t||t.value==="")){try{t.value=""}catch{}if(t.value){const e=jn("form"),n=t.parentNode,i=t.nextSibling;e.appendChild(t),e.reset(),i?n.insertBefore(t,i):n.appendChild(t)}}},rf=({root:t,props:e})=>{t.element.id=`filepond--browser-${e.id}`,ct(t.element,"name",t.query("GET_NAME")),ct(t.element,"aria-controls",`filepond--assistant-${e.id}`),ct(t.element,"aria-labelledby",`filepond--drop-label-${e.id}`),Nl({root:t,action:{value:t.query("GET_ACCEPTED_FILE_TYPES")}}),Fl({root:t,action:{value:t.query("GET_ALLOW_MULTIPLE")}}),kl({root:t,action:{value:t.query("GET_ALLOW_DIRECTORIES_ONLY")}}),So({root:t}),$l({root:t,action:{value:t.query("GET_REQUIRED")}}),Bl({root:t,action:{value:t.query("GET_CAPTURE_METHOD")}}),t.ref.handleChange=n=>{if(!t.element.value)return;const i=Array.from(t.element.files).map(o=>(o._relativePath=o.webkitRelativePath,o));setTimeout(()=>{e.onload(i),sf(t.element)},250)},t.element.addEventListener("change",t.ref.handleChange)},Nl=({root:t,action:e})=>{t.query("GET_ALLOW_SYNC_ACCEPT_ATTRIBUTE")&&yn(t.element,"accept",!!e.value,e.value?e.value.join(","):"")},Fl=({root:t,action:e})=>{yn(t.element,"multiple",e.value)},kl=({root:t,action:e})=>{yn(t.element,"webkitdirectory",e.value)},So=({root:t})=>{const e=t.query("GET_DISABLED"),n=t.query("GET_ALLOW_BROWSE"),i=e||!n;yn(t.element,"disabled",i)},$l=({root:t,action:e})=>{e.value?t.query("GET_TOTAL_ITEMS")===0&&yn(t.element,"required",!0):yn(t.element,"required",!1)},Bl=({root:t,action:e})=>{yn(t.element,"capture",!!e.value,e.value===!0?"":e.value)},Ga=({root:t})=>{const{element:e}=t;t.query("GET_TOTAL_ITEMS")>0?(yn(e,"required",!1),yn(e,"name",!1)):(yn(e,"name",!0,t.query("GET_NAME")),t.query("GET_CHECK_VALIDITY")&&e.setCustomValidity(""),t.query("GET_REQUIRED")&&yn(e,"required",!0))},of=({root:t})=>{t.query("GET_CHECK_VALIDITY")&&t.element.setCustomValidity(t.query("GET_LABEL_INVALID_FIELD"))},af=ot({tag:"input",name:"browser",ignoreRect:!0,ignoreRectUpdate:!0,attributes:{type:"file"},create:rf,destroy:({root:t})=>{t.element.removeEventListener("change",t.ref.handleChange)},write:Lt({DID_LOAD_ITEM:Ga,DID_REMOVE_ITEM:Ga,DID_THROW_ITEM_INVALID:of,DID_SET_DISABLED:So,DID_SET_ALLOW_BROWSE:So,DID_SET_ALLOW_DIRECTORIES_ONLY:kl,DID_SET_ALLOW_MULTIPLE:Fl,DID_SET_ACCEPTED_FILE_TYPES:Nl,DID_SET_CAPTURE_METHOD:Bl,DID_SET_REQUIRED:$l})}),Ha={ENTER:13,SPACE:32},lf=({root:t,props:e})=>{const n=jn("label");ct(n,"for",`filepond--browser-${e.id}`),ct(n,"id",`filepond--drop-label-${e.id}`),t.ref.handleKeyDown=i=>{(i.keyCode===Ha.ENTER||i.keyCode===Ha.SPACE)&&(i.preventDefault(),t.ref.label.click())},t.ref.handleClick=i=>{i.target===n||n.contains(i.target)||t.ref.label.click()},n.addEventListener("keydown",t.ref.handleKeyDown),t.element.addEventListener("click",t.ref.handleClick),Gl(n,e.caption),t.appendChild(n),t.ref.label=n},Gl=(t,e)=>{t.innerHTML=e;const n=t.querySelector(".filepond--label-action");return n&&ct(n,"tabindex","0"),e},cf=ot({name:"drop-label",ignoreRect:!0,create:lf,destroy:({root:t})=>{t.ref.label.addEventListener("keydown",t.ref.handleKeyDown),t.element.removeEventListener("click",t.ref.handleClick)},write:Lt({DID_SET_LABEL_IDLE:({root:t,action:e})=>{Gl(t.ref.label,e.value)}}),mixins:{styles:["opacity","translateX","translateY"],animations:{opacity:{type:"tween",duration:150},translateX:"spring",translateY:"spring"}}}),uf=ot({name:"drip-blob",ignoreRect:!0,mixins:{styles:["translateX","translateY","scaleX","scaleY","opacity"],animations:{scaleX:"spring",scaleY:"spring",translateX:"spring",translateY:"spring",opacity:{type:"tween",duration:250}}}}),df=({root:t})=>{const e=t.rect.element.width*.5,n=t.rect.element.height*.5;t.ref.blob=t.appendChildView(t.createChildView(uf,{opacity:0,scaleX:2.5,scaleY:2.5,translateX:e,translateY:n}))},ff=({root:t,action:e})=>{if(!t.ref.blob){df({root:t});return}t.ref.blob.translateX=e.position.scopeLeft,t.ref.blob.translateY=e.position.scopeTop,t.ref.blob.scaleX=1,t.ref.blob.scaleY=1,t.ref.blob.opacity=1},hf=({root:t})=>{t.ref.blob&&(t.ref.blob.opacity=0)},pf=({root:t})=>{t.ref.blob&&(t.ref.blob.scaleX=2.5,t.ref.blob.scaleY=2.5,t.ref.blob.opacity=0)},gf=({root:t,props:e,actions:n})=>{mf({root:t,props:e,actions:n});const{blob:i}=t.ref;n.length===0&&i&&i.opacity===0&&(t.removeChildView(i),t.ref.blob=null)},mf=Lt({DID_DRAG:ff,DID_DROP:pf,DID_END_DRAG:hf}),yf=ot({ignoreRect:!0,ignoreRectUpdate:!0,name:"drip",write:gf}),Hl=(t,e)=>{try{const n=new DataTransfer;e.forEach(i=>{i instanceof File?n.items.add(i):n.items.add(new File([i],i.name,{type:i.type}))}),t.files=n.files}catch{return!1}return!0},_f=({root:t})=>t.ref.fields={},zr=(t,e)=>t.ref.fields[e],Vo=t=>{t.query("GET_ACTIVE_ITEMS").forEach(e=>{t.ref.fields[e.id]&&t.element.appendChild(t.ref.fields[e.id])})},Ua=({root:t})=>Vo(t),Ef=({root:t,action:e})=>{const o=!(t.query("GET_ITEM",e.id).origin===lt.LOCAL)&&t.query("SHOULD_UPDATE_FILE_INPUT"),u=jn("input");u.type=o?"file":"hidden",u.name=t.query("GET_NAME"),u.disabled=t.query("GET_DISABLED"),t.ref.fields[e.id]=u,Vo(t)},vf=({root:t,action:e})=>{const n=zr(t,e.id);if(!n||(e.serverFileReference!==null&&(n.value=e.serverFileReference),!t.query("SHOULD_UPDATE_FILE_INPUT")))return;const i=t.query("GET_ITEM",e.id);Hl(n,[i.file])},bf=({root:t,action:e})=>{t.query("SHOULD_UPDATE_FILE_INPUT")&&setTimeout(()=>{const n=zr(t,e.id);n&&Hl(n,[e.file])},0)},Tf=({root:t})=>{t.element.disabled=t.query("GET_DISABLED")},wf=({root:t,action:e})=>{const n=zr(t,e.id);n&&(n.parentNode&&n.parentNode.removeChild(n),delete t.ref.fields[e.id])},If=({root:t,action:e})=>{const n=zr(t,e.id);n&&(e.value===null?n.removeAttribute("value"):n.type!="file"&&(n.value=e.value),Vo(t))},xf=Lt({DID_SET_DISABLED:Tf,DID_ADD_ITEM:Ef,DID_LOAD_ITEM:vf,DID_REMOVE_ITEM:wf,DID_DEFINE_VALUE:If,DID_PREPARE_OUTPUT:bf,DID_REORDER_ITEMS:Ua,DID_SORT_ITEMS:Ua}),Sf=ot({tag:"fieldset",name:"data",create:_f,write:xf,ignoreRect:!0}),Cf=t=>"getRootNode"in t?t.getRootNode():document,Af=["jpg","jpeg","png","gif","bmp","webp","svg","tiff"],Of=["css","csv","html","txt"],Rf={zip:"zip|compressed",epub:"application/epub+zip"},Ul=(t="")=>(t=t.toLowerCase(),Af.includes(t)?"image/"+(t==="jpg"?"jpeg":t==="svg"?"svg+xml":t):Of.includes(t)?"text/"+t:Rf[t]||""),qo=t=>new Promise((e,n)=>{const i=$f(t);if(i.length&&!Df(t))return e(i);Lf(t).then(e)}),Df=t=>t.files?t.files.length>0:!1,Lf=t=>new Promise((e,n)=>{const i=(t.items?Array.from(t.items):[]).filter(o=>Pf(o)).map(o=>Mf(o));if(!i.length){e(t.files?Array.from(t.files):[]);return}Promise.all(i).then(o=>{const u=[];o.forEach(d=>{u.push.apply(u,d)}),e(u.filter(d=>d).map(d=>(d._relativePath||(d._relativePath=d.webkitRelativePath),d)))}).catch(console.error)}),Pf=t=>{if(zl(t)){const e=Wo(t);if(e)return e.isFile||e.isDirectory}return t.kind==="file"},Mf=t=>new Promise((e,n)=>{if(kf(t)){Nf(Wo(t)).then(e).catch(n);return}e([t.getAsFile()])}),Nf=t=>new Promise((e,n)=>{const i=[];let o=0,u=0;const d=()=>{u===0&&o===0&&e(i)},g=m=>{o++;const T=m.createReader(),b=()=>{T.readEntries(A=>{if(A.length===0){o--,d();return}A.forEach(N=>{N.isDirectory?g(N):(u++,N.file(P=>{const x=Ff(P);N.fullPath&&(x._relativePath=N.fullPath),i.push(x),u--,d()}))}),b()},n)};b()};g(t)}),Ff=t=>{if(t.type.length)return t;const e=t.lastModifiedDate,n=t.name,i=Ul(Ur(t.name));return i.length&&(t=t.slice(0,t.size,i),t.name=n,t.lastModifiedDate=e),t},kf=t=>zl(t)&&(Wo(t)||{}).isDirectory,zl=t=>"webkitGetAsEntry"in t,Wo=t=>t.webkitGetAsEntry(),$f=t=>{let e=[];try{if(e=Gf(t),e.length)return e;e=Bf(t)}catch{}return e},Bf=t=>{let e=t.getData("url");return typeof e=="string"&&e.length?[e]:[]},Gf=t=>{let e=t.getData("text/html");if(typeof e=="string"&&e.length){const n=e.match(/src\s*=\s*"(.+?)"/);if(n)return[n[1]]}return[]},Fr=[],Ai=t=>({pageLeft:t.pageX,pageTop:t.pageY,scopeLeft:t.offsetX||t.layerX,scopeTop:t.offsetY||t.layerY}),Hf=(t,e,n)=>{const i=Uf(e),o={element:t,filterElement:n,state:null,ondrop:()=>{},onenter:()=>{},ondrag:()=>{},onexit:()=>{},onload:()=>{},allowdrop:()=>{}};return o.destroy=i.addListener(o),o},Uf=t=>{const e=Fr.find(i=>i.element===t);if(e)return e;const n=zf(t);return Fr.push(n),n},zf=t=>{const e=[],n={dragenter:qf,dragover:Wf,dragleave:Yf,drop:jf},i={};Je(n,(u,d)=>{i[u]=d(t,e),t.addEventListener(u,i[u],!1)});const o={element:t,addListener:u=>(e.push(u),()=>{e.splice(e.indexOf(u),1),e.length===0&&(Fr.splice(Fr.indexOf(o),1),Je(n,d=>{t.removeEventListener(d,i[d],!1)}))})};return o},Vf=(t,e)=>("elementFromPoint"in t||(t=document),t.elementFromPoint(e.x,e.y)),jo=(t,e)=>{const n=Cf(e),i=Vf(n,{x:t.pageX-window.pageXOffset,y:t.pageY-window.pageYOffset});return i===e||e.contains(i)};let Vl=null;const Ir=(t,e)=>{try{t.dropEffect=e}catch{}},qf=(t,e)=>n=>{n.preventDefault(),Vl=n.target,e.forEach(i=>{const{element:o,onenter:u}=i;jo(n,o)&&(i.state="enter",u(Ai(n)))})},Wf=(t,e)=>n=>{n.preventDefault();const i=n.dataTransfer;qo(i).then(o=>{let u=!1;e.some(d=>{const{filterElement:g,element:m,onenter:T,onexit:b,ondrag:A,allowdrop:N}=d;Ir(i,"copy");const P=N(o);if(!P){Ir(i,"none");return}if(jo(n,m)){if(u=!0,d.state===null){d.state="enter",T(Ai(n));return}if(d.state="over",g&&!P){Ir(i,"none");return}A(Ai(n))}else g&&!u&&Ir(i,"none"),d.state&&(d.state=null,b(Ai(n)))})})},jf=(t,e)=>n=>{n.preventDefault();const i=n.dataTransfer;qo(i).then(o=>{e.forEach(u=>{const{filterElement:d,element:g,ondrop:m,onexit:T,allowdrop:b}=u;if(u.state=null,!(d&&!jo(n,g))){if(!b(o))return T(Ai(n));m(Ai(n),o)}})})},Yf=(t,e)=>n=>{Vl===n.target&&e.forEach(i=>{const{onexit:o}=i;i.state=null,o(Ai(n))})},Xf=(t,e,n)=>{t.classList.add("filepond--hopper");const{catchesDropsOnPage:i,requiresDropOnElement:o,filterItems:u=b=>b}=n,d=Hf(t,i?document.documentElement:t,o);let g="",m="";d.allowdrop=b=>e(u(b)),d.ondrop=(b,A)=>{const N=u(A);if(!e(N)){T.ondragend(b);return}m="drag-drop",T.onload(N,b)},d.ondrag=b=>{T.ondrag(b)},d.onenter=b=>{m="drag-over",T.ondragstart(b)},d.onexit=b=>{m="drag-exit",T.ondragend(b)};const T={updateHopperState:()=>{g!==m&&(t.dataset.hopperState=m,g=m)},onload:()=>{},ondragstart:()=>{},ondrag:()=>{},ondragend:()=>{},destroy:()=>{d.destroy()}};return T};let Co=!1;const ns=[],ql=t=>{const e=document.activeElement;if(e&&/textarea|input/i.test(e.nodeName)){let n=!1,i=e;for(;i!==document.body;){if(i.classList.contains("filepond--root")){n=!0;break}i=i.parentNode}if(!n)return}qo(t.clipboardData).then(n=>{n.length&&ns.forEach(i=>i(n))})},Zf=t=>{ns.includes(t)||(ns.push(t),!Co&&(Co=!0,document.addEventListener("paste",ql)))},Qf=t=>{$o(ns,ns.indexOf(t)),ns.length===0&&(document.removeEventListener("paste",ql),Co=!1)},Kf=()=>{const t=n=>{e.onload(n)},e={destroy:()=>{Qf(t)},onload:()=>{}};return Zf(t),e},Jf=({root:t,props:e})=>{t.element.id=`filepond--assistant-${e.id}`,ct(t.element,"role","status"),ct(t.element,"aria-live","polite"),ct(t.element,"aria-relevant","additions")};let za=null,Va=null;const mo=[],Vr=(t,e)=>{t.element.textContent=e},eh=t=>{t.element.textContent=""},Wl=(t,e,n)=>{const i=t.query("GET_TOTAL_ITEMS");Vr(t,`${n} ${e}, ${i} ${i===1?t.query("GET_LABEL_FILE_COUNT_SINGULAR"):t.query("GET_LABEL_FILE_COUNT_PLURAL")}`),clearTimeout(Va),Va=setTimeout(()=>{eh(t)},1500)},jl=t=>t.element.parentNode.contains(document.activeElement),th=({root:t,action:e})=>{if(!jl(t))return;t.element.textContent="";const n=t.query("GET_ITEM",e.id);mo.push(n.filename),clearTimeout(za),za=setTimeout(()=>{Wl(t,mo.join(", "),t.query("GET_LABEL_FILE_ADDED")),mo.length=0},750)},nh=({root:t,action:e})=>{if(!jl(t))return;const n=e.item;Wl(t,n.filename,t.query("GET_LABEL_FILE_REMOVED"))},ih=({root:t,action:e})=>{const i=t.query("GET_ITEM",e.id).filename,o=t.query("GET_LABEL_FILE_PROCESSING_COMPLETE");Vr(t,`${i} ${o}`)},qa=({root:t,action:e})=>{const i=t.query("GET_ITEM",e.id).filename,o=t.query("GET_LABEL_FILE_PROCESSING_ABORTED");Vr(t,`${i} ${o}`)},xr=({root:t,action:e})=>{const i=t.query("GET_ITEM",e.id).filename;Vr(t,`${e.status.main} ${i} ${e.status.sub}`)},sh=ot({create:Jf,ignoreRect:!0,ignoreRectUpdate:!0,write:Lt({DID_LOAD_ITEM:th,DID_REMOVE_ITEM:nh,DID_COMPLETE_ITEM_PROCESSING:ih,DID_ABORT_ITEM_PROCESSING:qa,DID_REVERT_ITEM_PROCESSING:qa,DID_THROW_ITEM_REMOVE_ERROR:xr,DID_THROW_ITEM_LOAD_ERROR:xr,DID_THROW_ITEM_INVALID:xr,DID_THROW_ITEM_PROCESSING_ERROR:xr}),tag:"span",name:"assistant"}),Yl=(t,e="-")=>t.replace(new RegExp(`${e}.`,"g"),n=>n.charAt(1).toUpperCase()),Xl=(t,e=16,n=!0)=>{let i=Date.now(),o=null;return(...u)=>{clearTimeout(o);const d=Date.now()-i,g=()=>{i=Date.now(),t(...u)};d<e?n||(o=setTimeout(g,e-d)):g()}},rh=1e6,kr=t=>t.preventDefault(),oh=({root:t,props:e})=>{const n=t.query("GET_ID");n&&(t.element.id=n);const i=t.query("GET_CLASS_NAME");i&&i.split(" ").filter(m=>m.length).forEach(m=>{t.element.classList.add(m)}),t.ref.label=t.appendChildView(t.createChildView(cf,{...e,translateY:null,caption:t.query("GET_LABEL_IDLE")})),t.ref.list=t.appendChildView(t.createChildView(nf,{translateY:null})),t.ref.panel=t.appendChildView(t.createChildView(Ml,{name:"panel-root"})),t.ref.assistant=t.appendChildView(t.createChildView(sh,{...e})),t.ref.data=t.appendChildView(t.createChildView(Sf,{...e})),t.ref.measure=jn("div"),t.ref.measure.style.height="100%",t.element.appendChild(t.ref.measure),t.ref.bounds=null,t.query("GET_STYLES").filter(m=>!Wn(m.value)).map(({name:m,value:T})=>{t.element.dataset[m]=T}),t.ref.widthPrevious=null,t.ref.widthUpdated=Xl(()=>{t.ref.updateHistory=[],t.dispatch("DID_RESIZE_ROOT")},250),t.ref.previousAspectRatio=null,t.ref.updateHistory=[];const o=window.matchMedia("(pointer: fine) and (hover: hover)").matches,u="PointerEvent"in window;t.query("GET_ALLOW_REORDER")&&u&&!o&&(t.element.addEventListener("touchmove",kr,{passive:!1}),t.element.addEventListener("gesturestart",kr));const d=t.query("GET_CREDITS");if(d.length===2){const m=document.createElement("a");m.className="filepond--credits",m.href=d[0],m.tabIndex=-1,m.target="_blank",m.rel="noopener noreferrer",m.textContent=d[1],t.element.appendChild(m),t.ref.credits=m}},ah=({root:t,props:e,actions:n})=>{if(fh({root:t,props:e,actions:n}),n.filter(f=>/^DID_SET_STYLE_/.test(f.type)).filter(f=>!Wn(f.data.value)).map(({type:f,data:fe})=>{const ee=Yl(f.substring(8).toLowerCase(),"_");t.element.dataset[ee]=fe.value,t.invalidateLayout()}),t.rect.element.hidden)return;t.rect.element.width!==t.ref.widthPrevious&&(t.ref.widthPrevious=t.rect.element.width,t.ref.widthUpdated());let i=t.ref.bounds;i||(i=t.ref.bounds=uh(t),t.element.removeChild(t.ref.measure),t.ref.measure=null);const{hopper:o,label:u,list:d,panel:g}=t.ref;o&&o.updateHopperState();const m=t.query("GET_PANEL_ASPECT_RATIO"),T=t.query("GET_ALLOW_MULTIPLE"),b=t.query("GET_TOTAL_ITEMS"),A=T?t.query("GET_MAX_FILES")||rh:1,N=b===A,P=n.find(f=>f.type==="DID_ADD_ITEM");if(N&&P){const f=P.data.interactionMethod;u.opacity=0,T?u.translateY=-40:f===en.API?u.translateX=40:f===en.BROWSE?u.translateY=40:u.translateY=30}else N||(u.opacity=1,u.translateX=0,u.translateY=0);const x=lh(t),D=ch(t),k=u.rect.element.height,z=!T||N?0:k,B=N?d.rect.element.marginTop:0,H=b===0?0:d.rect.element.marginBottom,Y=z+B+D.visual+H,J=z+B+D.bounds+H;if(d.translateY=Math.max(0,z-d.rect.element.marginTop)-x.top,m){const f=t.rect.element.width,fe=f*m;m!==t.ref.previousAspectRatio&&(t.ref.previousAspectRatio=m,t.ref.updateHistory=[]);const ee=t.ref.updateHistory;ee.push(f);const W=2;if(ee.length>W*2){const ae=ee.length,de=ae-10;let me=0;for(let re=ae;re>=de;re--)if(ee[re]===ee[re-2]&&me++,me>=W)return}g.scalable=!1,g.height=fe;const X=fe-z-(H-x.bottom)-(N?B:0);D.visual>X?d.overflow=X:d.overflow=null,t.height=fe}else if(i.fixedHeight){g.scalable=!1;const f=i.fixedHeight-z-(H-x.bottom)-(N?B:0);D.visual>f?d.overflow=f:d.overflow=null}else if(i.cappedHeight){const f=Y>=i.cappedHeight,fe=Math.min(i.cappedHeight,Y);g.scalable=!0,g.height=f?fe:fe-x.top-x.bottom;const ee=fe-z-(H-x.bottom)-(N?B:0);Y>i.cappedHeight&&D.visual>ee?d.overflow=ee:d.overflow=null,t.height=Math.min(i.cappedHeight,J-x.top-x.bottom)}else{const f=b>0?x.top+x.bottom:0;g.scalable=!0,g.height=Math.max(k,Y-f),t.height=Math.max(k,J-f)}t.ref.credits&&g.heightCurrent&&(t.ref.credits.style.transform=`translateY(${g.heightCurrent}px)`)},lh=t=>{const e=t.ref.list.childViews[0].childViews[0];return e?{top:e.rect.element.marginTop,bottom:e.rect.element.marginBottom}:{top:0,bottom:0}},ch=t=>{let e=0,n=0;const i=t.ref.list,o=i.childViews[0],u=o.childViews.filter(B=>B.rect.element.height),d=t.query("GET_ACTIVE_ITEMS").map(B=>u.find(H=>H.id===B.id)).filter(B=>B);if(d.length===0)return{visual:e,bounds:n};const g=o.rect.element.width,m=zo(o,d,i.dragCoordinates),T=d[0].rect.element,b=T.marginTop+T.marginBottom,A=T.marginLeft+T.marginRight,N=T.width+A,P=T.height+b,x=typeof m<"u"&&m>=0?1:0,D=d.find(B=>B.markedForRemoval&&B.opacity<.45)?-1:0,k=d.length+x+D,z=Uo(g,N);return z===1?d.forEach(B=>{const H=B.rect.element.height+b;n+=H,e+=H*B.opacity}):(n=Math.ceil(k/z)*P,e=n),{visual:e,bounds:n}},uh=t=>{const e=t.ref.measureHeight||null;return{cappedHeight:parseInt(t.style.maxHeight,10)||null,fixedHeight:e===0?null:e}},Yo=(t,e)=>{const n=t.query("GET_ALLOW_REPLACE"),i=t.query("GET_ALLOW_MULTIPLE"),o=t.query("GET_TOTAL_ITEMS");let u=t.query("GET_MAX_FILES");const d=e.length;return!i&&d>1?(t.dispatch("DID_THROW_MAX_FILES",{source:e,error:it("warning",0,"Max files")}),!0):(u=i?u:1,!i&&n?!1:os(u)&&o+d>u?(t.dispatch("DID_THROW_MAX_FILES",{source:e,error:it("warning",0,"Max files")}),!0):!1)},dh=(t,e,n)=>{const i=t.childViews[0];return zo(i,e,{left:n.scopeLeft-i.rect.element.left,top:n.scopeTop-(t.rect.outer.top+t.rect.element.marginTop+t.rect.element.scrollTop)})},Wa=t=>{const e=t.query("GET_ALLOW_DROP"),n=t.query("GET_DISABLED"),i=e&&!n;if(i&&!t.ref.hopper){const o=Xf(t.element,u=>{const d=t.query("GET_BEFORE_DROP_FILE")||(()=>!0);return t.query("GET_DROP_VALIDATION")?u.every(m=>Oi("ALLOW_HOPPER_ITEM",m,{query:t.query}).every(T=>T===!0)&&d(m)):!0},{filterItems:u=>{const d=t.query("GET_IGNORED_FILES");return u.filter(g=>Ci(g)?!d.includes(g.name.toLowerCase()):!0)},catchesDropsOnPage:t.query("GET_DROP_ON_PAGE"),requiresDropOnElement:t.query("GET_DROP_ON_ELEMENT")});o.onload=(u,d)=>{const m=t.ref.list.childViews[0].childViews.filter(b=>b.rect.element.height),T=t.query("GET_ACTIVE_ITEMS").map(b=>m.find(A=>A.id===b.id)).filter(b=>b);gn("ADD_ITEMS",u,{dispatch:t.dispatch}).then(b=>{if(Yo(t,b))return!1;t.dispatch("ADD_ITEMS",{items:b,index:dh(t.ref.list,T,d),interactionMethod:en.DROP})}),t.dispatch("DID_DROP",{position:d}),t.dispatch("DID_END_DRAG",{position:d})},o.ondragstart=u=>{t.dispatch("DID_START_DRAG",{position:u})},o.ondrag=Xl(u=>{t.dispatch("DID_DRAG",{position:u})}),o.ondragend=u=>{t.dispatch("DID_END_DRAG",{position:u})},t.ref.hopper=o,t.ref.drip=t.appendChildView(t.createChildView(yf))}else!i&&t.ref.hopper&&(t.ref.hopper.destroy(),t.ref.hopper=null,t.removeChildView(t.ref.drip))},ja=(t,e)=>{const n=t.query("GET_ALLOW_BROWSE"),i=t.query("GET_DISABLED"),o=n&&!i;o&&!t.ref.browser?t.ref.browser=t.appendChildView(t.createChildView(af,{...e,onload:u=>{gn("ADD_ITEMS",u,{dispatch:t.dispatch}).then(d=>{if(Yo(t,d))return!1;t.dispatch("ADD_ITEMS",{items:d,index:-1,interactionMethod:en.BROWSE})})}}),0):!o&&t.ref.browser&&(t.removeChildView(t.ref.browser),t.ref.browser=null)},Ya=t=>{const e=t.query("GET_ALLOW_PASTE"),n=t.query("GET_DISABLED"),i=e&&!n;i&&!t.ref.paster?(t.ref.paster=Kf(),t.ref.paster.onload=o=>{gn("ADD_ITEMS",o,{dispatch:t.dispatch}).then(u=>{if(Yo(t,u))return!1;t.dispatch("ADD_ITEMS",{items:u,index:-1,interactionMethod:en.PASTE})})}):!i&&t.ref.paster&&(t.ref.paster.destroy(),t.ref.paster=null)},fh=Lt({DID_SET_ALLOW_BROWSE:({root:t,props:e})=>{ja(t,e)},DID_SET_ALLOW_DROP:({root:t})=>{Wa(t)},DID_SET_ALLOW_PASTE:({root:t})=>{Ya(t)},DID_SET_DISABLED:({root:t,props:e})=>{Wa(t),Ya(t),ja(t,e),t.query("GET_DISABLED")?t.element.dataset.disabled="disabled":t.element.removeAttribute("data-disabled")}}),hh=ot({name:"root",read:({root:t})=>{t.ref.measure&&(t.ref.measureHeight=t.ref.measure.offsetHeight)},create:oh,write:ah,destroy:({root:t})=>{t.ref.paster&&t.ref.paster.destroy(),t.ref.hopper&&t.ref.hopper.destroy(),t.element.removeEventListener("touchmove",kr),t.element.removeEventListener("gesturestart",kr)},mixins:{styles:["height"]}}),ph=(t={})=>{let e=null;const n=Nr(),i=Rc(gu(n),[Pu,_u(n)],[sd,yu(n)]);i.dispatch("SET_OPTIONS",{options:t});const o=()=>{document.hidden||i.dispatch("KICK")};document.addEventListener("visibilitychange",o);let u=null,d=!1,g=!1,m=null,T=null;const b=()=>{d||(d=!0),clearTimeout(u),u=setTimeout(()=>{d=!1,m=null,T=null,g&&(g=!1,i.dispatch("DID_STOP_RESIZE"))},500)};window.addEventListener("resize",b);const A=hh(i,{id:ko()});let N=!1,P=!1;const x={_read:()=>{d&&(T=window.innerWidth,m||(m=T),!g&&T!==m&&(i.dispatch("DID_START_RESIZE"),g=!0)),P&&N&&(N=A.element.offsetParent===null),!N&&(A._read(),P=A.rect.element.hidden)},_write:K=>{const le=i.processActionQueue().filter(F=>!/^SET_/.test(F.type));N&&!le.length||(B(le),N=A._write(K,le,g),bu(i.query("GET_ITEMS")),N&&i.processDispatchQueue())}},D=K=>le=>{const F={type:K};if(!le)return F;if(le.hasOwnProperty("error")&&(F.error=le.error?{...le.error}:null),le.status&&(F.status={...le.status}),le.file&&(F.output=le.file),le.source)F.file=le.source;else if(le.item||le.id){const C=le.item?le.item:i.query("GET_ITEM",le.id);F.file=C?Ft(C):null}return le.items&&(F.items=le.items.map(Ft)),/progress/.test(K)&&(F.progress=le.progress),le.hasOwnProperty("origin")&&le.hasOwnProperty("target")&&(F.origin=le.origin,F.target=le.target),F},k={DID_DESTROY:D("destroy"),DID_INIT:D("init"),DID_THROW_MAX_FILES:D("warning"),DID_INIT_ITEM:D("initfile"),DID_START_ITEM_LOAD:D("addfilestart"),DID_UPDATE_ITEM_LOAD_PROGRESS:D("addfileprogress"),DID_LOAD_ITEM:D("addfile"),DID_THROW_ITEM_INVALID:[D("error"),D("addfile")],DID_THROW_ITEM_LOAD_ERROR:[D("error"),D("addfile")],DID_THROW_ITEM_REMOVE_ERROR:[D("error"),D("removefile")],DID_PREPARE_OUTPUT:D("preparefile"),DID_START_ITEM_PROCESSING:D("processfilestart"),DID_UPDATE_ITEM_PROCESS_PROGRESS:D("processfileprogress"),DID_ABORT_ITEM_PROCESSING:D("processfileabort"),DID_COMPLETE_ITEM_PROCESSING:D("processfile"),DID_COMPLETE_ITEM_PROCESSING_ALL:D("processfiles"),DID_REVERT_ITEM_PROCESSING:D("processfilerevert"),DID_THROW_ITEM_PROCESSING_ERROR:[D("error"),D("processfile")],DID_REMOVE_ITEM:D("removefile"),DID_UPDATE_ITEMS:D("updatefiles"),DID_ACTIVATE_ITEM:D("activatefile"),DID_REORDER_ITEMS:D("reorderfiles")},z=K=>{const le={pond:xe,...K};delete le.type,A.element.dispatchEvent(new CustomEvent(`FilePond:${K.type}`,{detail:le,bubbles:!0,cancelable:!0,composed:!0}));const F=[];K.hasOwnProperty("error")&&F.push(K.error),K.hasOwnProperty("file")&&F.push(K.file);const C=["type","error","file"];Object.keys(K).filter(ue=>!C.includes(ue)).forEach(ue=>F.push(K[ue])),xe.fire(K.type,...F);const te=i.query(`GET_ON${K.type.toUpperCase()}`);te&&te(...F)},B=K=>{K.length&&K.filter(le=>k[le.type]).forEach(le=>{const F=k[le.type];(Array.isArray(F)?F:[F]).forEach(C=>{le.type==="DID_INIT_ITEM"?z(C(le.data)):setTimeout(()=>{z(C(le.data))},0)})})},H=K=>i.dispatch("SET_OPTIONS",{options:K}),Y=K=>i.query("GET_ACTIVE_ITEM",K),J=K=>new Promise((le,F)=>{i.dispatch("REQUEST_ITEM_PREPARE",{query:K,success:C=>{le(C)},failure:C=>{F(C)}})}),f=(K,le={})=>new Promise((F,C)=>{W([{source:K,options:le}],{index:le.index}).then(te=>F(te&&te[0])).catch(C)}),fe=K=>K.file&&K.id,ee=(K,le)=>(typeof K=="object"&&!fe(K)&&!le&&(le=K,K=void 0),i.dispatch("REMOVE_ITEM",{...le,query:K}),i.query("GET_ACTIVE_ITEM",K)===null),W=(...K)=>new Promise((le,F)=>{const C=[],te={};if($r(K[0]))C.push.apply(C,K[0]),Object.assign(te,K[1]||{});else{const ue=K[K.length-1];typeof ue=="object"&&!(ue instanceof Blob)&&Object.assign(te,K.pop()),C.push(...K)}i.dispatch("ADD_ITEMS",{items:C,index:te.index,interactionMethod:en.API,success:le,failure:F})}),X=()=>i.query("GET_ACTIVE_ITEMS"),ae=K=>new Promise((le,F)=>{i.dispatch("REQUEST_ITEM_PROCESSING",{query:K,success:C=>{le(C)},failure:C=>{F(C)}})}),de=(...K)=>{const le=Array.isArray(K[0])?K[0]:K,F=le.length?le:X();return Promise.all(F.map(J))},me=(...K)=>{const le=Array.isArray(K[0])?K[0]:K;if(!le.length){const F=X().filter(C=>!(C.status===Oe.IDLE&&C.origin===lt.LOCAL)&&C.status!==Oe.PROCESSING&&C.status!==Oe.PROCESSING_COMPLETE&&C.status!==Oe.PROCESSING_REVERT_ERROR);return Promise.all(F.map(ae))}return Promise.all(le.map(ae))},re=(...K)=>{const le=Array.isArray(K[0])?K[0]:K;let F;typeof le[le.length-1]=="object"?F=le.pop():Array.isArray(K[0])&&(F=K[1]);const C=X();return le.length?le.map(ue=>Ti(ue)?C[ue]?C[ue].id:null:ue).filter(ue=>ue).map(ue=>ee(ue,F)):Promise.all(C.map(ue=>ee(ue,F)))},xe={...Hr(),...x,...mu(i,n),setOptions:H,addFile:f,addFiles:W,getFile:Y,processFile:ae,prepareFile:J,removeFile:ee,moveFile:(K,le)=>i.dispatch("MOVE_ITEM",{query:K,index:le}),getFiles:X,processFiles:me,removeFiles:re,prepareFiles:de,sort:K=>i.dispatch("SORT",{compare:K}),browse:()=>{var K=A.element.querySelector("input[type=file]");K&&K.click()},destroy:()=>{xe.fire("destroy",A.element),i.dispatch("ABORT_ALL"),A._destroy(),window.removeEventListener("resize",b),document.removeEventListener("visibilitychange",o),i.dispatch("DID_DESTROY")},insertBefore:K=>ya(A.element,K),insertAfter:K=>_a(A.element,K),appendTo:K=>K.appendChild(A.element),replaceElement:K=>{ya(A.element,K),K.parentNode.removeChild(K),e=K},restoreElement:()=>{e&&(_a(e,A.element),A.element.parentNode.removeChild(A.element),e=null)},isAttachedTo:K=>A.element===K||e===K,element:{get:()=>A.element},status:{get:()=>i.query("GET_STATUS")}};return i.dispatch("DID_INIT"),ii(xe)},Zl=(t={})=>{const e={};return Je(Nr(),(i,o)=>{e[i]=o[0]}),ph({...e,...t})},gh=t=>t.charAt(0).toLowerCase()+t.slice(1),mh=t=>Yl(t.replace(/^data-/,"")),Ql=(t,e)=>{Je(e,(n,i)=>{Je(t,(o,u)=>{const d=new RegExp(n);if(!d.test(o)||(delete t[o],i===!1))return;if(Dt(i)){t[i]=u;return}const m=i.group;ht(i)&&!t[m]&&(t[m]={}),t[m][gh(o.replace(d,""))]=u}),i.mapping&&Ql(t[i.group],i.mapping)})},yh=(t,e={})=>{const n=[];Je(t.attributes,o=>{n.push(t.attributes[o])});const i=n.filter(o=>o.name).reduce((o,u)=>{const d=ct(t,u.name);return o[mh(u.name)]=d===u.name?!0:d,o},{});return Ql(i,e),i},_h=(t,e={})=>{const n={"^class$":"className","^multiple$":"allowMultiple","^capture$":"captureMethod","^webkitdirectory$":"allowDirectoriesOnly","^server":{group:"server",mapping:{"^process":{group:"process"},"^revert":{group:"revert"},"^fetch":{group:"fetch"},"^restore":{group:"restore"},"^load":{group:"load"}}},"^type$":!1,"^files$":!1};Oi("SET_ATTRIBUTE_TO_OPTION_MAP",n);const i={...e},o=yh(t.nodeName==="FIELDSET"?t.querySelector("input[type=file]"):t,n);Object.keys(o).forEach(d=>{ht(o[d])?(ht(i[d])||(i[d]={}),Object.assign(i[d],o[d])):i[d]=o[d]}),i.files=(e.files||[]).concat(Array.from(t.querySelectorAll("input:not([type=file])")).map(d=>({source:d.value,options:{type:d.dataset.type}})));const u=Zl(i);return t.files&&Array.from(t.files).forEach(d=>{u.addFile(d)}),u.replaceElement(t),u},Eh=(...t)=>Oc(t[0])?_h(...t):Zl(...t),vh=["fire","_read","_write"],Xa=t=>{const e={};return _l(t,e,vh),e},bh=(t,e)=>t.replace(/(?:{([a-zA-Z]+)})/g,(n,i)=>e[i]),Th=t=>{const e=new Blob(["(",t.toString(),")()"],{type:"application/javascript"}),n=URL.createObjectURL(e),i=new Worker(n);return{transfer:(o,u)=>{},post:(o,u,d)=>{const g=ko();i.onmessage=m=>{m.data.id===g&&u(m.data.message)},i.postMessage({id:g,message:o},d)},terminate:()=>{i.terminate(),URL.revokeObjectURL(n)}}},wh=t=>new Promise((e,n)=>{const i=new Image;i.onload=()=>{e(i)},i.onerror=o=>{n(o)},i.src=t}),Kl=(t,e)=>{const n=t.slice(0,t.size,t.type);return n.lastModifiedDate=t.lastModifiedDate,n.name=e,n},Ih=t=>Kl(t,t.name),Za=[],xh=t=>{if(Za.includes(t))return;Za.push(t);const e=t({addFilter:wu,utils:{Type:ne,forin:Je,isString:Dt,isFile:Ci,toNaturalFileSize:Dl,replaceInString:bh,getExtensionFromFilename:Ur,getFilenameWithoutExtension:Al,guesstimateMimeType:Ul,getFileFromBlob:rs,getFilenameFromURL:ks,createRoute:Lt,createWorker:Th,createView:ot,createItemAPI:Ft,loadImage:wh,copyFile:Ih,renameFile:Kl,createBlob:xl,applyFilterChain:gn,text:st,getNumericAspectRatioFromString:bl},views:{fileActionButton:Rl}});Iu(e.options)},Sh=()=>Object.prototype.toString.call(window.operamini)==="[object OperaMini]",Ch=()=>"Promise"in window,Ah=()=>"slice"in Blob.prototype,Oh=()=>"URL"in window&&"createObjectURL"in window.URL,Rh=()=>"visibilityState"in document,Dh=()=>"performance"in window,Lh=()=>"supports"in(window.CSS||{}),Ph=()=>/MSIE|Trident/.test(window.navigator.userAgent),Ao=(()=>{const t=fl()&&!Sh()&&Rh()&&Ch()&&Ah()&&Oh()&&Dh()&&(Lh()||Ph());return()=>t})(),ni={apps:[]},Mh="filepond",Ri=()=>{};let Jl={},ec={},tc={},Oo={},Or=Ri,Rr=Ri,Ro=Ri,Do=Ri,Lo=Ri,Po=Ri,Mo=Ri;if(Ao()){tu(()=>{ni.apps.forEach(n=>n._read())},n=>{ni.apps.forEach(i=>i._write(n))});const t=()=>{document.dispatchEvent(new CustomEvent("FilePond:loaded",{detail:{supported:Ao,create:Or,destroy:Rr,parse:Ro,find:Do,registerPlugin:Lo,setOptions:Mo}})),document.removeEventListener("DOMContentLoaded",t)};document.readyState!=="loading"?setTimeout(()=>t(),0):document.addEventListener("DOMContentLoaded",t);const e=()=>Je(Nr(),(n,i)=>{Oo[n]=i[1]});Jl={...Tl},tc={...lt},ec={...Oe},Oo={},e(),Or=(...n)=>{const i=Eh(...n);return i.on("destroy",Rr),ni.apps.push(i),Xa(i)},Rr=n=>{const i=ni.apps.findIndex(o=>o.isAttachedTo(n));return i>=0?(ni.apps.splice(i,1)[0].restoreElement(),!0):!1},Ro=n=>Array.from(n.querySelectorAll(`.${Mh}`)).filter(u=>!ni.apps.find(d=>d.isAttachedTo(u))).map(u=>Or(u)),Do=n=>{const i=ni.apps.find(o=>o.isAttachedTo(n));return i?Xa(i):null},Lo=(...n)=>{n.forEach(xh),e()},Po=()=>{const n={};return Je(Nr(),(i,o)=>{n[i]=o[0]}),n},Mo=n=>(ht(n)&&(ni.apps.forEach(i=>{i.setOptions(n)}),xu(n)),Po())}const Bp=Object.freeze(Object.defineProperty({__proto__:null,get FileOrigin(){return tc},get FileStatus(){return ec},get OptionTypes(){return Oo},get Status(){return Jl},get create(){return Or},get destroy(){return Rr},get find(){return Do},get getOptions(){return Po},get parse(){return Ro},get registerPlugin(){return Lo},get setOptions(){return Mo},supported:Ao},Symbol.toStringTag,{value:"Module"})),Gp={labelIdle:'Ø§Ø³Ø­Ø¨ Ù Ø§Ø¯Ø±Ø¬ ÙÙÙØ§ØªÙ Ø£Ù <span class="filepond--label-action"> ØªØµÙØ­ </span>',labelInvalidField:"Ø§ÙØ­ÙÙ ÙØ­ØªÙÙ Ø¹ÙÙ ÙÙÙØ§Øª ØºÙØ± ØµØ§ÙØ­Ø©",labelFileWaitingForSize:"Ø¨Ø§ÙØªØ¸Ø§Ø± Ø§ÙØ­Ø¬Ù",labelFileSizeNotAvailable:"Ø§ÙØ­Ø¬Ù ØºÙØ± ÙØªØ§Ø­",labelFileLoading:"Ø¨Ø§ÙØ¥ÙØªØ¸Ø§Ø±",labelFileLoadError:"Ø­Ø¯Ø« Ø®Ø·Ø£ Ø£Ø«ÙØ§Ø¡ Ø§ÙØªØ­ÙÙÙ",labelFileProcessing:"ÙØªÙ Ø§ÙØ±ÙØ¹",labelFileProcessingComplete:"ØªÙ Ø§ÙØ±ÙØ¹",labelFileProcessingAborted:"ØªÙ Ø¥ÙØºØ§Ø¡ Ø§ÙØ±ÙØ¹",labelFileProcessingError:"Ø­Ø¯Ø« Ø®Ø·Ø£ Ø£Ø«ÙØ§Ø¡ Ø§ÙØ±ÙØ¹",labelFileProcessingRevertError:"Ø­Ø¯Ø« Ø®Ø·Ø£ Ø£Ø«ÙØ§Ø¡ Ø§ÙØªØ±Ø§Ø¬Ø¹",labelFileRemoveError:"Ø­Ø¯Ø« Ø®Ø·Ø£ Ø£Ø«ÙØ§Ø¡ Ø§ÙØ­Ø°Ù",labelTapToCancel:"Ø§ÙÙØ± ÙÙØ¥ÙØºØ§Ø¡",labelTapToRetry:"Ø§ÙÙØ± ÙØ¥Ø¹Ø§Ø¯Ø© Ø§ÙÙØ­Ø§ÙÙØ©",labelTapToUndo:"Ø§ÙÙØ± ÙÙØªØ±Ø§Ø¬Ø¹",labelButtonRemoveItem:"ÙØ³Ø­",labelButtonAbortItemLoad:"Ø¥ÙØºØ§Ø¡",labelButtonRetryItemLoad:"Ø¥Ø¹Ø§Ø¯Ø©",labelButtonAbortItemProcessing:"Ø¥ÙØºØ§Ø¡",labelButtonUndoItemProcessing:"ØªØ±Ø§Ø¬Ø¹",labelButtonRetryItemProcessing:"Ø¥Ø¹Ø§Ø¯Ø©",labelButtonProcessItem:"Ø±ÙØ¹",labelMaxFileSizeExceeded:"Ø§ÙÙÙÙ ÙØ¨ÙØ± Ø¬Ø¯Ø§",labelMaxFileSize:"Ø­Ø¬Ù Ø§ÙÙÙÙ Ø§ÙØ£ÙØµÙ: {filesize}",labelMaxTotalFileSizeExceeded:"ØªÙ ØªØ¬Ø§ÙØ² Ø§ÙØ­Ø¯ Ø§ÙØ£ÙØµÙ ÙÙØ­Ø¬Ù Ø§ÙØ¥Ø¬ÙØ§ÙÙ",labelMaxTotalFileSize:"Ø§ÙØ­Ø¯ Ø§ÙØ£ÙØµÙ ÙØ­Ø¬Ù Ø§ÙÙÙÙ: {filesize}",labelFileTypeNotAllowed:"ÙÙÙ ÙÙ ÙÙØ¹ ØºÙØ± ØµØ§ÙØ­",fileValidateTypeLabelExpectedTypes:"ØªØªÙÙØ¹ {allButLastType} ÙÙ {lastType}",imageValidateSizeLabelFormatError:"ÙÙØ¹ Ø§ÙØµÙØ±Ø© ØºÙØ± ÙØ¯Ø¹ÙÙ",imageValidateSizeLabelImageSizeTooSmall:"Ø§ÙØµÙØ±Ø© ØµØºÙØ± Ø¬Ø¯Ø§",imageValidateSizeLabelImageSizeTooBig:"Ø§ÙØµÙØ±Ø© ÙØ¨ÙØ±Ø© Ø¬Ø¯Ø§",imageValidateSizeLabelExpectedMinSize:"Ø§ÙØ­Ø¯ Ø§ÙØ£Ø¯ÙÙ ÙÙØ£Ø¨Ø¹Ø§Ø¯ ÙÙ: {minWidth} Ã {minHeight}",imageValidateSizeLabelExpectedMaxSize:"Ø§ÙØ­Ø¯ Ø§ÙØ£ÙØµÙ ÙÙØ£Ø¨Ø¹Ø§Ø¯ ÙÙ: {maxWidth} Ã {maxHeight}",imageValidateSizeLabelImageResolutionTooLow:"Ø§ÙØ¯ÙØ© Ø¶Ø¹ÙÙØ© Ø¬Ø¯Ø§",imageValidateSizeLabelImageResolutionTooHigh:"Ø§ÙØ¯ÙØ© ÙØ±ØªÙØ¹Ø© Ø¬Ø¯Ø§",imageValidateSizeLabelExpectedMinResolution:"Ø£ÙÙ Ø¯ÙØ©: {minResolution}",imageValidateSizeLabelExpectedMaxResolution:"Ø£ÙØµÙ Ø¯ÙØ©: {maxResolution}"};/*!
 * FilePondPluginImagePreview 4.6.12
 * Licensed under MIT, https://opensource.org/licenses/MIT/
 * Please visit https://pqina.nl/filepond/ for details.
 */const Nh=t=>/^image/.test(t.type),Qa=(t,e)=>Fs(t.x*e,t.y*e),Ka=(t,e)=>Fs(t.x+e.x,t.y+e.y),Fh=t=>{const e=Math.sqrt(t.x*t.x+t.y*t.y);return e===0?{x:0,y:0}:Fs(t.x/e,t.y/e)},Sr=(t,e,n)=>{const i=Math.cos(e),o=Math.sin(e),u=Fs(t.x-n.x,t.y-n.y);return Fs(n.x+i*u.x-o*u.y,n.y+o*u.x+i*u.y)},Fs=(t=0,e=0)=>({x:t,y:e}),kt=(t,e,n=1,i)=>{if(typeof t=="string")return parseFloat(t)*n;if(typeof t=="number")return t*(i?e[i]:Math.min(e.width,e.height))},kh=(t,e,n)=>{const i=t.borderStyle||t.lineStyle||"solid",o=t.backgroundColor||t.fontColor||"transparent",u=t.borderColor||t.lineColor||"transparent",d=kt(t.borderWidth||t.lineWidth,e,n),g=t.lineCap||"round",m=t.lineJoin||"round",T=typeof i=="string"?"":i.map(A=>kt(A,e,n)).join(","),b=t.opacity||1;return{"stroke-linecap":g,"stroke-linejoin":m,"stroke-width":d||0,"stroke-dasharray":T,stroke:u,fill:o,opacity:b}},Jt=t=>t!=null,$h=(t,e,n=1)=>{let i=kt(t.x,e,n,"width")||kt(t.left,e,n,"width"),o=kt(t.y,e,n,"height")||kt(t.top,e,n,"height"),u=kt(t.width,e,n,"width"),d=kt(t.height,e,n,"height"),g=kt(t.right,e,n,"width"),m=kt(t.bottom,e,n,"height");return Jt(o)||(Jt(d)&&Jt(m)?o=e.height-d-m:o=m),Jt(i)||(Jt(u)&&Jt(g)?i=e.width-u-g:i=g),Jt(u)||(Jt(i)&&Jt(g)?u=e.width-i-g:u=0),Jt(d)||(Jt(o)&&Jt(m)?d=e.height-o-m:d=0),{x:i||0,y:o||0,width:u||0,height:d||0}},Bh=t=>t.map((e,n)=>`${n===0?"M":"L"} ${e.x} ${e.y}`).join(" "),Dn=(t,e)=>Object.keys(e).forEach(n=>t.setAttribute(n,e[n])),Gh="http://www.w3.org/2000/svg",es=(t,e)=>{const n=document.createElementNS(Gh,t);return e&&Dn(n,e),n},Hh=t=>Dn(t,{...t.rect,...t.styles}),Uh=t=>{const e=t.rect.x+t.rect.width*.5,n=t.rect.y+t.rect.height*.5,i=t.rect.width*.5,o=t.rect.height*.5;return Dn(t,{cx:e,cy:n,rx:i,ry:o,...t.styles})},zh={contain:"xMidYMid meet",cover:"xMidYMid slice"},Vh=(t,e)=>{Dn(t,{...t.rect,...t.styles,preserveAspectRatio:zh[e.fit]||"none"})},qh={left:"start",center:"middle",right:"end"},Wh=(t,e,n,i)=>{const o=kt(e.fontSize,n,i),u=e.fontFamily||"sans-serif",d=e.fontWeight||"normal",g=qh[e.textAlign]||"start";Dn(t,{...t.rect,...t.styles,"stroke-width":0,"font-weight":d,"font-size":o,"font-family":u,"text-anchor":g}),t.text!==e.text&&(t.text=e.text,t.textContent=e.text.length?e.text:" ")},jh=(t,e,n,i)=>{Dn(t,{...t.rect,...t.styles,fill:"none"});const o=t.childNodes[0],u=t.childNodes[1],d=t.childNodes[2],g=t.rect,m={x:t.rect.x+t.rect.width,y:t.rect.y+t.rect.height};if(Dn(o,{x1:g.x,y1:g.y,x2:m.x,y2:m.y}),!e.lineDecoration)return;u.style.display="none",d.style.display="none";const T=Fh({x:m.x-g.x,y:m.y-g.y}),b=kt(.05,n,i);if(e.lineDecoration.indexOf("arrow-begin")!==-1){const A=Qa(T,b),N=Ka(g,A),P=Sr(g,2,N),x=Sr(g,-2,N);Dn(u,{style:"display:block;",d:`M${P.x},${P.y} L${g.x},${g.y} L${x.x},${x.y}`})}if(e.lineDecoration.indexOf("arrow-end")!==-1){const A=Qa(T,-b),N=Ka(m,A),P=Sr(m,2,N),x=Sr(m,-2,N);Dn(d,{style:"display:block;",d:`M${P.x},${P.y} L${m.x},${m.y} L${x.x},${x.y}`})}},Yh=(t,e,n,i)=>{Dn(t,{...t.styles,fill:"none",d:Bh(e.points.map(o=>({x:kt(o.x,n,i,"width"),y:kt(o.y,n,i,"height")})))})},Cr=t=>e=>es(t,{id:e.id}),Xh=t=>{const e=es("image",{id:t.id,"stroke-linecap":"round","stroke-linejoin":"round",opacity:"0"});return e.onload=()=>{e.setAttribute("opacity",t.opacity||1)},e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",t.src),e},Zh=t=>{const e=es("g",{id:t.id,"stroke-linecap":"round","stroke-linejoin":"round"}),n=es("line");e.appendChild(n);const i=es("path");e.appendChild(i);const o=es("path");return e.appendChild(o),e},Qh={image:Xh,rect:Cr("rect"),ellipse:Cr("ellipse"),text:Cr("text"),path:Cr("path"),line:Zh},Kh={rect:Hh,ellipse:Uh,image:Vh,text:Wh,path:Yh,line:jh},Jh=(t,e)=>Qh[t](e),ep=(t,e,n,i,o)=>{e!=="path"&&(t.rect=$h(n,i,o)),t.styles=kh(n,i,o),Kh[e](t,n,i,o)},tp=["x","y","left","top","right","bottom","width","height"],np=t=>typeof t=="string"&&/%/.test(t)?parseFloat(t)/100:t,ip=t=>{const[e,n]=t,i=n.points?{}:tp.reduce((o,u)=>(o[u]=np(n[u]),o),{});return[e,{zIndex:0,...n,...i}]},sp=(t,e)=>t[1].zIndex>e[1].zIndex?1:t[1].zIndex<e[1].zIndex?-1:0,rp=t=>t.utils.createView({name:"image-preview-markup",tag:"svg",ignoreRect:!0,mixins:{apis:["width","height","crop","markup","resize","dirty"]},write:({root:e,props:n})=>{if(!n.dirty)return;const{crop:i,resize:o,markup:u}=n,d=n.width,g=n.height;let m=i.width,T=i.height;if(o){const{size:P}=o;let x=P&&P.width,D=P&&P.height;const k=o.mode,z=o.upscale;x&&!D&&(D=x),D&&!x&&(x=D);const B=m<x&&T<D;if(!B||B&&z){let H=x/m,Y=D/T;if(k==="force")m=x,T=D;else{let J;k==="cover"?J=Math.max(H,Y):k==="contain"&&(J=Math.min(H,Y)),m=m*J,T=T*J}}}const b={width:d,height:g};e.element.setAttribute("width",b.width),e.element.setAttribute("height",b.height);const A=Math.min(d/m,g/T);e.element.innerHTML="";const N=e.query("GET_IMAGE_PREVIEW_MARKUP_FILTER");u.filter(N).map(ip).sort(sp).forEach(P=>{const[x,D]=P,k=Jh(x,D);ep(k,x,D,b,A),e.element.appendChild(k)})}}),Ns=(t,e)=>({x:t,y:e}),op=(t,e)=>t.x*e.x+t.y*e.y,Ja=(t,e)=>Ns(t.x-e.x,t.y-e.y),ap=(t,e)=>op(Ja(t,e),Ja(t,e)),el=(t,e)=>Math.sqrt(ap(t,e)),tl=(t,e)=>{const n=t,i=1.5707963267948966,o=e,u=1.5707963267948966-e,d=Math.sin(i),g=Math.sin(o),m=Math.sin(u),T=Math.cos(u),b=n/d,A=b*g,N=b*m;return Ns(T*A,T*N)},lp=(t,e)=>{const n=t.width,i=t.height,o=tl(n,e),u=tl(i,e),d=Ns(t.x+Math.abs(o.x),t.y-Math.abs(o.y)),g=Ns(t.x+t.width+Math.abs(u.y),t.y+Math.abs(u.x)),m=Ns(t.x-Math.abs(u.y),t.y+t.height-Math.abs(u.x));return{width:el(d,g),height:el(d,m)}},cp=(t,e,n=1)=>{const i=t.height/t.width;let o=1,u=e,d=1,g=i;g>u&&(g=u,d=g/i);const m=Math.max(o/d,u/g),T=t.width/(n*m*d),b=T*e;return{width:T,height:b}},nc=(t,e,n,i)=>{const o=i.x>.5?1-i.x:i.x,u=i.y>.5?1-i.y:i.y,d=o*2*t.width,g=u*2*t.height,m=lp(e,n);return Math.max(m.width/d,m.height/g)},ic=(t,e)=>{let n=t.width,i=n*e;i>t.height&&(i=t.height,n=i/e);const o=(t.width-n)*.5,u=(t.height-i)*.5;return{x:o,y:u,width:n,height:i}},up=(t,e={})=>{let{zoom:n,rotation:i,center:o,aspectRatio:u}=e;u||(u=t.height/t.width);const d=cp(t,u,n),g={x:d.width*.5,y:d.height*.5},m={x:0,y:0,width:d.width,height:d.height,center:g},T=typeof e.scaleToFit>"u"||e.scaleToFit,b=nc(t,ic(m,u),i,T?o:{x:.5,y:.5}),A=n*b;return{widthFloat:d.width/A,heightFloat:d.height/A,width:Math.round(d.width/A),height:Math.round(d.height/A)}},Rn={type:"spring",stiffness:.5,damping:.45,mass:10},dp=t=>t.utils.createView({name:"image-bitmap",ignoreRect:!0,mixins:{styles:["scaleX","scaleY"]},create:({root:e,props:n})=>{e.appendChild(n.image)}}),fp=t=>t.utils.createView({name:"image-canvas-wrapper",tag:"div",ignoreRect:!0,mixins:{apis:["crop","width","height"],styles:["originX","originY","translateX","translateY","scaleX","scaleY","rotateZ"],animations:{originX:Rn,originY:Rn,scaleX:Rn,scaleY:Rn,translateX:Rn,translateY:Rn,rotateZ:Rn}},create:({root:e,props:n})=>{n.width=n.image.width,n.height=n.image.height,e.ref.bitmap=e.appendChildView(e.createChildView(dp(t),{image:n.image}))},write:({root:e,props:n})=>{const{flip:i}=n.crop,{bitmap:o}=e.ref;o.scaleX=i.horizontal?-1:1,o.scaleY=i.vertical?-1:1}}),hp=t=>t.utils.createView({name:"image-clip",tag:"div",ignoreRect:!0,mixins:{apis:["crop","markup","resize","width","height","dirty","background"],styles:["width","height","opacity"],animations:{opacity:{type:"tween",duration:250}}},didWriteView:function({root:e,props:n}){n.background&&(e.element.style.backgroundColor=n.background)},create:({root:e,props:n})=>{e.ref.image=e.appendChildView(e.createChildView(fp(t),Object.assign({},n))),e.ref.createMarkup=()=>{e.ref.markup||(e.ref.markup=e.appendChildView(e.createChildView(rp(t),Object.assign({},n))))},e.ref.destroyMarkup=()=>{e.ref.markup&&(e.removeChildView(e.ref.markup),e.ref.markup=null)};const i=e.query("GET_IMAGE_PREVIEW_TRANSPARENCY_INDICATOR");i!==null&&(i==="grid"?e.element.dataset.transparencyIndicator=i:e.element.dataset.transparencyIndicator="color")},write:({root:e,props:n,shouldOptimize:i})=>{const{crop:o,markup:u,resize:d,dirty:g,width:m,height:T}=n;e.ref.image.crop=o;const b={x:0,y:0,width:m,height:T,center:{x:m*.5,y:T*.5}},A={width:e.ref.image.width,height:e.ref.image.height},N={x:o.center.x*A.width,y:o.center.y*A.height},P={x:b.center.x-A.width*o.center.x,y:b.center.y-A.height*o.center.y},x=Math.PI*2+o.rotation%(Math.PI*2),D=o.aspectRatio||A.height/A.width,k=typeof o.scaleToFit>"u"||o.scaleToFit,z=nc(A,ic(b,D),x,k?o.center:{x:.5,y:.5}),B=o.zoom*z;u&&u.length?(e.ref.createMarkup(),e.ref.markup.width=m,e.ref.markup.height=T,e.ref.markup.resize=d,e.ref.markup.dirty=g,e.ref.markup.markup=u,e.ref.markup.crop=up(A,o)):e.ref.markup&&e.ref.destroyMarkup();const H=e.ref.image;if(i){H.originX=null,H.originY=null,H.translateX=null,H.translateY=null,H.rotateZ=null,H.scaleX=null,H.scaleY=null;return}H.originX=N.x,H.originY=N.y,H.translateX=P.x,H.translateY=P.y,H.rotateZ=x,H.scaleX=B,H.scaleY=B}}),pp=t=>t.utils.createView({name:"image-preview",tag:"div",ignoreRect:!0,mixins:{apis:["image","crop","markup","resize","dirty","background"],styles:["translateY","scaleX","scaleY","opacity"],animations:{scaleX:Rn,scaleY:Rn,translateY:Rn,opacity:{type:"tween",duration:400}}},create:({root:e,props:n})=>{e.ref.clip=e.appendChildView(e.createChildView(hp(t),{id:n.id,image:n.image,crop:n.crop,markup:n.markup,resize:n.resize,dirty:n.dirty,background:n.background}))},write:({root:e,props:n,shouldOptimize:i})=>{const{clip:o}=e.ref,{image:u,crop:d,markup:g,resize:m,dirty:T}=n;if(o.crop=d,o.markup=g,o.resize=m,o.dirty=T,o.opacity=i?0:1,i||e.rect.element.hidden)return;const b=u.height/u.width;let A=d.aspectRatio||b;const N=e.rect.inner.width,P=e.rect.inner.height;let x=e.query("GET_IMAGE_PREVIEW_HEIGHT");const D=e.query("GET_IMAGE_PREVIEW_MIN_HEIGHT"),k=e.query("GET_IMAGE_PREVIEW_MAX_HEIGHT"),z=e.query("GET_PANEL_ASPECT_RATIO"),B=e.query("GET_ALLOW_MULTIPLE");z&&!B&&(x=N*z,A=z);let H=x!==null?x:Math.max(D,Math.min(N*A,k)),Y=H/A;Y>N&&(Y=N,H=Y*A),H>P&&(H=P,Y=P/A),o.width=Y,o.height=H}});let gp=`<svg width="500" height="200" viewBox="0 0 500 200" preserveAspectRatio="none">
    <defs>
        <radialGradient id="gradient-__UID__" cx=".5" cy="1.25" r="1.15">
            <stop offset='50%' stop-color='#000000'/>
            <stop offset='56%' stop-color='#0a0a0a'/>
            <stop offset='63%' stop-color='#262626'/>
            <stop offset='69%' stop-color='#4f4f4f'/>
            <stop offset='75%' stop-color='#808080'/>
            <stop offset='81%' stop-color='#b1b1b1'/>
            <stop offset='88%' stop-color='#dadada'/>
            <stop offset='94%' stop-color='#f6f6f6'/>
            <stop offset='100%' stop-color='#ffffff'/>
        </radialGradient>
        <mask id="mask-__UID__">
            <rect x="0" y="0" width="500" height="200" fill="url(#gradient-__UID__)"></rect>
        </mask>
    </defs>
    <rect x="0" width="500" height="200" fill="currentColor" mask="url(#mask-__UID__)"></rect>
</svg>`,nl=0;const mp=t=>t.utils.createView({name:"image-preview-overlay",tag:"div",ignoreRect:!0,create:({root:e,props:n})=>{let i=gp;if(document.querySelector("base")){const o=new URL(window.location.href.replace(window.location.hash,"")).href;i=i.replace(/url\(\#/g,"url("+o+"#")}nl++,e.element.classList.add(`filepond--image-preview-overlay-${n.status}`),e.element.innerHTML=i.replace(/__UID__/g,nl)},mixins:{styles:["opacity"],animations:{opacity:{type:"spring",mass:25}}}}),yp=function(){self.onmessage=t=>{createImageBitmap(t.data.message.file).then(e=>{self.postMessage({id:t.data.id,message:e},[e])})}},_p=function(){self.onmessage=t=>{const e=t.data.message.imageData,n=t.data.message.colorMatrix,i=e.data,o=i.length,u=n[0],d=n[1],g=n[2],m=n[3],T=n[4],b=n[5],A=n[6],N=n[7],P=n[8],x=n[9],D=n[10],k=n[11],z=n[12],B=n[13],H=n[14],Y=n[15],J=n[16],f=n[17],fe=n[18],ee=n[19];let W=0,X=0,ae=0,de=0,me=0;for(;W<o;W+=4)X=i[W]/255,ae=i[W+1]/255,de=i[W+2]/255,me=i[W+3]/255,i[W]=Math.max(0,Math.min((X*u+ae*d+de*g+me*m+T)*255,255)),i[W+1]=Math.max(0,Math.min((X*b+ae*A+de*N+me*P+x)*255,255)),i[W+2]=Math.max(0,Math.min((X*D+ae*k+de*z+me*B+H)*255,255)),i[W+3]=Math.max(0,Math.min((X*Y+ae*J+de*f+me*fe+ee)*255,255));self.postMessage({id:t.data.id,message:e},[e.data.buffer])}},Ep=(t,e)=>{let n=new Image;n.onload=()=>{const i=n.naturalWidth,o=n.naturalHeight;n=null,e(i,o)},n.src=t},vp={1:()=>[1,0,0,1,0,0],2:t=>[-1,0,0,1,t,0],3:(t,e)=>[-1,0,0,-1,t,e],4:(t,e)=>[1,0,0,-1,0,e],5:()=>[0,1,1,0,0,0],6:(t,e)=>[0,1,-1,0,e,0],7:(t,e)=>[0,-1,-1,0,e,t],8:t=>[0,-1,1,0,0,t]},bp=(t,e,n,i)=>{i!==-1&&t.transform.apply(t,vp[i](e,n))},Tp=(t,e,n,i)=>{e=Math.round(e),n=Math.round(n);const o=document.createElement("canvas");o.width=e,o.height=n;const u=o.getContext("2d");return i>=5&&i<=8&&([e,n]=[n,e]),bp(u,e,n,i),u.drawImage(t,0,0,e,n),o},sc=t=>/^image/.test(t.type)&&!/svg/.test(t.type),wp=10,Ip=10,xp=t=>{const e=Math.min(wp/t.width,Ip/t.height),n=document.createElement("canvas"),i=n.getContext("2d"),o=n.width=Math.ceil(t.width*e),u=n.height=Math.ceil(t.height*e);i.drawImage(t,0,0,o,u);let d=null;try{d=i.getImageData(0,0,o,u).data}catch{return null}const g=d.length;let m=0,T=0,b=0,A=0;for(;A<g;A+=4)m+=d[A]*d[A],T+=d[A+1]*d[A+1],b+=d[A+2]*d[A+2];return m=yo(m,g),T=yo(T,g),b=yo(b,g),{r:m,g:T,b}},yo=(t,e)=>Math.floor(Math.sqrt(t/(e/4))),Sp=(t,e)=>(e=e||document.createElement("canvas"),e.width=t.width,e.height=t.height,e.getContext("2d").drawImage(t,0,0),e),Cp=t=>{let e;try{e=new ImageData(t.width,t.height)}catch{e=document.createElement("canvas").getContext("2d").createImageData(t.width,t.height)}return e.data.set(new Uint8ClampedArray(t.data)),e},Ap=t=>new Promise((e,n)=>{const i=new Image;i.crossOrigin="Anonymous",i.onload=()=>{e(i)},i.onerror=o=>{n(o)},i.src=t}),Op=t=>{const e=mp(t),n=pp(t),{createWorker:i}=t.utils,o=(B,H,Y)=>new Promise(J=>{B.ref.imageData||(B.ref.imageData=Y.getContext("2d").getImageData(0,0,Y.width,Y.height));const f=Cp(B.ref.imageData);if(!H||H.length!==20)return Y.getContext("2d").putImageData(f,0,0),J();const fe=i(_p);fe.post({imageData:f,colorMatrix:H},ee=>{Y.getContext("2d").putImageData(ee,0,0),fe.terminate(),J()},[f.data.buffer])}),u=(B,H)=>{B.removeChildView(H),H.image.width=1,H.image.height=1,H._destroy()},d=({root:B})=>{const H=B.ref.images.shift();return H.opacity=0,H.translateY=-15,B.ref.imageViewBin.push(H),H},g=({root:B,props:H,image:Y})=>{const J=H.id,f=B.query("GET_ITEM",{id:J});if(!f)return;const fe=f.getMetadata("crop")||{center:{x:.5,y:.5},flip:{horizontal:!1,vertical:!1},zoom:1,rotation:0,aspectRatio:null},ee=B.query("GET_IMAGE_TRANSFORM_CANVAS_BACKGROUND_COLOR");let W,X,ae=!1;B.query("GET_IMAGE_PREVIEW_MARKUP_SHOW")&&(W=f.getMetadata("markup")||[],X=f.getMetadata("resize"),ae=!0);const de=B.appendChildView(B.createChildView(n,{id:J,image:Y,crop:fe,resize:X,markup:W,dirty:ae,background:ee,opacity:0,scaleX:1.15,scaleY:1.15,translateY:15}),B.childViews.length);B.ref.images.push(de),de.opacity=1,de.scaleX=1,de.scaleY=1,de.translateY=0,setTimeout(()=>{B.dispatch("DID_IMAGE_PREVIEW_SHOW",{id:J})},250)},m=({root:B,props:H})=>{const Y=B.query("GET_ITEM",{id:H.id});if(!Y)return;const J=B.ref.images[B.ref.images.length-1];J.crop=Y.getMetadata("crop"),J.background=B.query("GET_IMAGE_TRANSFORM_CANVAS_BACKGROUND_COLOR"),B.query("GET_IMAGE_PREVIEW_MARKUP_SHOW")&&(J.dirty=!0,J.resize=Y.getMetadata("resize"),J.markup=Y.getMetadata("markup"))},T=({root:B,props:H,action:Y})=>{if(!/crop|filter|markup|resize/.test(Y.change.key)||!B.ref.images.length)return;const J=B.query("GET_ITEM",{id:H.id});if(J){if(/filter/.test(Y.change.key)){const f=B.ref.images[B.ref.images.length-1];o(B,Y.change.value,f.image);return}if(/crop|markup|resize/.test(Y.change.key)){const f=J.getMetadata("crop"),fe=B.ref.images[B.ref.images.length-1];if(f&&f.aspectRatio&&fe.crop&&fe.crop.aspectRatio&&Math.abs(f.aspectRatio-fe.crop.aspectRatio)>1e-5){const ee=d({root:B});g({root:B,props:H,image:Sp(ee.image)})}else m({root:B,props:H})}}},b=B=>{const Y=window.navigator.userAgent.match(/Firefox\/([0-9]+)\./),J=Y?parseInt(Y[1]):null;return J!==null&&J<=58?!1:"createImageBitmap"in window&&sc(B)},A=({root:B,props:H})=>{const{id:Y}=H,J=B.query("GET_ITEM",Y);if(!J)return;const f=URL.createObjectURL(J.file);Ep(f,(fe,ee)=>{B.dispatch("DID_IMAGE_PREVIEW_CALCULATE_SIZE",{id:Y,width:fe,height:ee})})},N=({root:B,props:H})=>{const{id:Y}=H,J=B.query("GET_ITEM",Y);if(!J)return;const f=URL.createObjectURL(J.file),fe=()=>{Ap(f).then(ee)},ee=W=>{URL.revokeObjectURL(f);const ae=(J.getMetadata("exif")||{}).orientation||-1;let{width:de,height:me}=W;if(!de||!me)return;ae>=5&&ae<=8&&([de,me]=[me,de]);const re=Math.max(1,window.devicePixelRatio*.75),K=B.query("GET_IMAGE_PREVIEW_ZOOM_FACTOR")*re,le=me/de,F=B.rect.element.width,C=B.rect.element.height;let te=F,ue=te*le;le>1?(te=Math.min(de,F*K),ue=te*le):(ue=Math.min(me,C*K),te=ue/le);const he=Tp(W,te,ue,ae),ke=()=>{const pt=B.query("GET_IMAGE_PREVIEW_CALCULATE_AVERAGE_IMAGE_COLOR")?xp(data):null;J.setMetadata("color",pt,!0),"close"in W&&W.close(),B.ref.overlayShadow.opacity=1,g({root:B,props:H,image:he})},Fe=J.getMetadata("filter");Fe?o(B,Fe,he).then(ke):ke()};if(b(J.file)){const W=i(yp);W.post({file:J.file},X=>{if(W.terminate(),!X){fe();return}ee(X)})}else fe()},P=({root:B})=>{const H=B.ref.images[B.ref.images.length-1];H.translateY=0,H.scaleX=1,H.scaleY=1,H.opacity=1},x=({root:B})=>{B.ref.overlayShadow.opacity=1,B.ref.overlayError.opacity=0,B.ref.overlaySuccess.opacity=0},D=({root:B})=>{B.ref.overlayShadow.opacity=.25,B.ref.overlayError.opacity=1},k=({root:B})=>{B.ref.overlayShadow.opacity=.25,B.ref.overlaySuccess.opacity=1},z=({root:B})=>{B.ref.images=[],B.ref.imageData=null,B.ref.imageViewBin=[],B.ref.overlayShadow=B.appendChildView(B.createChildView(e,{opacity:0,status:"idle"})),B.ref.overlaySuccess=B.appendChildView(B.createChildView(e,{opacity:0,status:"success"})),B.ref.overlayError=B.appendChildView(B.createChildView(e,{opacity:0,status:"failure"}))};return t.utils.createView({name:"image-preview-wrapper",create:z,styles:["height"],apis:["height"],destroy:({root:B})=>{B.ref.images.forEach(H=>{H.image.width=1,H.image.height=1})},didWriteView:({root:B})=>{B.ref.images.forEach(H=>{H.dirty=!1})},write:t.utils.createRoute({DID_IMAGE_PREVIEW_DRAW:P,DID_IMAGE_PREVIEW_CONTAINER_CREATE:A,DID_FINISH_CALCULATE_PREVIEWSIZE:N,DID_UPDATE_ITEM_METADATA:T,DID_THROW_ITEM_LOAD_ERROR:D,DID_THROW_ITEM_PROCESSING_ERROR:D,DID_THROW_ITEM_INVALID:D,DID_COMPLETE_ITEM_PROCESSING:k,DID_START_ITEM_PROCESSING:x,DID_REVERT_ITEM_PROCESSING:x},({root:B})=>{const H=B.ref.imageViewBin.filter(Y=>Y.opacity===0);B.ref.imageViewBin=B.ref.imageViewBin.filter(Y=>Y.opacity>0),H.forEach(Y=>u(B,Y)),H.length=0})})},Rp=t=>{const{addFilter:e,utils:n}=t,{Type:i,createRoute:o,isFile:u}=n,d=Op(t);return e("CREATE_VIEW",g=>{const{is:m,view:T,query:b}=g;if(!m("file")||!b("GET_ALLOW_IMAGE_PREVIEW"))return;const A=({root:k,props:z})=>{const{id:B}=z,H=b("GET_ITEM",B);if(!H||!u(H.file)||H.archived)return;const Y=H.file;if(!Nh(Y)||!b("GET_IMAGE_PREVIEW_FILTER_ITEM")(H))return;const J="createImageBitmap"in(window||{}),f=b("GET_IMAGE_PREVIEW_MAX_FILE_SIZE");if(!J&&f&&Y.size>f)return;k.ref.imagePreview=T.appendChildView(T.createChildView(d,{id:B}));const fe=k.query("GET_IMAGE_PREVIEW_HEIGHT");fe&&k.dispatch("DID_UPDATE_PANEL_HEIGHT",{id:H.id,height:fe});const ee=!J&&Y.size>b("GET_IMAGE_PREVIEW_MAX_INSTANT_PREVIEW_FILE_SIZE");k.dispatch("DID_IMAGE_PREVIEW_CONTAINER_CREATE",{id:B},ee)},N=(k,z)=>{if(!k.ref.imagePreview)return;let{id:B}=z;const H=k.query("GET_ITEM",{id:B});if(!H)return;const Y=k.query("GET_PANEL_ASPECT_RATIO"),J=k.query("GET_ITEM_PANEL_ASPECT_RATIO"),f=k.query("GET_IMAGE_PREVIEW_HEIGHT");if(Y||J||f)return;let{imageWidth:fe,imageHeight:ee}=k.ref;if(!fe||!ee)return;const W=k.query("GET_IMAGE_PREVIEW_MIN_HEIGHT"),X=k.query("GET_IMAGE_PREVIEW_MAX_HEIGHT"),de=(H.getMetadata("exif")||{}).orientation||-1;if(de>=5&&de<=8&&([fe,ee]=[ee,fe]),!sc(H.file)||k.query("GET_IMAGE_PREVIEW_UPSCALE")){const F=2048/fe;fe*=F,ee*=F}const me=ee/fe,re=(H.getMetadata("crop")||{}).aspectRatio||me;let xe=Math.max(W,Math.min(ee,X));const K=k.rect.element.width,le=Math.min(K*re,xe);k.dispatch("DID_UPDATE_PANEL_HEIGHT",{id:H.id,height:le})},P=({root:k})=>{k.ref.shouldRescale=!0},x=({root:k,action:z})=>{z.change.key==="crop"&&(k.ref.shouldRescale=!0)},D=({root:k,action:z})=>{k.ref.imageWidth=z.width,k.ref.imageHeight=z.height,k.ref.shouldRescale=!0,k.ref.shouldDrawPreview=!0,k.dispatch("KICK")};T.registerWriter(o({DID_RESIZE_ROOT:P,DID_STOP_RESIZE:P,DID_LOAD_ITEM:A,DID_IMAGE_PREVIEW_CALCULATE_SIZE:D,DID_UPDATE_ITEM_METADATA:x},({root:k,props:z})=>{k.ref.imagePreview&&(k.rect.element.hidden||(k.ref.shouldRescale&&(N(k,z),k.ref.shouldRescale=!1),k.ref.shouldDrawPreview&&(requestAnimationFrame(()=>{requestAnimationFrame(()=>{k.dispatch("DID_FINISH_CALCULATE_PREVIEWSIZE",{id:z.id})})}),k.ref.shouldDrawPreview=!1)))}))}),{options:{allowImagePreview:[!0,i.BOOLEAN],imagePreviewFilterItem:[()=>!0,i.FUNCTION],imagePreviewHeight:[null,i.INT],imagePreviewMinHeight:[44,i.INT],imagePreviewMaxHeight:[256,i.INT],imagePreviewMaxFileSize:[null,i.INT],imagePreviewZoomFactor:[2,i.INT],imagePreviewUpscale:[!1,i.BOOLEAN],imagePreviewMaxInstantPreviewFileSize:[1e6,i.INT],imagePreviewTransparencyIndicator:[null,i.STRING],imagePreviewCalculateAverageImageColor:[!1,i.BOOLEAN],imagePreviewMarkupShow:[!0,i.BOOLEAN],imagePreviewMarkupFilter:[()=>!0,i.FUNCTION]}}},Dp=typeof window<"u"&&typeof window.document<"u";Dp&&document.dispatchEvent(new CustomEvent("FilePond:pluginloaded",{detail:Rp}));/*!
 * FilePondPluginFileValidateType 1.2.9
 * Licensed under MIT, https://opensource.org/licenses/MIT/
 * Please visit https://pqina.nl/filepond/ for details.
 */const Lp=({addFilter:t,utils:e})=>{const{Type:n,isString:i,replaceInString:o,guesstimateMimeType:u,getExtensionFromFilename:d,getFilenameFromURL:g}=e,m=(P,x)=>{const D=(/^[^/]+/.exec(P)||[]).pop(),k=x.slice(0,-2);return D===k},T=(P,x)=>P.some(D=>/\*$/.test(D)?m(x,D):D===x),b=P=>{let x="";if(i(P)){const D=g(P),k=d(D);k&&(x=u(k))}else x=P.type;return x},A=(P,x,D)=>{if(x.length===0)return!0;const k=b(P);return D?new Promise((z,B)=>{D(P,k).then(H=>{T(x,H)?z():B()}).catch(B)}):T(x,k)},N=P=>x=>P[x]===null?!1:P[x]||x;return t("SET_ATTRIBUTE_TO_OPTION_MAP",P=>Object.assign(P,{accept:"acceptedFileTypes"})),t("ALLOW_HOPPER_ITEM",(P,{query:x})=>x("GET_ALLOW_FILE_TYPE_VALIDATION")?A(P,x("GET_ACCEPTED_FILE_TYPES")):!0),t("LOAD_FILE",(P,{query:x})=>new Promise((D,k)=>{if(!x("GET_ALLOW_FILE_TYPE_VALIDATION")){D(P);return}const z=x("GET_ACCEPTED_FILE_TYPES"),B=x("GET_FILE_VALIDATE_TYPE_DETECT_TYPE"),H=A(P,z,B),Y=()=>{const J=z.map(N(x("GET_FILE_VALIDATE_TYPE_LABEL_EXPECTED_TYPES_MAP"))).filter(fe=>fe!==!1),f=J.filter((fe,ee)=>J.indexOf(fe)===ee);k({status:{main:x("GET_LABEL_FILE_TYPE_NOT_ALLOWED"),sub:o(x("GET_FILE_VALIDATE_TYPE_LABEL_EXPECTED_TYPES"),{allTypes:f.join(", "),allButLastType:f.slice(0,-1).join(", "),lastType:f[f.length-1]})}})};if(typeof H=="boolean")return H?D(P):Y();H.then(()=>{D(P)}).catch(Y)})),{options:{allowFileTypeValidation:[!0,n.BOOLEAN],acceptedFileTypes:[[],n.ARRAY],labelFileTypeNotAllowed:["File is of invalid type",n.STRING],fileValidateTypeLabelExpectedTypes:["Expects {allButLastType} or {lastType}",n.STRING],fileValidateTypeLabelExpectedTypesMap:[{},n.OBJECT],fileValidateTypeDetectType:[null,n.FUNCTION]}}},Pp=typeof window<"u"&&typeof window.document<"u";Pp&&document.dispatchEvent(new CustomEvent("FilePond:pluginloaded",{detail:Lp}));/*!
 * FilePondPluginFileValidateSize 2.2.8
 * Licensed under MIT, https://opensource.org/licenses/MIT/
 * Please visit https://pqina.nl/filepond/ for details.
 */const Mp=({addFilter:t,utils:e})=>{const{Type:n,replaceInString:i,toNaturalFileSize:o}=e;return t("ALLOW_HOPPER_ITEM",(u,{query:d})=>{if(!d("GET_ALLOW_FILE_SIZE_VALIDATION"))return!0;const g=d("GET_MAX_FILE_SIZE");if(g!==null&&u.size>g)return!1;const m=d("GET_MIN_FILE_SIZE");return!(m!==null&&u.size<m)}),t("LOAD_FILE",(u,{query:d})=>new Promise((g,m)=>{if(!d("GET_ALLOW_FILE_SIZE_VALIDATION"))return g(u);const T=d("GET_FILE_VALIDATE_SIZE_FILTER");if(T&&!T(u))return g(u);const b=d("GET_MAX_FILE_SIZE");if(b!==null&&u.size>b){m({status:{main:d("GET_LABEL_MAX_FILE_SIZE_EXCEEDED"),sub:i(d("GET_LABEL_MAX_FILE_SIZE"),{filesize:o(b,".",d("GET_FILE_SIZE_BASE"),d("GET_FILE_SIZE_LABELS",d))})}});return}const A=d("GET_MIN_FILE_SIZE");if(A!==null&&u.size<A){m({status:{main:d("GET_LABEL_MIN_FILE_SIZE_EXCEEDED"),sub:i(d("GET_LABEL_MIN_FILE_SIZE"),{filesize:o(A,".",d("GET_FILE_SIZE_BASE"),d("GET_FILE_SIZE_LABELS",d))})}});return}const N=d("GET_MAX_TOTAL_FILE_SIZE");if(N!==null&&d("GET_ACTIVE_ITEMS").reduce((x,D)=>x+D.fileSize,0)>N){m({status:{main:d("GET_LABEL_MAX_TOTAL_FILE_SIZE_EXCEEDED"),sub:i(d("GET_LABEL_MAX_TOTAL_FILE_SIZE"),{filesize:o(N,".",d("GET_FILE_SIZE_BASE"),d("GET_FILE_SIZE_LABELS",d))})}});return}g(u)})),{options:{allowFileSizeValidation:[!0,n.BOOLEAN],maxFileSize:[null,n.INT],minFileSize:[null,n.INT],maxTotalFileSize:[null,n.INT],fileValidateSizeFilter:[null,n.FUNCTION],labelMinFileSizeExceeded:["File is too small",n.STRING],labelMinFileSize:["Minimum file size is {filesize}",n.STRING],labelMaxFileSizeExceeded:["File is too large",n.STRING],labelMaxFileSize:["Maximum file size is {filesize}",n.STRING],labelMaxTotalFileSizeExceeded:["Maximum total size exceeded",n.STRING],labelMaxTotalFileSize:["Maximum total file size is {filesize}",n.STRING]}}},Np=typeof window<"u"&&typeof window.document<"u";Np&&document.dispatchEvent(new CustomEvent("FilePond:pluginloaded",{detail:Mp}));/*!
  * Bootstrap v5.2.1 (https://getbootstrap.com/)
  * Copyright 2011-2022 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
  */(function(t,e){typeof exports=="object"&&typeof module<"u"?module.exports=e():typeof define=="function"&&define.amd?define(e):(t=typeof globalThis<"u"?globalThis:t||self).bootstrap=e()})(globalThis,function(){const t="transitionend",e=p=>{let r=p.getAttribute("data-bs-target");if(!r||r==="#"){let l=p.getAttribute("href");if(!l||!l.includes("#")&&!l.startsWith("."))return null;l.includes("#")&&!l.startsWith("#")&&(l=`#${l.split("#")[1]}`),r=l&&l!=="#"?l.trim():null}return r},n=p=>{const r=e(p);return r&&document.querySelector(r)?r:null},i=p=>{const r=e(p);return r?document.querySelector(r):null},o=p=>{p.dispatchEvent(new Event(t))},u=p=>!(!p||typeof p!="object")&&(p.jquery!==void 0&&(p=p[0]),p.nodeType!==void 0),d=p=>u(p)?p.jquery?p[0]:p:typeof p=="string"&&p.length>0?document.querySelector(p):null,g=p=>{if(!u(p)||p.getClientRects().length===0)return!1;const r=getComputedStyle(p).getPropertyValue("visibility")==="visible",l=p.closest("details:not([open])");if(!l)return r;if(l!==p){const E=p.closest("summary");if(E&&E.parentNode!==l||E===null)return!1}return r},m=p=>!p||p.nodeType!==Node.ELEMENT_NODE||!!p.classList.contains("disabled")||(p.disabled!==void 0?p.disabled:p.hasAttribute("disabled")&&p.getAttribute("disabled")!=="false"),T=p=>{if(!document.documentElement.attachShadow)return null;if(typeof p.getRootNode=="function"){const r=p.getRootNode();return r instanceof ShadowRoot?r:null}return p instanceof ShadowRoot?p:p.parentNode?T(p.parentNode):null},b=()=>{},A=p=>{p.offsetHeight},N=()=>window.jQuery&&!document.body.hasAttribute("data-bs-no-jquery")?window.jQuery:null,P=[],x=()=>document.documentElement.dir==="rtl",D=p=>{var r;r=()=>{const l=N();if(l){const E=p.NAME,I=l.fn[E];l.fn[E]=p.jQueryInterface,l.fn[E].Constructor=p,l.fn[E].noConflict=()=>(l.fn[E]=I,p.jQueryInterface)}},document.readyState==="loading"?(P.length||document.addEventListener("DOMContentLoaded",()=>{for(const l of P)l()}),P.push(r)):r()},k=p=>{typeof p=="function"&&p()},z=(p,r,l=!0)=>{if(!l)return void k(p);const E=(M=>{if(!M)return 0;let{transitionDuration:U,transitionDelay:j}=window.getComputedStyle(M);const Q=Number.parseFloat(U),se=Number.parseFloat(j);return Q||se?(U=U.split(",")[0],j=j.split(",")[0],1e3*(Number.parseFloat(U)+Number.parseFloat(j))):0})(r)+5;let I=!1;const S=({target:M})=>{M===r&&(I=!0,r.removeEventListener(t,S),k(p))};r.addEventListener(t,S),setTimeout(()=>{I||o(r)},E)},B=(p,r,l,E)=>{const I=p.length;let S=p.indexOf(r);return S===-1?!l&&E?p[I-1]:p[0]:(S+=l?1:-1,E&&(S=(S+I)%I),p[Math.max(0,Math.min(S,I-1))])},H=/[^.]*(?=\..*)\.|.*/,Y=/\..*/,J=/::\d+$/,f={};let fe=1;const ee={mouseenter:"mouseover",mouseleave:"mouseout"},W=new Set(["click","dblclick","mouseup","mousedown","contextmenu","mousewheel","DOMMouseScroll","mouseover","mouseout","mousemove","selectstart","selectend","keydown","keypress","keyup","orientationchange","touchstart","touchmove","touchend","touchcancel","pointerdown","pointermove","pointerup","pointerleave","pointercancel","gesturestart","gesturechange","gestureend","focus","blur","change","reset","select","submit","focusin","focusout","load","unload","beforeunload","resize","move","DOMContentLoaded","readystatechange","error","abort","scroll"]);function X(p,r){return r&&`${r}::${fe++}`||p.uidEvent||fe++}function ae(p){const r=X(p);return p.uidEvent=r,f[r]=f[r]||{},f[r]}function de(p,r,l=null){return Object.values(p).find(E=>E.callable===r&&E.delegationSelector===l)}function me(p,r,l){const E=typeof r=="string",I=E?l:r||l;let S=le(p);return W.has(S)||(S=p),[E,I,S]}function re(p,r,l,E,I){if(typeof r!="string"||!p)return;let[S,M,U]=me(r,l,E);r in ee&&(M=(_e=>function(ve){if(!ve.relatedTarget||ve.relatedTarget!==ve.delegateTarget&&!ve.delegateTarget.contains(ve.relatedTarget))return _e.call(this,ve)})(M));const j=ae(p),Q=j[U]||(j[U]={}),se=de(Q,M,S?l:null);if(se)return void(se.oneOff=se.oneOff&&I);const oe=X(M,r.replace(H,"")),ce=S?function(pe,_e,ve){return function ge(Ne){const $e=pe.querySelectorAll(_e);for(let{target:we}=Ne;we&&we!==this;we=we.parentNode)for(const Ge of $e)if(Ge===we)return C(Ne,{delegateTarget:we}),ge.oneOff&&F.off(pe,Ne.type,_e,ve),ve.apply(we,[Ne])}}(p,l,M):function(pe,_e){return function ve(ge){return C(ge,{delegateTarget:pe}),ve.oneOff&&F.off(pe,ge.type,_e),_e.apply(pe,[ge])}}(p,M);ce.delegationSelector=S?l:null,ce.callable=M,ce.oneOff=I,ce.uidEvent=oe,Q[oe]=ce,p.addEventListener(U,ce,S)}function xe(p,r,l,E,I){const S=de(r[l],E,I);S&&(p.removeEventListener(l,S,Boolean(I)),delete r[l][S.uidEvent])}function K(p,r,l,E){const I=r[l]||{};for(const S of Object.keys(I))if(S.includes(E)){const M=I[S];xe(p,r,l,M.callable,M.delegationSelector)}}function le(p){return p=p.replace(Y,""),ee[p]||p}const F={on(p,r,l,E){re(p,r,l,E,!1)},one(p,r,l,E){re(p,r,l,E,!0)},off(p,r,l,E){if(typeof r!="string"||!p)return;const[I,S,M]=me(r,l,E),U=M!==r,j=ae(p),Q=j[M]||{},se=r.startsWith(".");if(S===void 0){if(se)for(const oe of Object.keys(j))K(p,j,oe,r.slice(1));for(const oe of Object.keys(Q)){const ce=oe.replace(J,"");if(!U||r.includes(ce)){const pe=Q[oe];xe(p,j,M,pe.callable,pe.delegationSelector)}}}else{if(!Object.keys(Q).length)return;xe(p,j,M,S,I?l:null)}},trigger(p,r,l){if(typeof r!="string"||!p)return null;const E=N();let I=null,S=!0,M=!0,U=!1;r!==le(r)&&E&&(I=E.Event(r,l),E(p).trigger(I),S=!I.isPropagationStopped(),M=!I.isImmediatePropagationStopped(),U=I.isDefaultPrevented());let j=new Event(r,{bubbles:S,cancelable:!0});return j=C(j,l),U&&j.preventDefault(),M&&p.dispatchEvent(j),j.defaultPrevented&&I&&I.preventDefault(),j}};function C(p,r){for(const[l,E]of Object.entries(r||{}))try{p[l]=E}catch{Object.defineProperty(p,l,{configurable:!0,get:()=>E})}return p}const te=new Map,ue={set(p,r,l){te.has(p)||te.set(p,new Map);const E=te.get(p);E.has(r)||E.size===0?E.set(r,l):console.error(`Bootstrap doesn't allow more than one instance per element. Bound instance: ${Array.from(E.keys())[0]}.`)},get:(p,r)=>te.has(p)&&te.get(p).get(r)||null,remove(p,r){if(!te.has(p))return;const l=te.get(p);l.delete(r),l.size===0&&te.delete(p)}};function he(p){if(p==="true")return!0;if(p==="false")return!1;if(p===Number(p).toString())return Number(p);if(p===""||p==="null")return null;if(typeof p!="string")return p;try{return JSON.parse(decodeURIComponent(p))}catch{return p}}function ke(p){return p.replace(/[A-Z]/g,r=>`-${r.toLowerCase()}`)}const Fe={setDataAttribute(p,r,l){p.setAttribute(`data-bs-${ke(r)}`,l)},removeDataAttribute(p,r){p.removeAttribute(`data-bs-${ke(r)}`)},getDataAttributes(p){if(!p)return{};const r={},l=Object.keys(p.dataset).filter(E=>E.startsWith("bs")&&!E.startsWith("bsConfig"));for(const E of l){let I=E.replace(/^bs/,"");I=I.charAt(0).toLowerCase()+I.slice(1,I.length),r[I]=he(p.dataset[E])}return r},getDataAttribute:(p,r)=>he(p.getAttribute(`data-bs-${ke(r)}`))};class pt{static get Default(){return{}}static get DefaultType(){return{}}static get NAME(){throw new Error('You have to implement the static method "NAME", for each component!')}_getConfig(r){return r=this._mergeConfigObj(r),r=this._configAfterMerge(r),this._typeCheckConfig(r),r}_configAfterMerge(r){return r}_mergeConfigObj(r,l){const E=u(l)?Fe.getDataAttribute(l,"config"):{};return{...this.constructor.Default,...typeof E=="object"?E:{},...u(l)?Fe.getDataAttributes(l):{},...typeof r=="object"?r:{}}}_typeCheckConfig(r,l=this.constructor.DefaultType){for(const I of Object.keys(l)){const S=l[I],M=r[I],U=u(M)?"element":(E=M)==null?`${E}`:Object.prototype.toString.call(E).match(/\s([a-z]+)/i)[1].toLowerCase();if(!new RegExp(S).test(U))throw new TypeError(`${this.constructor.NAME.toUpperCase()}: Option "${I}" provided type "${U}" but expected type "${S}".`)}var E}}class Ie extends pt{constructor(r,l){super(),(r=d(r))&&(this._element=r,this._config=this._getConfig(l),ue.set(this._element,this.constructor.DATA_KEY,this))}dispose(){ue.remove(this._element,this.constructor.DATA_KEY),F.off(this._element,this.constructor.EVENT_KEY);for(const r of Object.getOwnPropertyNames(this))this[r]=null}_queueCallback(r,l,E=!0){z(r,l,E)}_getConfig(r){return r=this._mergeConfigObj(r,this._element),r=this._configAfterMerge(r),this._typeCheckConfig(r),r}static getInstance(r){return ue.get(d(r),this.DATA_KEY)}static getOrCreateInstance(r,l={}){return this.getInstance(r)||new this(r,typeof l=="object"?l:null)}static get VERSION(){return"5.2.1"}static get DATA_KEY(){return`bs.${this.NAME}`}static get EVENT_KEY(){return`.${this.DATA_KEY}`}static eventName(r){return`${r}${this.EVENT_KEY}`}}const We=(p,r="hide")=>{const l=`click.dismiss${p.EVENT_KEY}`,E=p.NAME;F.on(document,l,`[data-bs-dismiss="${E}"]`,function(I){if(["A","AREA"].includes(this.tagName)&&I.preventDefault(),m(this))return;const S=i(this)||this.closest(`.${E}`);p.getOrCreateInstance(S)[r]()})};class Ze extends Ie{static get NAME(){return"alert"}close(){if(F.trigger(this._element,"close.bs.alert").defaultPrevented)return;this._element.classList.remove("show");const r=this._element.classList.contains("fade");this._queueCallback(()=>this._destroyElement(),this._element,r)}_destroyElement(){this._element.remove(),F.trigger(this._element,"closed.bs.alert"),this.dispose()}static jQueryInterface(r){return this.each(function(){const l=Ze.getOrCreateInstance(this);if(typeof r=="string"){if(l[r]===void 0||r.startsWith("_")||r==="constructor")throw new TypeError(`No method named "${r}"`);l[r](this)}})}}We(Ze,"close"),D(Ze);const et='[data-bs-toggle="button"]';class Xe extends Ie{static get NAME(){return"button"}toggle(){this._element.setAttribute("aria-pressed",this._element.classList.toggle("active"))}static jQueryInterface(r){return this.each(function(){const l=Xe.getOrCreateInstance(this);r==="toggle"&&l[r]()})}}F.on(document,"click.bs.button.data-api",et,p=>{p.preventDefault();const r=p.target.closest(et);Xe.getOrCreateInstance(r).toggle()}),D(Xe);const Ce={find:(p,r=document.documentElement)=>[].concat(...Element.prototype.querySelectorAll.call(r,p)),findOne:(p,r=document.documentElement)=>Element.prototype.querySelector.call(r,p),children:(p,r)=>[].concat(...p.children).filter(l=>l.matches(r)),parents(p,r){const l=[];let E=p.parentNode.closest(r);for(;E;)l.push(E),E=E.parentNode.closest(r);return l},prev(p,r){let l=p.previousElementSibling;for(;l;){if(l.matches(r))return[l];l=l.previousElementSibling}return[]},next(p,r){let l=p.nextElementSibling;for(;l;){if(l.matches(r))return[l];l=l.nextElementSibling}return[]},focusableChildren(p){const r=["a","button","input","textarea","select","details","[tabindex]",'[contenteditable="true"]'].map(l=>`${l}:not([tabindex^="-"])`).join(",");return this.find(r,p).filter(l=>!m(l)&&g(l))}},as={endCallback:null,leftCallback:null,rightCallback:null},ut={endCallback:"(function|null)",leftCallback:"(function|null)",rightCallback:"(function|null)"};class Wt extends pt{constructor(r,l){super(),this._element=r,r&&Wt.isSupported()&&(this._config=this._getConfig(l),this._deltaX=0,this._supportPointerEvents=Boolean(window.PointerEvent),this._initEvents())}static get Default(){return as}static get DefaultType(){return ut}static get NAME(){return"swipe"}dispose(){F.off(this._element,".bs.swipe")}_start(r){this._supportPointerEvents?this._eventIsPointerPenTouch(r)&&(this._deltaX=r.clientX):this._deltaX=r.touches[0].clientX}_end(r){this._eventIsPointerPenTouch(r)&&(this._deltaX=r.clientX-this._deltaX),this._handleSwipe(),k(this._config.endCallback)}_move(r){this._deltaX=r.touches&&r.touches.length>1?0:r.touches[0].clientX-this._deltaX}_handleSwipe(){const r=Math.abs(this._deltaX);if(r<=40)return;const l=r/this._deltaX;this._deltaX=0,l&&k(l>0?this._config.rightCallback:this._config.leftCallback)}_initEvents(){this._supportPointerEvents?(F.on(this._element,"pointerdown.bs.swipe",r=>this._start(r)),F.on(this._element,"pointerup.bs.swipe",r=>this._end(r)),this._element.classList.add("pointer-event")):(F.on(this._element,"touchstart.bs.swipe",r=>this._start(r)),F.on(this._element,"touchmove.bs.swipe",r=>this._move(r)),F.on(this._element,"touchend.bs.swipe",r=>this._end(r)))}_eventIsPointerPenTouch(r){return this._supportPointerEvents&&(r.pointerType==="pen"||r.pointerType==="touch")}static isSupported(){return"ontouchstart"in document.documentElement||navigator.maxTouchPoints>0}}const $t="next",Ee="prev",Te="left",tn="right",si="slid.bs.carousel",Di="carousel",ri="active",$s={ArrowLeft:tn,ArrowRight:Te},oi={interval:5e3,keyboard:!0,pause:"hover",ride:!1,touch:!0,wrap:!0},nn={interval:"(number|boolean)",keyboard:"boolean",pause:"(string|boolean)",ride:"(boolean|string)",touch:"boolean",wrap:"boolean"};class Pt extends Ie{constructor(r,l){super(r,l),this._interval=null,this._activeElement=null,this._isSliding=!1,this.touchTimeout=null,this._swipeHelper=null,this._indicatorsElement=Ce.findOne(".carousel-indicators",this._element),this._addEventListeners(),this._config.ride===Di&&this.cycle()}static get Default(){return oi}static get DefaultType(){return nn}static get NAME(){return"carousel"}next(){this._slide($t)}nextWhenVisible(){!document.hidden&&g(this._element)&&this.next()}prev(){this._slide(Ee)}pause(){this._isSliding&&o(this._element),this._clearInterval()}cycle(){this._clearInterval(),this._updateInterval(),this._interval=setInterval(()=>this.nextWhenVisible(),this._config.interval)}_maybeEnableCycle(){this._config.ride&&(this._isSliding?F.one(this._element,si,()=>this.cycle()):this.cycle())}to(r){const l=this._getItems();if(r>l.length-1||r<0)return;if(this._isSliding)return void F.one(this._element,si,()=>this.to(r));const E=this._getItemIndex(this._getActive());if(E===r)return;const I=r>E?$t:Ee;this._slide(I,l[r])}dispose(){this._swipeHelper&&this._swipeHelper.dispose(),super.dispose()}_configAfterMerge(r){return r.defaultInterval=r.interval,r}_addEventListeners(){this._config.keyboard&&F.on(this._element,"keydown.bs.carousel",r=>this._keydown(r)),this._config.pause==="hover"&&(F.on(this._element,"mouseenter.bs.carousel",()=>this.pause()),F.on(this._element,"mouseleave.bs.carousel",()=>this._maybeEnableCycle())),this._config.touch&&Wt.isSupported()&&this._addTouchEventListeners()}_addTouchEventListeners(){for(const l of Ce.find(".carousel-item img",this._element))F.on(l,"dragstart.bs.carousel",E=>E.preventDefault());const r={leftCallback:()=>this._slide(this._directionToOrder(Te)),rightCallback:()=>this._slide(this._directionToOrder(tn)),endCallback:()=>{this._config.pause==="hover"&&(this.pause(),this.touchTimeout&&clearTimeout(this.touchTimeout),this.touchTimeout=setTimeout(()=>this._maybeEnableCycle(),500+this._config.interval))}};this._swipeHelper=new Wt(this._element,r)}_keydown(r){if(/input|textarea/i.test(r.target.tagName))return;const l=$s[r.key];l&&(r.preventDefault(),this._slide(this._directionToOrder(l)))}_getItemIndex(r){return this._getItems().indexOf(r)}_setActiveIndicatorElement(r){if(!this._indicatorsElement)return;const l=Ce.findOne(".active",this._indicatorsElement);l.classList.remove(ri),l.removeAttribute("aria-current");const E=Ce.findOne(`[data-bs-slide-to="${r}"]`,this._indicatorsElement);E&&(E.classList.add(ri),E.setAttribute("aria-current","true"))}_updateInterval(){const r=this._activeElement||this._getActive();if(!r)return;const l=Number.parseInt(r.getAttribute("data-bs-interval"),10);this._config.interval=l||this._config.defaultInterval}_slide(r,l=null){if(this._isSliding)return;const E=this._getActive(),I=r===$t,S=l||B(this._getItems(),E,I,this._config.wrap);if(S===E)return;const M=this._getItemIndex(S),U=oe=>F.trigger(this._element,oe,{relatedTarget:S,direction:this._orderToDirection(r),from:this._getItemIndex(E),to:M});if(U("slide.bs.carousel").defaultPrevented||!E||!S)return;const j=Boolean(this._interval);this.pause(),this._isSliding=!0,this._setActiveIndicatorElement(M),this._activeElement=S;const Q=I?"carousel-item-start":"carousel-item-end",se=I?"carousel-item-next":"carousel-item-prev";S.classList.add(se),A(S),E.classList.add(Q),S.classList.add(Q),this._queueCallback(()=>{S.classList.remove(Q,se),S.classList.add(ri),E.classList.remove(ri,se,Q),this._isSliding=!1,U(si)},E,this._isAnimated()),j&&this.cycle()}_isAnimated(){return this._element.classList.contains("slide")}_getActive(){return Ce.findOne(".active.carousel-item",this._element)}_getItems(){return Ce.find(".carousel-item",this._element)}_clearInterval(){this._interval&&(clearInterval(this._interval),this._interval=null)}_directionToOrder(r){return x()?r===Te?Ee:$t:r===Te?$t:Ee}_orderToDirection(r){return x()?r===Ee?Te:tn:r===Ee?tn:Te}static jQueryInterface(r){return this.each(function(){const l=Pt.getOrCreateInstance(this,r);if(typeof r!="number"){if(typeof r=="string"){if(l[r]===void 0||r.startsWith("_")||r==="constructor")throw new TypeError(`No method named "${r}"`);l[r]()}}else l.to(r)})}}F.on(document,"click.bs.carousel.data-api","[data-bs-slide], [data-bs-slide-to]",function(p){const r=i(this);if(!r||!r.classList.contains(Di))return;p.preventDefault();const l=Pt.getOrCreateInstance(r),E=this.getAttribute("data-bs-slide-to");return E?(l.to(E),void l._maybeEnableCycle()):Fe.getDataAttribute(this,"slide")==="next"?(l.next(),void l._maybeEnableCycle()):(l.prev(),void l._maybeEnableCycle())}),F.on(window,"load.bs.carousel.data-api",()=>{const p=Ce.find('[data-bs-ride="carousel"]');for(const r of p)Pt.getOrCreateInstance(r)}),D(Pt);const _n="show",Li="collapse",Ln="collapsing",Pi='[data-bs-toggle="collapse"]',Bs={parent:null,toggle:!0},qr={parent:"(null|element)",toggle:"boolean"};class Bt extends Ie{constructor(r,l){super(r,l),this._isTransitioning=!1,this._triggerArray=[];const E=Ce.find(Pi);for(const I of E){const S=n(I),M=Ce.find(S).filter(U=>U===this._element);S!==null&&M.length&&this._triggerArray.push(I)}this._initializeChildren(),this._config.parent||this._addAriaAndCollapsedClass(this._triggerArray,this._isShown()),this._config.toggle&&this.toggle()}static get Default(){return Bs}static get DefaultType(){return qr}static get NAME(){return"collapse"}toggle(){this._isShown()?this.hide():this.show()}show(){if(this._isTransitioning||this._isShown())return;let r=[];if(this._config.parent&&(r=this._getFirstLevelChildren(".collapse.show, .collapse.collapsing").filter(I=>I!==this._element).map(I=>Bt.getOrCreateInstance(I,{toggle:!1}))),r.length&&r[0]._isTransitioning||F.trigger(this._element,"show.bs.collapse").defaultPrevented)return;for(const I of r)I.hide();const l=this._getDimension();this._element.classList.remove(Li),this._element.classList.add(Ln),this._element.style[l]=0,this._addAriaAndCollapsedClass(this._triggerArray,!0),this._isTransitioning=!0;const E=`scroll${l[0].toUpperCase()+l.slice(1)}`;this._queueCallback(()=>{this._isTransitioning=!1,this._element.classList.remove(Ln),this._element.classList.add(Li,_n),this._element.style[l]="",F.trigger(this._element,"shown.bs.collapse")},this._element,!0),this._element.style[l]=`${this._element[E]}px`}hide(){if(this._isTransitioning||!this._isShown()||F.trigger(this._element,"hide.bs.collapse").defaultPrevented)return;const r=this._getDimension();this._element.style[r]=`${this._element.getBoundingClientRect()[r]}px`,A(this._element),this._element.classList.add(Ln),this._element.classList.remove(Li,_n);for(const l of this._triggerArray){const E=i(l);E&&!this._isShown(E)&&this._addAriaAndCollapsedClass([l],!1)}this._isTransitioning=!0,this._element.style[r]="",this._queueCallback(()=>{this._isTransitioning=!1,this._element.classList.remove(Ln),this._element.classList.add(Li),F.trigger(this._element,"hidden.bs.collapse")},this._element,!0)}_isShown(r=this._element){return r.classList.contains(_n)}_configAfterMerge(r){return r.toggle=Boolean(r.toggle),r.parent=d(r.parent),r}_getDimension(){return this._element.classList.contains("collapse-horizontal")?"width":"height"}_initializeChildren(){if(!this._config.parent)return;const r=this._getFirstLevelChildren(Pi);for(const l of r){const E=i(l);E&&this._addAriaAndCollapsedClass([l],this._isShown(E))}}_getFirstLevelChildren(r){const l=Ce.find(":scope .collapse .collapse",this._config.parent);return Ce.find(r,this._config.parent).filter(E=>!l.includes(E))}_addAriaAndCollapsedClass(r,l){if(r.length)for(const E of r)E.classList.toggle("collapsed",!l),E.setAttribute("aria-expanded",l)}static jQueryInterface(r){const l={};return typeof r=="string"&&/show|hide/.test(r)&&(l.toggle=!1),this.each(function(){const E=Bt.getOrCreateInstance(this,l);if(typeof r=="string"){if(E[r]===void 0)throw new TypeError(`No method named "${r}"`);E[r]()}})}}F.on(document,"click.bs.collapse.data-api",Pi,function(p){(p.target.tagName==="A"||p.delegateTarget&&p.delegateTarget.tagName==="A")&&p.preventDefault();const r=n(this),l=Ce.find(r);for(const E of l)Bt.getOrCreateInstance(E,{toggle:!1}).toggle()}),D(Bt);var tt="top",Et="bottom",vt="right",Ve="left",at="auto",En=[tt,Et,vt,Ve],Pn="start",Mn="end",ls="clippingParents",vn="viewport",Gt="popper",Gs="reference",cs=En.reduce(function(p,r){return p.concat([r+"-"+Pn,r+"-"+Mn])},[]),ai=[].concat(En,[at]).reduce(function(p,r){return p.concat([r,r+"-"+Pn,r+"-"+Mn])},[]),li="beforeRead",Hs="read",Us="afterRead",zs="beforeMain",us="main",Vs="afterMain",qs="beforeWrite",ds="write",Ws="afterWrite",Nn=[li,Hs,Us,zs,us,Vs,qs,ds,Ws];function Ht(p){return p?(p.nodeName||"").toLowerCase():null}function bt(p){if(p==null)return window;if(p.toString()!=="[object Window]"){var r=p.ownerDocument;return r&&r.defaultView||window}return p}function sn(p){return p instanceof bt(p).Element||p instanceof Element}function gt(p){return p instanceof bt(p).HTMLElement||p instanceof HTMLElement}function Mi(p){return typeof ShadowRoot<"u"&&(p instanceof bt(p).ShadowRoot||p instanceof ShadowRoot)}const fs={name:"applyStyles",enabled:!0,phase:"write",fn:function(p){var r=p.state;Object.keys(r.elements).forEach(function(l){var E=r.styles[l]||{},I=r.attributes[l]||{},S=r.elements[l];gt(S)&&Ht(S)&&(Object.assign(S.style,E),Object.keys(I).forEach(function(M){var U=I[M];U===!1?S.removeAttribute(M):S.setAttribute(M,U===!0?"":U)}))})},effect:function(p){var r=p.state,l={popper:{position:r.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(r.elements.popper.style,l.popper),r.styles=l,r.elements.arrow&&Object.assign(r.elements.arrow.style,l.arrow),function(){Object.keys(r.elements).forEach(function(E){var I=r.elements[E],S=r.attributes[E]||{},M=Object.keys(r.styles.hasOwnProperty(E)?r.styles[E]:l[E]).reduce(function(U,j){return U[j]="",U},{});gt(I)&&Ht(I)&&(Object.assign(I.style,M),Object.keys(S).forEach(function(U){I.removeAttribute(U)}))})}},requires:["computeStyles"]};function Ut(p){return p.split("-")[0]}var Fn=Math.max,bn=Math.min,kn=Math.round;function Ni(){var p=navigator.userAgentData;return p!=null&&p.brands?p.brands.map(function(r){return r.brand+"/"+r.version}).join(" "):navigator.userAgent}function hs(){return!/^((?!chrome|android).)*safari/i.test(Ni())}function $n(p,r,l){r===void 0&&(r=!1),l===void 0&&(l=!1);var E=p.getBoundingClientRect(),I=1,S=1;r&&gt(p)&&(I=p.offsetWidth>0&&kn(E.width)/p.offsetWidth||1,S=p.offsetHeight>0&&kn(E.height)/p.offsetHeight||1);var M=(sn(p)?bt(p):window).visualViewport,U=!hs()&&l,j=(E.left+(U&&M?M.offsetLeft:0))/I,Q=(E.top+(U&&M?M.offsetTop:0))/S,se=E.width/I,oe=E.height/S;return{width:se,height:oe,top:Q,right:j+se,bottom:Q+oe,left:j,x:j,y:Q}}function ps(p){var r=$n(p),l=p.offsetWidth,E=p.offsetHeight;return Math.abs(r.width-l)<=1&&(l=r.width),Math.abs(r.height-E)<=1&&(E=r.height),{x:p.offsetLeft,y:p.offsetTop,width:l,height:E}}function Fi(p,r){var l=r.getRootNode&&r.getRootNode();if(p.contains(r))return!0;if(l&&Mi(l)){var E=r;do{if(E&&p.isSameNode(E))return!0;E=E.parentNode||E.host}while(E)}return!1}function rn(p){return bt(p).getComputedStyle(p)}function Wr(p){return["table","td","th"].indexOf(Ht(p))>=0}function on(p){return((sn(p)?p.ownerDocument:p.document)||window.document).documentElement}function ci(p){return Ht(p)==="html"?p:p.assignedSlot||p.parentNode||(Mi(p)?p.host:null)||on(p)}function ki(p){return gt(p)&&rn(p).position!=="fixed"?p.offsetParent:null}function Yn(p){for(var r=bt(p),l=ki(p);l&&Wr(l)&&rn(l).position==="static";)l=ki(l);return l&&(Ht(l)==="html"||Ht(l)==="body"&&rn(l).position==="static")?r:l||function(E){var I=/firefox/i.test(Ni());if(/Trident/i.test(Ni())&&gt(E)&&rn(E).position==="fixed")return null;var S=ci(E);for(Mi(S)&&(S=S.host);gt(S)&&["html","body"].indexOf(Ht(S))<0;){var M=rn(S);if(M.transform!=="none"||M.perspective!=="none"||M.contain==="paint"||["transform","perspective"].indexOf(M.willChange)!==-1||I&&M.willChange==="filter"||I&&M.filter&&M.filter!=="none")return S;S=S.parentNode}return null}(p)||r}function dt(p){return["top","bottom"].indexOf(p)>=0?"x":"y"}function jt(p,r,l){return Fn(p,bn(r,l))}function ui(p){return Object.assign({},{top:0,right:0,bottom:0,left:0},p)}function js(p,r){return r.reduce(function(l,E){return l[E]=p,l},{})}const Ys={name:"arrow",enabled:!0,phase:"main",fn:function(p){var r,l=p.state,E=p.name,I=p.options,S=l.elements.arrow,M=l.modifiersData.popperOffsets,U=Ut(l.placement),j=dt(U),Q=[Ve,vt].indexOf(U)>=0?"height":"width";if(S&&M){var se=function(qe,ze){return ui(typeof(qe=typeof qe=="function"?qe(Object.assign({},ze.rects,{placement:ze.placement})):qe)!="number"?qe:js(qe,En))}(I.padding,l),oe=ps(S),ce=j==="y"?tt:Ve,pe=j==="y"?Et:vt,_e=l.rects.reference[Q]+l.rects.reference[j]-M[j]-l.rects.popper[Q],ve=M[j]-l.rects.reference[j],ge=Yn(S),Ne=ge?j==="y"?ge.clientHeight||0:ge.clientWidth||0:0,$e=_e/2-ve/2,we=se[ce],Ge=Ne-oe[Q]-se[pe],De=Ne/2-oe[Q]/2+$e,Me=jt(we,De,Ge),Ue=j;l.modifiersData[E]=((r={})[Ue]=Me,r.centerOffset=Me-De,r)}},effect:function(p){var r=p.state,l=p.options.element,E=l===void 0?"[data-popper-arrow]":l;E!=null&&(typeof E!="string"||(E=r.elements.popper.querySelector(E)))&&Fi(r.elements.popper,E)&&(r.elements.arrow=E)},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function Tn(p){return p.split("-")[1]}var Xs={top:"auto",right:"auto",bottom:"auto",left:"auto"};function di(p){var r,l=p.popper,E=p.popperRect,I=p.placement,S=p.variation,M=p.offsets,U=p.position,j=p.gpuAcceleration,Q=p.adaptive,se=p.roundOffsets,oe=p.isFixed,ce=M.x,pe=ce===void 0?0:ce,_e=M.y,ve=_e===void 0?0:_e,ge=typeof se=="function"?se({x:pe,y:ve}):{x:pe,y:ve};pe=ge.x,ve=ge.y;var Ne=M.hasOwnProperty("x"),$e=M.hasOwnProperty("y"),we=Ve,Ge=tt,De=window;if(Q){var Me=Yn(l),Ue="clientHeight",qe="clientWidth";Me===bt(l)&&rn(Me=on(l)).position!=="static"&&U==="absolute"&&(Ue="scrollHeight",qe="scrollWidth"),(I===tt||(I===Ve||I===vt)&&S===Mn)&&(Ge=Et,ve-=(oe&&Me===De&&De.visualViewport?De.visualViewport.height:Me[Ue])-E.height,ve*=j?1:-1),I!==Ve&&(I!==tt&&I!==Et||S!==Mn)||(we=vt,pe-=(oe&&Me===De&&De.visualViewport?De.visualViewport.width:Me[qe])-E.width,pe*=j?1:-1)}var ze,nt=Object.assign({position:U},Q&&Xs),Vt=se===!0?function(hn){var St=hn.x,Xt=hn.y,Ct=window.devicePixelRatio||1;return{x:kn(St*Ct)/Ct||0,y:kn(Xt*Ct)/Ct||0}}({x:pe,y:ve}):{x:pe,y:ve};return pe=Vt.x,ve=Vt.y,j?Object.assign({},nt,((ze={})[Ge]=$e?"0":"",ze[we]=Ne?"0":"",ze.transform=(De.devicePixelRatio||1)<=1?"translate("+pe+"px, "+ve+"px)":"translate3d("+pe+"px, "+ve+"px, 0)",ze)):Object.assign({},nt,((r={})[Ge]=$e?ve+"px":"",r[we]=Ne?pe+"px":"",r.transform="",r))}const $i={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function(p){var r=p.state,l=p.options,E=l.gpuAcceleration,I=E===void 0||E,S=l.adaptive,M=S===void 0||S,U=l.roundOffsets,j=U===void 0||U,Q={placement:Ut(r.placement),variation:Tn(r.placement),popper:r.elements.popper,popperRect:r.rects.popper,gpuAcceleration:I,isFixed:r.options.strategy==="fixed"};r.modifiersData.popperOffsets!=null&&(r.styles.popper=Object.assign({},r.styles.popper,di(Object.assign({},Q,{offsets:r.modifiersData.popperOffsets,position:r.options.strategy,adaptive:M,roundOffsets:j})))),r.modifiersData.arrow!=null&&(r.styles.arrow=Object.assign({},r.styles.arrow,di(Object.assign({},Q,{offsets:r.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:j})))),r.attributes.popper=Object.assign({},r.attributes.popper,{"data-popper-placement":r.placement})},data:{}};var Bi={passive:!0};const gs={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function(p){var r=p.state,l=p.instance,E=p.options,I=E.scroll,S=I===void 0||I,M=E.resize,U=M===void 0||M,j=bt(r.elements.popper),Q=[].concat(r.scrollParents.reference,r.scrollParents.popper);return S&&Q.forEach(function(se){se.addEventListener("scroll",l.update,Bi)}),U&&j.addEventListener("resize",l.update,Bi),function(){S&&Q.forEach(function(se){se.removeEventListener("scroll",l.update,Bi)}),U&&j.removeEventListener("resize",l.update,Bi)}},data:{}};var zt={left:"right",right:"left",bottom:"top",top:"bottom"};function fi(p){return p.replace(/left|right|bottom|top/g,function(r){return zt[r]})}var hi={start:"end",end:"start"};function Zs(p){return p.replace(/start|end/g,function(r){return hi[r]})}function ms(p){var r=bt(p);return{scrollLeft:r.pageXOffset,scrollTop:r.pageYOffset}}function an(p){return $n(on(p)).left+ms(p).scrollLeft}function ln(p){var r=rn(p),l=r.overflow,E=r.overflowX,I=r.overflowY;return/auto|scroll|overlay|hidden/.test(l+I+E)}function Gi(p){return["html","body","#document"].indexOf(Ht(p))>=0?p.ownerDocument.body:gt(p)&&ln(p)?p:Gi(ci(p))}function pi(p,r){var l;r===void 0&&(r=[]);var E=Gi(p),I=E===((l=p.ownerDocument)==null?void 0:l.body),S=bt(E),M=I?[S].concat(S.visualViewport||[],ln(E)?E:[]):E,U=r.concat(M);return I?U:U.concat(pi(ci(M)))}function Hi(p){return Object.assign({},p,{left:p.x,top:p.y,right:p.x+p.width,bottom:p.y+p.height})}function ys(p,r,l){return r===vn?Hi(function(E,I){var S=bt(E),M=on(E),U=S.visualViewport,j=M.clientWidth,Q=M.clientHeight,se=0,oe=0;if(U){j=U.width,Q=U.height;var ce=hs();(ce||!ce&&I==="fixed")&&(se=U.offsetLeft,oe=U.offsetTop)}return{width:j,height:Q,x:se+an(E),y:oe}}(p,l)):sn(r)?function(E,I){var S=$n(E,!1,I==="fixed");return S.top=S.top+E.clientTop,S.left=S.left+E.clientLeft,S.bottom=S.top+E.clientHeight,S.right=S.left+E.clientWidth,S.width=E.clientWidth,S.height=E.clientHeight,S.x=S.left,S.y=S.top,S}(r,l):Hi(function(E){var I,S=on(E),M=ms(E),U=(I=E.ownerDocument)==null?void 0:I.body,j=Fn(S.scrollWidth,S.clientWidth,U?U.scrollWidth:0,U?U.clientWidth:0),Q=Fn(S.scrollHeight,S.clientHeight,U?U.scrollHeight:0,U?U.clientHeight:0),se=-M.scrollLeft+an(E),oe=-M.scrollTop;return rn(U||S).direction==="rtl"&&(se+=Fn(S.clientWidth,U?U.clientWidth:0)-j),{width:j,height:Q,x:se,y:oe}}(on(p)))}function Xn(p){var r,l=p.reference,E=p.element,I=p.placement,S=I?Ut(I):null,M=I?Tn(I):null,U=l.x+l.width/2-E.width/2,j=l.y+l.height/2-E.height/2;switch(S){case tt:r={x:U,y:l.y-E.height};break;case Et:r={x:U,y:l.y+l.height};break;case vt:r={x:l.x+l.width,y:j};break;case Ve:r={x:l.x-E.width,y:j};break;default:r={x:l.x,y:l.y}}var Q=S?dt(S):null;if(Q!=null){var se=Q==="y"?"height":"width";switch(M){case Pn:r[Q]=r[Q]-(l[se]/2-E[se]/2);break;case Mn:r[Q]=r[Q]+(l[se]/2-E[se]/2)}}return r}function Bn(p,r){r===void 0&&(r={});var l=r,E=l.placement,I=E===void 0?p.placement:E,S=l.strategy,M=S===void 0?p.strategy:S,U=l.boundary,j=U===void 0?ls:U,Q=l.rootBoundary,se=Q===void 0?vn:Q,oe=l.elementContext,ce=oe===void 0?Gt:oe,pe=l.altBoundary,_e=pe!==void 0&&pe,ve=l.padding,ge=ve===void 0?0:ve,Ne=ui(typeof ge!="number"?ge:js(ge,En)),$e=ce===Gt?Gs:Gt,we=p.rects.popper,Ge=p.elements[_e?$e:ce],De=function(St,Xt,Ct,_t){var An=Xt==="clippingParents"?function(je){var At=pi(ci(je)),Zt=["absolute","fixed"].indexOf(rn(je).position)>=0&&gt(je)?Yn(je):je;return sn(Zt)?At.filter(function(ti){return sn(ti)&&Fi(ti,Zt)&&Ht(ti)!=="body"}):[]}(St):[].concat(Xt),On=[].concat(An,[Ct]),Zi=On[0],ft=On.reduce(function(je,At){var Zt=ys(St,At,_t);return je.top=Fn(Zt.top,je.top),je.right=bn(Zt.right,je.right),je.bottom=bn(Zt.bottom,je.bottom),je.left=Fn(Zt.left,je.left),je},ys(St,Zi,_t));return ft.width=ft.right-ft.left,ft.height=ft.bottom-ft.top,ft.x=ft.left,ft.y=ft.top,ft}(sn(Ge)?Ge:Ge.contextElement||on(p.elements.popper),j,se,M),Me=$n(p.elements.reference),Ue=Xn({reference:Me,element:we,strategy:"absolute",placement:I}),qe=Hi(Object.assign({},we,Ue)),ze=ce===Gt?qe:Me,nt={top:De.top-ze.top+Ne.top,bottom:ze.bottom-De.bottom+Ne.bottom,left:De.left-ze.left+Ne.left,right:ze.right-De.right+Ne.right},Vt=p.modifiersData.offset;if(ce===Gt&&Vt){var hn=Vt[I];Object.keys(nt).forEach(function(St){var Xt=[vt,Et].indexOf(St)>=0?1:-1,Ct=[tt,Et].indexOf(St)>=0?"y":"x";nt[St]+=hn[Ct]*Xt})}return nt}function _s(p,r){r===void 0&&(r={});var l=r,E=l.placement,I=l.boundary,S=l.rootBoundary,M=l.padding,U=l.flipVariations,j=l.allowedAutoPlacements,Q=j===void 0?ai:j,se=Tn(E),oe=se?U?cs:cs.filter(function(_e){return Tn(_e)===se}):En,ce=oe.filter(function(_e){return Q.indexOf(_e)>=0});ce.length===0&&(ce=oe);var pe=ce.reduce(function(_e,ve){return _e[ve]=Bn(p,{placement:ve,boundary:I,rootBoundary:S,padding:M})[Ut(ve)],_e},{});return Object.keys(pe).sort(function(_e,ve){return pe[_e]-pe[ve]})}const Qs={name:"flip",enabled:!0,phase:"main",fn:function(p){var r=p.state,l=p.options,E=p.name;if(!r.modifiersData[E]._skip){for(var I=l.mainAxis,S=I===void 0||I,M=l.altAxis,U=M===void 0||M,j=l.fallbackPlacements,Q=l.padding,se=l.boundary,oe=l.rootBoundary,ce=l.altBoundary,pe=l.flipVariations,_e=pe===void 0||pe,ve=l.allowedAutoPlacements,ge=r.options.placement,Ne=Ut(ge),$e=j||(Ne!==ge&&_e?function(je){if(Ut(je)===at)return[];var At=fi(je);return[Zs(je),At,Zs(At)]}(ge):[fi(ge)]),we=[ge].concat($e).reduce(function(je,At){return je.concat(Ut(At)===at?_s(r,{placement:At,boundary:se,rootBoundary:oe,padding:Q,flipVariations:_e,allowedAutoPlacements:ve}):At)},[]),Ge=r.rects.reference,De=r.rects.popper,Me=new Map,Ue=!0,qe=we[0],ze=0;ze<we.length;ze++){var nt=we[ze],Vt=Ut(nt),hn=Tn(nt)===Pn,St=[tt,Et].indexOf(Vt)>=0,Xt=St?"width":"height",Ct=Bn(r,{placement:nt,boundary:se,rootBoundary:oe,altBoundary:ce,padding:Q}),_t=St?hn?vt:Ve:hn?Et:tt;Ge[Xt]>De[Xt]&&(_t=fi(_t));var An=fi(_t),On=[];if(S&&On.push(Ct[Vt]<=0),U&&On.push(Ct[_t]<=0,Ct[An]<=0),On.every(function(je){return je})){qe=nt,Ue=!1;break}Me.set(nt,On)}if(Ue)for(var Zi=function(je){var At=we.find(function(Zt){var ti=Me.get(Zt);if(ti)return ti.slice(0,je).every(function(yr){return yr})});if(At)return qe=At,"break"},ft=_e?3:1;ft>0&&Zi(ft)!=="break";ft--);r.placement!==qe&&(r.modifiersData[E]._skip=!0,r.placement=qe,r.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}};function Es(p,r,l){return l===void 0&&(l={x:0,y:0}),{top:p.top-r.height-l.y,right:p.right-r.width+l.x,bottom:p.bottom-r.height+l.y,left:p.left-r.width-l.x}}function Ks(p){return[tt,vt,Et,Ve].some(function(r){return p[r]>=0})}const Js={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:function(p){var r=p.state,l=p.name,E=r.rects.reference,I=r.rects.popper,S=r.modifiersData.preventOverflow,M=Bn(r,{elementContext:"reference"}),U=Bn(r,{altBoundary:!0}),j=Es(M,E),Q=Es(U,I,S),se=Ks(j),oe=Ks(Q);r.modifiersData[l]={referenceClippingOffsets:j,popperEscapeOffsets:Q,isReferenceHidden:se,hasPopperEscaped:oe},r.attributes.popper=Object.assign({},r.attributes.popper,{"data-popper-reference-hidden":se,"data-popper-escaped":oe})}},Ui={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function(p){var r=p.state,l=p.options,E=p.name,I=l.offset,S=I===void 0?[0,0]:I,M=ai.reduce(function(se,oe){return se[oe]=function(ce,pe,_e){var ve=Ut(ce),ge=[Ve,tt].indexOf(ve)>=0?-1:1,Ne=typeof _e=="function"?_e(Object.assign({},pe,{placement:ce})):_e,$e=Ne[0],we=Ne[1];return $e=$e||0,we=(we||0)*ge,[Ve,vt].indexOf(ve)>=0?{x:we,y:$e}:{x:$e,y:we}}(oe,r.rects,S),se},{}),U=M[r.placement],j=U.x,Q=U.y;r.modifiersData.popperOffsets!=null&&(r.modifiersData.popperOffsets.x+=j,r.modifiersData.popperOffsets.y+=Q),r.modifiersData[E]=M}},vs={name:"popperOffsets",enabled:!0,phase:"read",fn:function(p){var r=p.state,l=p.name;r.modifiersData[l]=Xn({reference:r.rects.reference,element:r.rects.popper,strategy:"absolute",placement:r.placement})},data:{}},er={name:"preventOverflow",enabled:!0,phase:"main",fn:function(p){var r=p.state,l=p.options,E=p.name,I=l.mainAxis,S=I===void 0||I,M=l.altAxis,U=M!==void 0&&M,j=l.boundary,Q=l.rootBoundary,se=l.altBoundary,oe=l.padding,ce=l.tether,pe=ce===void 0||ce,_e=l.tetherOffset,ve=_e===void 0?0:_e,ge=Bn(r,{boundary:j,rootBoundary:Q,padding:oe,altBoundary:se}),Ne=Ut(r.placement),$e=Tn(r.placement),we=!$e,Ge=dt(Ne),De=Ge==="x"?"y":"x",Me=r.modifiersData.popperOffsets,Ue=r.rects.reference,qe=r.rects.popper,ze=typeof ve=="function"?ve(Object.assign({},r.rects,{placement:r.placement})):ve,nt=typeof ze=="number"?{mainAxis:ze,altAxis:ze}:Object.assign({mainAxis:0,altAxis:0},ze),Vt=r.modifiersData.offset?r.modifiersData.offset[r.placement]:null,hn={x:0,y:0};if(Me){if(S){var St,Xt=Ge==="y"?tt:Ve,Ct=Ge==="y"?Et:vt,_t=Ge==="y"?"height":"width",An=Me[Ge],On=An+ge[Xt],Zi=An-ge[Ct],ft=pe?-qe[_t]/2:0,je=$e===Pn?Ue[_t]:qe[_t],At=$e===Pn?-qe[_t]:-Ue[_t],Zt=r.elements.arrow,ti=pe&&Zt?ps(Zt):{width:0,height:0},yr=r.modifiersData["arrow#persistent"]?r.modifiersData["arrow#persistent"].padding:{top:0,right:0,bottom:0,left:0},Xo=yr[Xt],Zo=yr[Ct],_r=jt(0,Ue[_t],ti[_t]),rc=we?Ue[_t]/2-ft-_r-Xo-nt.mainAxis:je-_r-Xo-nt.mainAxis,oc=we?-Ue[_t]/2+ft+_r+Zo+nt.mainAxis:At+_r+Zo+nt.mainAxis,ro=r.elements.arrow&&Yn(r.elements.arrow),ac=ro?Ge==="y"?ro.clientTop||0:ro.clientLeft||0:0,Qo=(St=Vt==null?void 0:Vt[Ge])!=null?St:0,lc=An+oc-Qo,Ko=jt(pe?bn(On,An+rc-Qo-ac):On,An,pe?Fn(Zi,lc):Zi);Me[Ge]=Ko,hn[Ge]=Ko-An}if(U){var Jo,cc=Ge==="x"?tt:Ve,uc=Ge==="x"?Et:vt,bi=Me[De],Er=De==="y"?"height":"width",ea=bi+ge[cc],ta=bi-ge[uc],oo=[tt,Ve].indexOf(Ne)!==-1,na=(Jo=Vt==null?void 0:Vt[De])!=null?Jo:0,ia=oo?ea:bi-Ue[Er]-qe[Er]-na+nt.altAxis,sa=oo?bi+Ue[Er]+qe[Er]-na-nt.altAxis:ta,ra=pe&&oo?function(dc,fc,ao){var oa=jt(dc,fc,ao);return oa>ao?ao:oa}(ia,bi,sa):jt(pe?ia:ea,bi,pe?sa:ta);Me[De]=ra,hn[De]=ra-bi}r.modifiersData[E]=hn}},requiresIfExists:["offset"]};function jr(p,r,l){l===void 0&&(l=!1);var E,I,S=gt(r),M=gt(r)&&function(oe){var ce=oe.getBoundingClientRect(),pe=kn(ce.width)/oe.offsetWidth||1,_e=kn(ce.height)/oe.offsetHeight||1;return pe!==1||_e!==1}(r),U=on(r),j=$n(p,M,l),Q={scrollLeft:0,scrollTop:0},se={x:0,y:0};return(S||!S&&!l)&&((Ht(r)!=="body"||ln(U))&&(Q=(E=r)!==bt(E)&&gt(E)?{scrollLeft:(I=E).scrollLeft,scrollTop:I.scrollTop}:ms(E)),gt(r)?((se=$n(r,!0)).x+=r.clientLeft,se.y+=r.clientTop):U&&(se.x=an(U))),{x:j.left+Q.scrollLeft-se.x,y:j.top+Q.scrollTop-se.y,width:j.width,height:j.height}}function Yr(p){var r=new Map,l=new Set,E=[];function I(S){l.add(S.name),[].concat(S.requires||[],S.requiresIfExists||[]).forEach(function(M){if(!l.has(M)){var U=r.get(M);U&&I(U)}}),E.push(S)}return p.forEach(function(S){r.set(S.name,S)}),p.forEach(function(S){l.has(S.name)||I(S)}),E}var tr={placement:"bottom",modifiers:[],strategy:"absolute"};function nr(){for(var p=arguments.length,r=new Array(p),l=0;l<p;l++)r[l]=arguments[l];return!r.some(function(E){return!(E&&typeof E.getBoundingClientRect=="function")})}function zi(p){p===void 0&&(p={});var r=p,l=r.defaultModifiers,E=l===void 0?[]:l,I=r.defaultOptions,S=I===void 0?tr:I;return function(M,U,j){j===void 0&&(j=S);var Q,se,oe={placement:"bottom",orderedModifiers:[],options:Object.assign({},tr,S),modifiersData:{},elements:{reference:M,popper:U},attributes:{},styles:{}},ce=[],pe=!1,_e={state:oe,setOptions:function(ge){var Ne=typeof ge=="function"?ge(oe.options):ge;ve(),oe.options=Object.assign({},S,oe.options,Ne),oe.scrollParents={reference:sn(M)?pi(M):M.contextElement?pi(M.contextElement):[],popper:pi(U)};var $e,we,Ge=function(De){var Me=Yr(De);return Nn.reduce(function(Ue,qe){return Ue.concat(Me.filter(function(ze){return ze.phase===qe}))},[])}(($e=[].concat(E,oe.options.modifiers),we=$e.reduce(function(De,Me){var Ue=De[Me.name];return De[Me.name]=Ue?Object.assign({},Ue,Me,{options:Object.assign({},Ue.options,Me.options),data:Object.assign({},Ue.data,Me.data)}):Me,De},{}),Object.keys(we).map(function(De){return we[De]})));return oe.orderedModifiers=Ge.filter(function(De){return De.enabled}),oe.orderedModifiers.forEach(function(De){var Me=De.name,Ue=De.options,qe=Ue===void 0?{}:Ue,ze=De.effect;if(typeof ze=="function"){var nt=ze({state:oe,name:Me,instance:_e,options:qe});ce.push(nt||function(){})}}),_e.update()},forceUpdate:function(){if(!pe){var ge=oe.elements,Ne=ge.reference,$e=ge.popper;if(nr(Ne,$e)){oe.rects={reference:jr(Ne,Yn($e),oe.options.strategy==="fixed"),popper:ps($e)},oe.reset=!1,oe.placement=oe.options.placement,oe.orderedModifiers.forEach(function(ze){return oe.modifiersData[ze.name]=Object.assign({},ze.data)});for(var we=0;we<oe.orderedModifiers.length;we++)if(oe.reset!==!0){var Ge=oe.orderedModifiers[we],De=Ge.fn,Me=Ge.options,Ue=Me===void 0?{}:Me,qe=Ge.name;typeof De=="function"&&(oe=De({state:oe,options:Ue,name:qe,instance:_e})||oe)}else oe.reset=!1,we=-1}}},update:(Q=function(){return new Promise(function(ge){_e.forceUpdate(),ge(oe)})},function(){return se||(se=new Promise(function(ge){Promise.resolve().then(function(){se=void 0,ge(Q())})})),se}),destroy:function(){ve(),pe=!0}};if(!nr(M,U))return _e;function ve(){ce.forEach(function(ge){return ge()}),ce=[]}return _e.setOptions(j).then(function(ge){!pe&&j.onFirstUpdate&&j.onFirstUpdate(ge)}),_e}}var ir=zi(),bs=zi({defaultModifiers:[gs,vs,$i,fs]}),Vi=zi({defaultModifiers:[gs,vs,$i,fs,Ui,Qs,er,Ys,Js]});const qi=Object.freeze(Object.defineProperty({__proto__:null,popperGenerator:zi,detectOverflow:Bn,createPopperBase:ir,createPopper:Vi,createPopperLite:bs,top:tt,bottom:Et,right:vt,left:Ve,auto:at,basePlacements:En,start:Pn,end:Mn,clippingParents:ls,viewport:vn,popper:Gt,reference:Gs,variationPlacements:cs,placements:ai,beforeRead:li,read:Hs,afterRead:Us,beforeMain:zs,main:us,afterMain:Vs,beforeWrite:qs,write:ds,afterWrite:Ws,modifierPhases:Nn,applyStyles:fs,arrow:Ys,computeStyles:$i,eventListeners:gs,flip:Qs,hide:Js,offset:Ui,popperOffsets:vs,preventOverflow:er},Symbol.toStringTag,{value:"Module"})),Ts="dropdown",sr="ArrowUp",Wi="ArrowDown",rr="click.bs.dropdown.data-api",or="keydown.bs.dropdown.data-api",gi="show",Yt='[data-bs-toggle="dropdown"]:not(.disabled):not(:disabled)',ar=`${Yt}.show`,mi=".dropdown-menu",Xr=x()?"top-end":"top-start",Zr=x()?"top-start":"top-end",Qr=x()?"bottom-end":"bottom-start",s=x()?"bottom-start":"bottom-end",a=x()?"left-start":"right-start",c=x()?"right-start":"left-start",h={autoClose:!0,boundary:"clippingParents",display:"dynamic",offset:[0,2],popperConfig:null,reference:"toggle"},y={autoClose:"(boolean|string)",boundary:"(string|element)",display:"string",offset:"(array|string|function)",popperConfig:"(null|object|function)",reference:"(string|element|object)"};class _ extends Ie{constructor(r,l){super(r,l),this._popper=null,this._parent=this._element.parentNode,this._menu=Ce.next(this._element,mi)[0]||Ce.prev(this._element,mi)[0],this._inNavbar=this._detectNavbar()}static get Default(){return h}static get DefaultType(){return y}static get NAME(){return Ts}toggle(){return this._isShown()?this.hide():this.show()}show(){if(m(this._element)||this._isShown())return;const r={relatedTarget:this._element};if(!F.trigger(this._element,"show.bs.dropdown",r).defaultPrevented){if(this._createPopper(),"ontouchstart"in document.documentElement&&!this._parent.closest(".navbar-nav"))for(const l of[].concat(...document.body.children))F.on(l,"mouseover",b);this._element.focus(),this._element.setAttribute("aria-expanded",!0),this._menu.classList.add(gi),this._element.classList.add(gi),F.trigger(this._element,"shown.bs.dropdown",r)}}hide(){if(m(this._element)||!this._isShown())return;const r={relatedTarget:this._element};this._completeHide(r)}dispose(){this._popper&&this._popper.destroy(),super.dispose()}update(){this._inNavbar=this._detectNavbar(),this._popper&&this._popper.update()}_completeHide(r){if(!F.trigger(this._element,"hide.bs.dropdown",r).defaultPrevented){if("ontouchstart"in document.documentElement)for(const l of[].concat(...document.body.children))F.off(l,"mouseover",b);this._popper&&this._popper.destroy(),this._menu.classList.remove(gi),this._element.classList.remove(gi),this._element.setAttribute("aria-expanded","false"),Fe.removeDataAttribute(this._menu,"popper"),F.trigger(this._element,"hidden.bs.dropdown",r)}}_getConfig(r){if(typeof(r=super._getConfig(r)).reference=="object"&&!u(r.reference)&&typeof r.reference.getBoundingClientRect!="function")throw new TypeError(`${Ts.toUpperCase()}: Option "reference" provided type "object" without a required "getBoundingClientRect" method.`);return r}_createPopper(){if(qi===void 0)throw new TypeError("Bootstrap's dropdowns require Popper (https://popper.js.org)");let r=this._element;this._config.reference==="parent"?r=this._parent:u(this._config.reference)?r=d(this._config.reference):typeof this._config.reference=="object"&&(r=this._config.reference);const l=this._getPopperConfig();this._popper=Vi(r,this._menu,l)}_isShown(){return this._menu.classList.contains(gi)}_getPlacement(){const r=this._parent;if(r.classList.contains("dropend"))return a;if(r.classList.contains("dropstart"))return c;if(r.classList.contains("dropup-center"))return"top";if(r.classList.contains("dropdown-center"))return"bottom";const l=getComputedStyle(this._menu).getPropertyValue("--bs-position").trim()==="end";return r.classList.contains("dropup")?l?Zr:Xr:l?s:Qr}_detectNavbar(){return this._element.closest(".navbar")!==null}_getOffset(){const{offset:r}=this._config;return typeof r=="string"?r.split(",").map(l=>Number.parseInt(l,10)):typeof r=="function"?l=>r(l,this._element):r}_getPopperConfig(){const r={placement:this._getPlacement(),modifiers:[{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"offset",options:{offset:this._getOffset()}}]};return(this._inNavbar||this._config.display==="static")&&(Fe.setDataAttribute(this._menu,"popper","static"),r.modifiers=[{name:"applyStyles",enabled:!1}]),{...r,...typeof this._config.popperConfig=="function"?this._config.popperConfig(r):this._config.popperConfig}}_selectMenuItem({key:r,target:l}){const E=Ce.find(".dropdown-menu .dropdown-item:not(.disabled):not(:disabled)",this._menu).filter(I=>g(I));E.length&&B(E,l,r===Wi,!E.includes(l)).focus()}static jQueryInterface(r){return this.each(function(){const l=_.getOrCreateInstance(this,r);if(typeof r=="string"){if(l[r]===void 0)throw new TypeError(`No method named "${r}"`);l[r]()}})}static clearMenus(r){if(r.button===2||r.type==="keyup"&&r.key!=="Tab")return;const l=Ce.find(ar);for(const E of l){const I=_.getInstance(E);if(!I||I._config.autoClose===!1)continue;const S=r.composedPath(),M=S.includes(I._menu);if(S.includes(I._element)||I._config.autoClose==="inside"&&!M||I._config.autoClose==="outside"&&M||I._menu.contains(r.target)&&(r.type==="keyup"&&r.key==="Tab"||/input|select|option|textarea|form/i.test(r.target.tagName)))continue;const U={relatedTarget:I._element};r.type==="click"&&(U.clickEvent=r),I._completeHide(U)}}static dataApiKeydownHandler(r){const l=/input|textarea/i.test(r.target.tagName),E=r.key==="Escape",I=[sr,Wi].includes(r.key);if(!I&&!E||l&&!E)return;r.preventDefault();const S=this.matches(Yt)?this:Ce.prev(this,Yt)[0]||Ce.next(this,Yt)[0],M=_.getOrCreateInstance(S);if(I)return r.stopPropagation(),M.show(),void M._selectMenuItem(r);M._isShown()&&(r.stopPropagation(),M.hide(),S.focus())}}F.on(document,or,Yt,_.dataApiKeydownHandler),F.on(document,or,mi,_.dataApiKeydownHandler),F.on(document,rr,_.clearMenus),F.on(document,"keyup.bs.dropdown.data-api",_.clearMenus),F.on(document,rr,Yt,function(p){p.preventDefault(),_.getOrCreateInstance(this).toggle()}),D(_);const v=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",L=".sticky-top",O="padding-right",G="margin-right";class q{constructor(){this._element=document.body}getWidth(){const r=document.documentElement.clientWidth;return Math.abs(window.innerWidth-r)}hide(){const r=this.getWidth();this._disableOverFlow(),this._setElementAttributes(this._element,O,l=>l+r),this._setElementAttributes(v,O,l=>l+r),this._setElementAttributes(L,G,l=>l-r)}reset(){this._resetElementAttributes(this._element,"overflow"),this._resetElementAttributes(this._element,O),this._resetElementAttributes(v,O),this._resetElementAttributes(L,G)}isOverflowing(){return this.getWidth()>0}_disableOverFlow(){this._saveInitialAttribute(this._element,"overflow"),this._element.style.overflow="hidden"}_setElementAttributes(r,l,E){const I=this.getWidth();this._applyManipulationCallback(r,S=>{if(S!==this._element&&window.innerWidth>S.clientWidth+I)return;this._saveInitialAttribute(S,l);const M=window.getComputedStyle(S).getPropertyValue(l);S.style.setProperty(l,`${E(Number.parseFloat(M))}px`)})}_saveInitialAttribute(r,l){const E=r.style.getPropertyValue(l);E&&Fe.setDataAttribute(r,l,E)}_resetElementAttributes(r,l){this._applyManipulationCallback(r,E=>{const I=Fe.getDataAttribute(E,l);I!==null?(Fe.removeDataAttribute(E,l),E.style.setProperty(l,I)):E.style.removeProperty(l)})}_applyManipulationCallback(r,l){if(u(r))l(r);else for(const E of Ce.find(r,this._element))l(E)}}const ie="show",V="mousedown.bs.backdrop",Z={className:"modal-backdrop",clickCallback:null,isAnimated:!1,isVisible:!0,rootElement:"body"},be={className:"string",clickCallback:"(function|null)",isAnimated:"boolean",isVisible:"boolean",rootElement:"(element|string)"};class Ae extends pt{constructor(r){super(),this._config=this._getConfig(r),this._isAppended=!1,this._element=null}static get Default(){return Z}static get DefaultType(){return be}static get NAME(){return"backdrop"}show(r){if(!this._config.isVisible)return void k(r);this._append();const l=this._getElement();this._config.isAnimated&&A(l),l.classList.add(ie),this._emulateAnimation(()=>{k(r)})}hide(r){this._config.isVisible?(this._getElement().classList.remove(ie),this._emulateAnimation(()=>{this.dispose(),k(r)})):k(r)}dispose(){this._isAppended&&(F.off(this._element,V),this._element.remove(),this._isAppended=!1)}_getElement(){if(!this._element){const r=document.createElement("div");r.className=this._config.className,this._config.isAnimated&&r.classList.add("fade"),this._element=r}return this._element}_configAfterMerge(r){return r.rootElement=d(r.rootElement),r}_append(){if(this._isAppended)return;const r=this._getElement();this._config.rootElement.append(r),F.on(r,V,()=>{k(this._config.clickCallback)}),this._isAppended=!0}_emulateAnimation(r){z(r,this._getElement(),this._config.isAnimated)}}const ye=".bs.focustrap",Qe="backward",Ke={autofocus:!0,trapElement:null},Tt={autofocus:"boolean",trapElement:"element"};class Be extends pt{constructor(r){super(),this._config=this._getConfig(r),this._isActive=!1,this._lastTabNavDirection=null}static get Default(){return Ke}static get DefaultType(){return Tt}static get NAME(){return"focustrap"}activate(){this._isActive||(this._config.autofocus&&this._config.trapElement.focus(),F.off(document,ye),F.on(document,"focusin.bs.focustrap",r=>this._handleFocusin(r)),F.on(document,"keydown.tab.bs.focustrap",r=>this._handleKeydown(r)),this._isActive=!0)}deactivate(){this._isActive&&(this._isActive=!1,F.off(document,ye))}_handleFocusin(r){const{trapElement:l}=this._config;if(r.target===document||r.target===l||l.contains(r.target))return;const E=Ce.focusableChildren(l);E.length===0?l.focus():this._lastTabNavDirection===Qe?E[E.length-1].focus():E[0].focus()}_handleKeydown(r){r.key==="Tab"&&(this._lastTabNavDirection=r.shiftKey?Qe:"forward")}}const Se="hidden.bs.modal",mt="show.bs.modal",Le="modal-open",Ye="show",Gn="modal-static",ji={backdrop:!0,focus:!0,keyboard:!0},wt={backdrop:"(boolean|string)",focus:"boolean",keyboard:"boolean"};class It extends Ie{constructor(r,l){super(r,l),this._dialog=Ce.findOne(".modal-dialog",this._element),this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._isShown=!1,this._isTransitioning=!1,this._scrollBar=new q,this._addEventListeners()}static get Default(){return ji}static get DefaultType(){return wt}static get NAME(){return"modal"}toggle(r){return this._isShown?this.hide():this.show(r)}show(r){this._isShown||this._isTransitioning||F.trigger(this._element,mt,{relatedTarget:r}).defaultPrevented||(this._isShown=!0,this._isTransitioning=!0,this._scrollBar.hide(),document.body.classList.add(Le),this._adjustDialog(),this._backdrop.show(()=>this._showElement(r)))}hide(){this._isShown&&!this._isTransitioning&&(F.trigger(this._element,"hide.bs.modal").defaultPrevented||(this._isShown=!1,this._isTransitioning=!0,this._focustrap.deactivate(),this._element.classList.remove(Ye),this._queueCallback(()=>this._hideModal(),this._element,this._isAnimated())))}dispose(){for(const r of[window,this._dialog])F.off(r,".bs.modal");this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}handleUpdate(){this._adjustDialog()}_initializeBackDrop(){return new Ae({isVisible:Boolean(this._config.backdrop),isAnimated:this._isAnimated()})}_initializeFocusTrap(){return new Be({trapElement:this._element})}_showElement(r){document.body.contains(this._element)||document.body.append(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.scrollTop=0;const l=Ce.findOne(".modal-body",this._dialog);l&&(l.scrollTop=0),A(this._element),this._element.classList.add(Ye),this._queueCallback(()=>{this._config.focus&&this._focustrap.activate(),this._isTransitioning=!1,F.trigger(this._element,"shown.bs.modal",{relatedTarget:r})},this._dialog,this._isAnimated())}_addEventListeners(){F.on(this._element,"keydown.dismiss.bs.modal",r=>{if(r.key==="Escape")return this._config.keyboard?(r.preventDefault(),void this.hide()):void this._triggerBackdropTransition()}),F.on(window,"resize.bs.modal",()=>{this._isShown&&!this._isTransitioning&&this._adjustDialog()}),F.on(this._element,"mousedown.dismiss.bs.modal",r=>{F.one(this._element,"click.dismiss.bs.modal",l=>{this._dialog.contains(r.target)||this._dialog.contains(l.target)||(this._config.backdrop!=="static"?this._config.backdrop&&this.hide():this._triggerBackdropTransition())})})}_hideModal(){this._element.style.display="none",this._element.setAttribute("aria-hidden",!0),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._isTransitioning=!1,this._backdrop.hide(()=>{document.body.classList.remove(Le),this._resetAdjustments(),this._scrollBar.reset(),F.trigger(this._element,Se)})}_isAnimated(){return this._element.classList.contains("fade")}_triggerBackdropTransition(){if(F.trigger(this._element,"hidePrevented.bs.modal").defaultPrevented)return;const r=this._element.scrollHeight>document.documentElement.clientHeight,l=this._element.style.overflowY;l==="hidden"||this._element.classList.contains(Gn)||(r||(this._element.style.overflowY="hidden"),this._element.classList.add(Gn),this._queueCallback(()=>{this._element.classList.remove(Gn),this._queueCallback(()=>{this._element.style.overflowY=l},this._dialog)},this._dialog),this._element.focus())}_adjustDialog(){const r=this._element.scrollHeight>document.documentElement.clientHeight,l=this._scrollBar.getWidth(),E=l>0;if(E&&!r){const I=x()?"paddingLeft":"paddingRight";this._element.style[I]=`${l}px`}if(!E&&r){const I=x()?"paddingRight":"paddingLeft";this._element.style[I]=`${l}px`}}_resetAdjustments(){this._element.style.paddingLeft="",this._element.style.paddingRight=""}static jQueryInterface(r,l){return this.each(function(){const E=It.getOrCreateInstance(this,r);if(typeof r=="string"){if(E[r]===void 0)throw new TypeError(`No method named "${r}"`);E[r](l)}})}}F.on(document,"click.bs.modal.data-api",'[data-bs-toggle="modal"]',function(p){const r=i(this);["A","AREA"].includes(this.tagName)&&p.preventDefault(),F.one(r,mt,E=>{E.defaultPrevented||F.one(r,Se,()=>{g(this)&&this.focus()})});const l=Ce.findOne(".modal.show");l&&It.getInstance(l).hide(),It.getOrCreateInstance(r).toggle(this)}),We(It),D(It);const wn="show",yt="showing",cn="hiding",xt=".offcanvas.show",un="hidePrevented.bs.offcanvas",ws="hidden.bs.offcanvas",Hn={backdrop:!0,keyboard:!0,scroll:!1},Is={backdrop:"(boolean|string)",keyboard:"boolean",scroll:"boolean"};class Re extends Ie{constructor(r,l){super(r,l),this._isShown=!1,this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._addEventListeners()}static get Default(){return Hn}static get DefaultType(){return Is}static get NAME(){return"offcanvas"}toggle(r){return this._isShown?this.hide():this.show(r)}show(r){this._isShown||F.trigger(this._element,"show.bs.offcanvas",{relatedTarget:r}).defaultPrevented||(this._isShown=!0,this._backdrop.show(),this._config.scroll||new q().hide(),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.classList.add(yt),this._queueCallback(()=>{this._config.scroll&&!this._config.backdrop||this._focustrap.activate(),this._element.classList.add(wn),this._element.classList.remove(yt),F.trigger(this._element,"shown.bs.offcanvas",{relatedTarget:r})},this._element,!0))}hide(){this._isShown&&(F.trigger(this._element,"hide.bs.offcanvas").defaultPrevented||(this._focustrap.deactivate(),this._element.blur(),this._isShown=!1,this._element.classList.add(cn),this._backdrop.hide(),this._queueCallback(()=>{this._element.classList.remove(wn,cn),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._config.scroll||new q().reset(),F.trigger(this._element,ws)},this._element,!0)))}dispose(){this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}_initializeBackDrop(){const r=Boolean(this._config.backdrop);return new Ae({className:"offcanvas-backdrop",isVisible:r,isAnimated:!0,rootElement:this._element.parentNode,clickCallback:r?()=>{this._config.backdrop!=="static"?this.hide():F.trigger(this._element,un)}:null})}_initializeFocusTrap(){return new Be({trapElement:this._element})}_addEventListeners(){F.on(this._element,"keydown.dismiss.bs.offcanvas",r=>{r.key==="Escape"&&(this._config.keyboard?this.hide():F.trigger(this._element,un))})}static jQueryInterface(r){return this.each(function(){const l=Re.getOrCreateInstance(this,r);if(typeof r=="string"){if(l[r]===void 0||r.startsWith("_")||r==="constructor")throw new TypeError(`No method named "${r}"`);l[r](this)}})}}F.on(document,"click.bs.offcanvas.data-api",'[data-bs-toggle="offcanvas"]',function(p){const r=i(this);if(["A","AREA"].includes(this.tagName)&&p.preventDefault(),m(this))return;F.one(r,ws,()=>{g(this)&&this.focus()});const l=Ce.findOne(xt);l&&l!==r&&Re.getInstance(l).hide(),Re.getOrCreateInstance(r).toggle(this)}),F.on(window,"load.bs.offcanvas.data-api",()=>{for(const p of Ce.find(xt))Re.getOrCreateInstance(p).show()}),F.on(window,"resize.bs.offcanvas",()=>{for(const p of Ce.find("[aria-modal][class*=show][class*=offcanvas-]"))getComputedStyle(p).position!=="fixed"&&Re.getOrCreateInstance(p).hide()}),We(Re),D(Re);const Un=new Set(["background","cite","href","itemtype","longdesc","poster","src","xlink:href"]),lr=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^#&/:?]*(?:[#/?]|$))/i,xs=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[\d+/a-z]+=*$/i,Kr=(p,r)=>{const l=p.nodeName.toLowerCase();return r.includes(l)?!Un.has(l)||Boolean(lr.test(p.nodeValue)||xs.test(p.nodeValue)):r.filter(E=>E instanceof RegExp).some(E=>E.test(l))},yi={"*":["class","dir","id","lang","role",/^aria-[\w-]*$/i],a:["target","href","title","rel"],area:[],b:[],br:[],col:[],code:[],div:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:["src","srcset","alt","title","width","height"],li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]},Jr={allowList:yi,content:{},extraClass:"",html:!1,sanitize:!0,sanitizeFn:null,template:"<div></div>"},cr={allowList:"object",content:"object",extraClass:"(string|function)",html:"boolean",sanitize:"boolean",sanitizeFn:"(null|function)",template:"string"},eo={entry:"(string|element|function|null)",selector:"(string|element)"};class to extends pt{constructor(r){super(),this._config=this._getConfig(r)}static get Default(){return Jr}static get DefaultType(){return cr}static get NAME(){return"TemplateFactory"}getContent(){return Object.values(this._config.content).map(r=>this._resolvePossibleFunction(r)).filter(Boolean)}hasContent(){return this.getContent().length>0}changeContent(r){return this._checkContent(r),this._config.content={...this._config.content,...r},this}toHtml(){const r=document.createElement("div");r.innerHTML=this._maybeSanitize(this._config.template);for(const[I,S]of Object.entries(this._config.content))this._setContent(r,S,I);const l=r.children[0],E=this._resolvePossibleFunction(this._config.extraClass);return E&&l.classList.add(...E.split(" ")),l}_typeCheckConfig(r){super._typeCheckConfig(r),this._checkContent(r.content)}_checkContent(r){for(const[l,E]of Object.entries(r))super._typeCheckConfig({selector:l,entry:E},eo)}_setContent(r,l,E){const I=Ce.findOne(E,r);I&&((l=this._resolvePossibleFunction(l))?u(l)?this._putElementInTemplate(d(l),I):this._config.html?I.innerHTML=this._maybeSanitize(l):I.textContent=l:I.remove())}_maybeSanitize(r){return this._config.sanitize?function(l,E,I){if(!l.length)return l;if(I&&typeof I=="function")return I(l);const S=new window.DOMParser().parseFromString(l,"text/html"),M=[].concat(...S.body.querySelectorAll("*"));for(const U of M){const j=U.nodeName.toLowerCase();if(!Object.keys(E).includes(j)){U.remove();continue}const Q=[].concat(...U.attributes),se=[].concat(E["*"]||[],E[j]||[]);for(const oe of Q)Kr(oe,se)||U.removeAttribute(oe.nodeName)}return S.body.innerHTML}(r,this._config.allowList,this._config.sanitizeFn):r}_resolvePossibleFunction(r){return typeof r=="function"?r(this):r}_putElementInTemplate(r,l){if(this._config.html)return l.innerHTML="",void l.append(r);l.textContent=r.textContent}}const no=new Set(["sanitize","allowList","sanitizeFn"]),Zn="fade",Yi="show",ur=".modal",dr="hide.bs.modal",In="hover",fr="focus",Ss={AUTO:"auto",TOP:"top",RIGHT:x()?"left":"right",BOTTOM:"bottom",LEFT:x()?"right":"left"},dn={allowList:yi,animation:!0,boundary:"clippingParents",container:!1,customClass:"",delay:0,fallbackPlacements:["top","right","bottom","left"],html:!1,offset:[0,0],placement:"top",popperConfig:null,sanitize:!0,sanitizeFn:null,selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',title:"",trigger:"hover focus"},fn={allowList:"object",animation:"boolean",boundary:"(string|element)",container:"(string|element|boolean)",customClass:"(string|function)",delay:"(number|object)",fallbackPlacements:"array",html:"boolean",offset:"(array|string|function)",placement:"(string|function)",popperConfig:"(null|object|function)",sanitize:"boolean",sanitizeFn:"(null|function)",selector:"(string|boolean)",template:"string",title:"(string|element|function)",trigger:"string"};class xn extends Ie{constructor(r,l){if(qi===void 0)throw new TypeError("Bootstrap's tooltips require Popper (https://popper.js.org)");super(r,l),this._isEnabled=!0,this._timeout=0,this._isHovered=null,this._activeTrigger={},this._popper=null,this._templateFactory=null,this._newContent=null,this.tip=null,this._setListeners()}static get Default(){return dn}static get DefaultType(){return fn}static get NAME(){return"tooltip"}enable(){this._isEnabled=!0}disable(){this._isEnabled=!1}toggleEnabled(){this._isEnabled=!this._isEnabled}toggle(r){if(this._isEnabled){if(r){const l=this._initializeOnDelegatedTarget(r);return l._activeTrigger.click=!l._activeTrigger.click,void(l._isWithActiveTrigger()?l._enter():l._leave())}this._isShown()?this._leave():this._enter()}}dispose(){clearTimeout(this._timeout),F.off(this._element.closest(ur),dr,this._hideModalHandler),this.tip&&this.tip.remove(),this._config.originalTitle&&this._element.setAttribute("title",this._config.originalTitle),this._disposePopper(),super.dispose()}show(){if(this._element.style.display==="none")throw new Error("Please use show on visible elements");if(!this._isWithContent()||!this._isEnabled)return;const r=F.trigger(this._element,this.constructor.eventName("show")),l=(T(this._element)||this._element.ownerDocument.documentElement).contains(this._element);if(r.defaultPrevented||!l)return;this.tip&&(this.tip.remove(),this.tip=null);const E=this._getTipElement();this._element.setAttribute("aria-describedby",E.getAttribute("id"));const{container:I}=this._config;if(this._element.ownerDocument.documentElement.contains(this.tip)||(I.append(E),F.trigger(this._element,this.constructor.eventName("inserted"))),this._popper?this._popper.update():this._popper=this._createPopper(E),E.classList.add(Yi),"ontouchstart"in document.documentElement)for(const S of[].concat(...document.body.children))F.on(S,"mouseover",b);this._queueCallback(()=>{F.trigger(this._element,this.constructor.eventName("shown")),this._isHovered===!1&&this._leave(),this._isHovered=!1},this.tip,this._isAnimated())}hide(){if(!this._isShown()||F.trigger(this._element,this.constructor.eventName("hide")).defaultPrevented)return;const r=this._getTipElement();if(r.classList.remove(Yi),"ontouchstart"in document.documentElement)for(const l of[].concat(...document.body.children))F.off(l,"mouseover",b);this._activeTrigger.click=!1,this._activeTrigger.focus=!1,this._activeTrigger.hover=!1,this._isHovered=null,this._queueCallback(()=>{this._isWithActiveTrigger()||(this._isHovered||r.remove(),this._element.removeAttribute("aria-describedby"),F.trigger(this._element,this.constructor.eventName("hidden")),this._disposePopper())},this.tip,this._isAnimated())}update(){this._popper&&this._popper.update()}_isWithContent(){return Boolean(this._getTitle())}_getTipElement(){return this.tip||(this.tip=this._createTipElement(this._newContent||this._getContentForTemplate())),this.tip}_createTipElement(r){const l=this._getTemplateFactory(r).toHtml();if(!l)return null;l.classList.remove(Zn,Yi),l.classList.add(`bs-${this.constructor.NAME}-auto`);const E=(I=>{do I+=Math.floor(1e6*Math.random());while(document.getElementById(I));return I})(this.constructor.NAME).toString();return l.setAttribute("id",E),this._isAnimated()&&l.classList.add(Zn),l}setContent(r){this._newContent=r,this._isShown()&&(this._disposePopper(),this.show())}_getTemplateFactory(r){return this._templateFactory?this._templateFactory.changeContent(r):this._templateFactory=new to({...this._config,content:r,extraClass:this._resolvePossibleFunction(this._config.customClass)}),this._templateFactory}_getContentForTemplate(){return{".tooltip-inner":this._getTitle()}}_getTitle(){return this._resolvePossibleFunction(this._config.title)||this._config.originalTitle}_initializeOnDelegatedTarget(r){return this.constructor.getOrCreateInstance(r.delegateTarget,this._getDelegateConfig())}_isAnimated(){return this._config.animation||this.tip&&this.tip.classList.contains(Zn)}_isShown(){return this.tip&&this.tip.classList.contains(Yi)}_createPopper(r){const l=typeof this._config.placement=="function"?this._config.placement.call(this,r,this._element):this._config.placement,E=Ss[l.toUpperCase()];return Vi(this._element,r,this._getPopperConfig(E))}_getOffset(){const{offset:r}=this._config;return typeof r=="string"?r.split(",").map(l=>Number.parseInt(l,10)):typeof r=="function"?l=>r(l,this._element):r}_resolvePossibleFunction(r){return typeof r=="function"?r.call(this._element):r}_getPopperConfig(r){const l={placement:r,modifiers:[{name:"flip",options:{fallbackPlacements:this._config.fallbackPlacements}},{name:"offset",options:{offset:this._getOffset()}},{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"arrow",options:{element:`.${this.constructor.NAME}-arrow`}},{name:"preSetPlacement",enabled:!0,phase:"beforeMain",fn:E=>{this._getTipElement().setAttribute("data-popper-placement",E.state.placement)}}]};return{...l,...typeof this._config.popperConfig=="function"?this._config.popperConfig(l):this._config.popperConfig}}_setListeners(){const r=this._config.trigger.split(" ");for(const l of r)if(l==="click")F.on(this._element,this.constructor.eventName("click"),this._config.selector,E=>this.toggle(E));else if(l!=="manual"){const E=l===In?this.constructor.eventName("mouseenter"):this.constructor.eventName("focusin"),I=l===In?this.constructor.eventName("mouseleave"):this.constructor.eventName("focusout");F.on(this._element,E,this._config.selector,S=>{const M=this._initializeOnDelegatedTarget(S);M._activeTrigger[S.type==="focusin"?fr:In]=!0,M._enter()}),F.on(this._element,I,this._config.selector,S=>{const M=this._initializeOnDelegatedTarget(S);M._activeTrigger[S.type==="focusout"?fr:In]=M._element.contains(S.relatedTarget),M._leave()})}this._hideModalHandler=()=>{this._element&&this.hide()},F.on(this._element.closest(ur),dr,this._hideModalHandler),this._config.selector?this._config={...this._config,trigger:"manual",selector:""}:this._fixTitle()}_fixTitle(){const r=this._config.originalTitle;r&&(this._element.getAttribute("aria-label")||this._element.textContent.trim()||this._element.setAttribute("aria-label",r),this._element.removeAttribute("title"))}_enter(){this._isShown()||this._isHovered?this._isHovered=!0:(this._isHovered=!0,this._setTimeout(()=>{this._isHovered&&this.show()},this._config.delay.show))}_leave(){this._isWithActiveTrigger()||(this._isHovered=!1,this._setTimeout(()=>{this._isHovered||this.hide()},this._config.delay.hide))}_setTimeout(r,l){clearTimeout(this._timeout),this._timeout=setTimeout(r,l)}_isWithActiveTrigger(){return Object.values(this._activeTrigger).includes(!0)}_getConfig(r){const l=Fe.getDataAttributes(this._element);for(const E of Object.keys(l))no.has(E)&&delete l[E];return r={...l,...typeof r=="object"&&r?r:{}},r=this._mergeConfigObj(r),r=this._configAfterMerge(r),this._typeCheckConfig(r),r}_configAfterMerge(r){return r.container=r.container===!1?document.body:d(r.container),typeof r.delay=="number"&&(r.delay={show:r.delay,hide:r.delay}),r.originalTitle=this._element.getAttribute("title")||"",typeof r.title=="number"&&(r.title=r.title.toString()),typeof r.content=="number"&&(r.content=r.content.toString()),r}_getDelegateConfig(){const r={};for(const l in this._config)this.constructor.Default[l]!==this._config[l]&&(r[l]=this._config[l]);return r}_disposePopper(){this._popper&&(this._popper.destroy(),this._popper=null)}static jQueryInterface(r){return this.each(function(){const l=xn.getOrCreateInstance(this,r);if(typeof r=="string"){if(l[r]===void 0)throw new TypeError(`No method named "${r}"`);l[r]()}})}}D(xn);const hr={...xn.Default,content:"",offset:[0,8],placement:"right",template:'<div class="popover" role="tooltip"><div class="popover-arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>',trigger:"click"},pr={...xn.DefaultType,content:"(null|string|element|function)"};class Xi extends xn{static get Default(){return hr}static get DefaultType(){return pr}static get NAME(){return"popover"}_isWithContent(){return this._getTitle()||this._getContent()}_getContentForTemplate(){return{".popover-header":this._getTitle(),".popover-body":this._getContent()}}_getContent(){return this._resolvePossibleFunction(this._config.content)}static jQueryInterface(r){return this.each(function(){const l=Xi.getOrCreateInstance(this,r);if(typeof r=="string"){if(l[r]===void 0)throw new TypeError(`No method named "${r}"`);l[r]()}})}}D(Xi);const He="click.bs.scrollspy",Sn="active",Mt="[href]",Nt={offset:null,rootMargin:"0px 0px -25%",smoothScroll:!1,target:null,threshold:[.1,.5,1]},Cs={offset:"(number|null)",rootMargin:"string",smoothScroll:"boolean",target:"element",threshold:"array"};class Qn extends Ie{constructor(r,l){super(r,l),this._targetLinks=new Map,this._observableSections=new Map,this._rootElement=getComputedStyle(this._element).overflowY==="visible"?null:this._element,this._activeTarget=null,this._observer=null,this._previousScrollData={visibleEntryTop:0,parentScrollTop:0},this.refresh()}static get Default(){return Nt}static get DefaultType(){return Cs}static get NAME(){return"scrollspy"}refresh(){this._initializeTargetsAndObservables(),this._maybeEnableSmoothScroll(),this._observer?this._observer.disconnect():this._observer=this._getNewObserver();for(const r of this._observableSections.values())this._observer.observe(r)}dispose(){this._observer.disconnect(),super.dispose()}_configAfterMerge(r){return r.target=d(r.target)||document.body,r.rootMargin=r.offset?`${r.offset}px 0px -30%`:r.rootMargin,typeof r.threshold=="string"&&(r.threshold=r.threshold.split(",").map(l=>Number.parseFloat(l))),r}_maybeEnableSmoothScroll(){this._config.smoothScroll&&(F.off(this._config.target,He),F.on(this._config.target,He,Mt,r=>{const l=this._observableSections.get(r.target.hash);if(l){r.preventDefault();const E=this._rootElement||window,I=l.offsetTop-this._element.offsetTop;if(E.scrollTo)return void E.scrollTo({top:I,behavior:"smooth"});E.scrollTop=I}}))}_getNewObserver(){const r={root:this._rootElement,threshold:this._config.threshold,rootMargin:this._config.rootMargin};return new IntersectionObserver(l=>this._observerCallback(l),r)}_observerCallback(r){const l=M=>this._targetLinks.get(`#${M.target.id}`),E=M=>{this._previousScrollData.visibleEntryTop=M.target.offsetTop,this._process(l(M))},I=(this._rootElement||document.documentElement).scrollTop,S=I>=this._previousScrollData.parentScrollTop;this._previousScrollData.parentScrollTop=I;for(const M of r){if(!M.isIntersecting){this._activeTarget=null,this._clearActiveClass(l(M));continue}const U=M.target.offsetTop>=this._previousScrollData.visibleEntryTop;if(S&&U){if(E(M),!I)return}else S||U||E(M)}}_initializeTargetsAndObservables(){this._targetLinks=new Map,this._observableSections=new Map;const r=Ce.find(Mt,this._config.target);for(const l of r){if(!l.hash||m(l))continue;const E=Ce.findOne(l.hash,this._element);g(E)&&(this._targetLinks.set(l.hash,l),this._observableSections.set(l.hash,E))}}_process(r){this._activeTarget!==r&&(this._clearActiveClass(this._config.target),this._activeTarget=r,r.classList.add(Sn),this._activateParents(r),F.trigger(this._element,"activate.bs.scrollspy",{relatedTarget:r}))}_activateParents(r){if(r.classList.contains("dropdown-item"))Ce.findOne(".dropdown-toggle",r.closest(".dropdown")).classList.add(Sn);else for(const l of Ce.parents(r,".nav, .list-group"))for(const E of Ce.prev(l,".nav-link, .nav-item > .nav-link, .list-group-item"))E.classList.add(Sn)}_clearActiveClass(r){r.classList.remove(Sn);const l=Ce.find("[href].active",r);for(const E of l)E.classList.remove(Sn)}static jQueryInterface(r){return this.each(function(){const l=Qn.getOrCreateInstance(this,r);if(typeof r=="string"){if(l[r]===void 0||r.startsWith("_")||r==="constructor")throw new TypeError(`No method named "${r}"`);l[r]()}})}}F.on(window,"load.bs.scrollspy.data-api",()=>{for(const p of Ce.find('[data-bs-spy="scroll"]'))Qn.getOrCreateInstance(p)}),D(Qn);const io="ArrowLeft",gr="ArrowRight",mr="ArrowUp",Cn="ArrowDown",zn="active",As="fade",Kn="show",_i='[data-bs-toggle="tab"], [data-bs-toggle="pill"], [data-bs-toggle="list"]',Ei=`.nav-link:not(.dropdown-toggle), .list-group-item:not(.dropdown-toggle), [role="tab"]:not(.dropdown-toggle), ${_i}`;class Vn extends Ie{constructor(r){super(r),this._parent=this._element.closest('.list-group, .nav, [role="tablist"]'),this._parent&&(this._setInitialAttributes(this._parent,this._getChildren()),F.on(this._element,"keydown.bs.tab",l=>this._keydown(l)))}static get NAME(){return"tab"}show(){const r=this._element;if(this._elemIsActive(r))return;const l=this._getActiveElem(),E=l?F.trigger(l,"hide.bs.tab",{relatedTarget:r}):null;F.trigger(r,"show.bs.tab",{relatedTarget:l}).defaultPrevented||E&&E.defaultPrevented||(this._deactivate(l,r),this._activate(r,l))}_activate(r,l){r&&(r.classList.add(zn),this._activate(i(r)),this._queueCallback(()=>{r.getAttribute("role")==="tab"?(r.focus(),r.removeAttribute("tabindex"),r.setAttribute("aria-selected",!0),this._toggleDropDown(r,!0),F.trigger(r,"shown.bs.tab",{relatedTarget:l})):r.classList.add(Kn)},r,r.classList.contains(As)))}_deactivate(r,l){r&&(r.classList.remove(zn),r.blur(),this._deactivate(i(r)),this._queueCallback(()=>{r.getAttribute("role")==="tab"?(r.setAttribute("aria-selected",!1),r.setAttribute("tabindex","-1"),this._toggleDropDown(r,!1),F.trigger(r,"hidden.bs.tab",{relatedTarget:l})):r.classList.remove(Kn)},r,r.classList.contains(As)))}_keydown(r){if(![io,gr,mr,Cn].includes(r.key))return;r.stopPropagation(),r.preventDefault();const l=[gr,Cn].includes(r.key),E=B(this._getChildren().filter(I=>!m(I)),r.target,l,!0);E&&Vn.getOrCreateInstance(E).show()}_getChildren(){return Ce.find(Ei,this._parent)}_getActiveElem(){return this._getChildren().find(r=>this._elemIsActive(r))||null}_setInitialAttributes(r,l){this._setAttributeIfNotExists(r,"role","tablist");for(const E of l)this._setInitialAttributesOnChild(E)}_setInitialAttributesOnChild(r){r=this._getInnerElement(r);const l=this._elemIsActive(r),E=this._getOuterElement(r);r.setAttribute("aria-selected",l),E!==r&&this._setAttributeIfNotExists(E,"role","presentation"),l||r.setAttribute("tabindex","-1"),this._setAttributeIfNotExists(r,"role","tab"),this._setInitialAttributesOnTargetPanel(r)}_setInitialAttributesOnTargetPanel(r){const l=i(r);l&&(this._setAttributeIfNotExists(l,"role","tabpanel"),r.id&&this._setAttributeIfNotExists(l,"aria-labelledby",`#${r.id}`))}_toggleDropDown(r,l){const E=this._getOuterElement(r);if(!E.classList.contains("dropdown"))return;const I=(S,M)=>{const U=Ce.findOne(S,E);U&&U.classList.toggle(M,l)};I(".dropdown-toggle",zn),I(".dropdown-menu",Kn),I(".dropdown-item",zn),E.setAttribute("aria-expanded",l)}_setAttributeIfNotExists(r,l,E){r.hasAttribute(l)||r.setAttribute(l,E)}_elemIsActive(r){return r.classList.contains(zn)}_getInnerElement(r){return r.matches(Ei)?r:Ce.findOne(Ei,r)}_getOuterElement(r){return r.closest(".nav-item, .list-group-item")||r}static jQueryInterface(r){return this.each(function(){const l=Vn.getOrCreateInstance(this);if(typeof r=="string"){if(l[r]===void 0||r.startsWith("_")||r==="constructor")throw new TypeError(`No method named "${r}"`);l[r]()}})}}F.on(document,"click.bs.tab",_i,function(p){["A","AREA"].includes(this.tagName)&&p.preventDefault(),m(this)||Vn.getOrCreateInstance(this).show()}),F.on(window,"load.bs.tab",()=>{for(const p of Ce.find('.active[data-bs-toggle="tab"], .active[data-bs-toggle="pill"], .active[data-bs-toggle="list"]'))Vn.getOrCreateInstance(p)}),D(Vn);const vi="hide",Jn="show",ei="showing",so={animation:"boolean",autohide:"boolean",delay:"number"},w={animation:!0,autohide:!0,delay:5e3};class R extends Ie{constructor(r,l){super(r,l),this._timeout=null,this._hasMouseInteraction=!1,this._hasKeyboardInteraction=!1,this._setListeners()}static get Default(){return w}static get DefaultType(){return so}static get NAME(){return"toast"}show(){F.trigger(this._element,"show.bs.toast").defaultPrevented||(this._clearTimeout(),this._config.animation&&this._element.classList.add("fade"),this._element.classList.remove(vi),A(this._element),this._element.classList.add(Jn,ei),this._queueCallback(()=>{this._element.classList.remove(ei),F.trigger(this._element,"shown.bs.toast"),this._maybeScheduleHide()},this._element,this._config.animation))}hide(){this.isShown()&&(F.trigger(this._element,"hide.bs.toast").defaultPrevented||(this._element.classList.add(ei),this._queueCallback(()=>{this._element.classList.add(vi),this._element.classList.remove(ei,Jn),F.trigger(this._element,"hidden.bs.toast")},this._element,this._config.animation)))}dispose(){this._clearTimeout(),this.isShown()&&this._element.classList.remove(Jn),super.dispose()}isShown(){return this._element.classList.contains(Jn)}_maybeScheduleHide(){this._config.autohide&&(this._hasMouseInteraction||this._hasKeyboardInteraction||(this._timeout=setTimeout(()=>{this.hide()},this._config.delay)))}_onInteraction(r,l){switch(r.type){case"mouseover":case"mouseout":this._hasMouseInteraction=l;break;case"focusin":case"focusout":this._hasKeyboardInteraction=l}if(l)return void this._clearTimeout();const E=r.relatedTarget;this._element===E||this._element.contains(E)||this._maybeScheduleHide()}_setListeners(){F.on(this._element,"mouseover.bs.toast",r=>this._onInteraction(r,!0)),F.on(this._element,"mouseout.bs.toast",r=>this._onInteraction(r,!1)),F.on(this._element,"focusin.bs.toast",r=>this._onInteraction(r,!0)),F.on(this._element,"focusout.bs.toast",r=>this._onInteraction(r,!1))}_clearTimeout(){clearTimeout(this._timeout),this._timeout=null}static jQueryInterface(r){return this.each(function(){const l=R.getOrCreateInstance(this,r);if(typeof r=="string"){if(l[r]===void 0)throw new TypeError(`No method named "${r}"`);l[r](this)}})}}return We(R),D(R),{Alert:Ze,Button:Xe,Carousel:Pt,Collapse:Bt,Dropdown:_,Modal:It,Offcanvas:Re,Popover:Xi,ScrollSpy:Qn,Tab:Vn,Toast:R,Tooltip:xn}});document.addEventListener("DOMContentLoaded",()=>{Fancybox.bind("[data-fancybox]",{}),Fancybox.bind("img.data-fancybox",{}),Fancybox.bind(".data-fancybox img",{}),$(".alert-click-hide").on("click",function(){$(this).fadeOut()}),toastr.options={progressBar:!0,preventDuplicates:!0,newestOnTop:!0,positionClass:"toast-top-left",timeOut:1e4},toastr,new Favico({bgColor:"#dc0000",textColor:"#fff",animation:"slide",fontStyle:"bold",fontFamily:"sans",type:"circle"})});export{Fp as $,Bp as F,Pe as R,Gp as a,Lo as b,Lp as c,Mp as d,kp as f,Rp as p,il as r,Mo as s,$p as t};
